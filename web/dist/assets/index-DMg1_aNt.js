var aA=Object.defineProperty;var uA=(n,e,t)=>e in n?aA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Gt=(n,e,t)=>uA(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qf(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Vw={exports:{}},Gf={},$w={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),lA=Symbol.for("react.portal"),cA=Symbol.for("react.fragment"),fA=Symbol.for("react.strict_mode"),hA=Symbol.for("react.profiler"),dA=Symbol.for("react.provider"),pA=Symbol.for("react.context"),mA=Symbol.for("react.forward_ref"),gA=Symbol.for("react.suspense"),yA=Symbol.for("react.memo"),wA=Symbol.for("react.lazy"),Hg=Symbol.iterator;function vA(n){return n===null||typeof n!="object"?null:(n=Hg&&n[Hg]||n["@@iterator"],typeof n=="function"?n:null)}var qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gw=Object.assign,Zw={};function Ja(n,e,t){this.props=n,this.context=e,this.refs=Zw,this.updater=t||qw}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ja.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Yw(){}Yw.prototype=Ja.prototype;function Hp(n,e,t){this.props=n,this.context=e,this.refs=Zw,this.updater=t||qw}var Kp=Hp.prototype=new Yw;Kp.constructor=Hp;Gw(Kp,Ja.prototype);Kp.isPureReactComponent=!0;var Kg=Array.isArray,Xw=Object.prototype.hasOwnProperty,jp={current:null},Qw={key:!0,ref:!0,__self:!0,__source:!0};function Jw(n,e,t){var r,o={},i=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(i=""+e.key),e)Xw.call(e,r)&&!Qw.hasOwnProperty(r)&&(o[r]=e[r]);var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){for(var h=Array(c),w=0;w<c;w++)h[w]=arguments[w+2];o.children=h}if(n&&n.defaultProps)for(r in c=n.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Sl,type:n,key:i,ref:u,props:o,_owner:jp.current}}function _A(n,e){return{$$typeof:Sl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Vp(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sl}function EA(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var jg=/\/+/g;function Hh(n,e){return typeof n=="object"&&n!==null&&n.key!=null?EA(""+n.key):e.toString(36)}function Ec(n,e,t,r,o){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var u=!1;if(n===null)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case Sl:case lA:u=!0}}if(u)return u=n,o=o(u),n=r===""?"."+Hh(u,0):r,Kg(o)?(t="",n!=null&&(t=n.replace(jg,"$&/")+"/"),Ec(o,e,t,"",function(w){return w})):o!=null&&(Vp(o)&&(o=_A(o,t+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(jg,"$&/")+"/")+n)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Kg(n))for(var c=0;c<n.length;c++){i=n[c];var h=r+Hh(i,c);u+=Ec(i,e,t,h,o)}else if(h=vA(n),typeof h=="function")for(n=h.call(n),c=0;!(i=n.next()).done;)i=i.value,h=r+Hh(i,c++),u+=Ec(i,e,t,h,o);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Fl(n,e,t){if(n==null)return n;var r=[],o=0;return Ec(n,r,"","",function(i){return e.call(t,i,o++)}),r}function bA(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var nr={current:null},bc={transition:null},SA={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:bc,ReactCurrentOwner:jp};function ev(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Fl,forEach:function(n,e,t){Fl(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Fl(n,function(){e++}),e},toArray:function(n){return Fl(n,function(e){return e})||[]},only:function(n){if(!Vp(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};it.Component=Ja;it.Fragment=cA;it.Profiler=hA;it.PureComponent=Hp;it.StrictMode=fA;it.Suspense=gA;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SA;it.act=ev;it.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=Gw({},n.props),o=n.key,i=n.ref,u=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,u=jp.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var c=n.type.defaultProps;for(h in e)Xw.call(e,h)&&!Qw.hasOwnProperty(h)&&(r[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)r.children=t;else if(1<h){c=Array(h);for(var w=0;w<h;w++)c[w]=arguments[w+2];r.children=c}return{$$typeof:Sl,type:n.type,key:o,ref:i,props:r,_owner:u}};it.createContext=function(n){return n={$$typeof:pA,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:dA,_context:n},n.Consumer=n};it.createElement=Jw;it.createFactory=function(n){var e=Jw.bind(null,n);return e.type=n,e};it.createRef=function(){return{current:null}};it.forwardRef=function(n){return{$$typeof:mA,render:n}};it.isValidElement=Vp;it.lazy=function(n){return{$$typeof:wA,_payload:{_status:-1,_result:n},_init:bA}};it.memo=function(n,e){return{$$typeof:yA,type:n,compare:e===void 0?null:e}};it.startTransition=function(n){var e=bc.transition;bc.transition={};try{n()}finally{bc.transition=e}};it.unstable_act=ev;it.useCallback=function(n,e){return nr.current.useCallback(n,e)};it.useContext=function(n){return nr.current.useContext(n)};it.useDebugValue=function(){};it.useDeferredValue=function(n){return nr.current.useDeferredValue(n)};it.useEffect=function(n,e){return nr.current.useEffect(n,e)};it.useId=function(){return nr.current.useId()};it.useImperativeHandle=function(n,e,t){return nr.current.useImperativeHandle(n,e,t)};it.useInsertionEffect=function(n,e){return nr.current.useInsertionEffect(n,e)};it.useLayoutEffect=function(n,e){return nr.current.useLayoutEffect(n,e)};it.useMemo=function(n,e){return nr.current.useMemo(n,e)};it.useReducer=function(n,e,t){return nr.current.useReducer(n,e,t)};it.useRef=function(n){return nr.current.useRef(n)};it.useState=function(n){return nr.current.useState(n)};it.useSyncExternalStore=function(n,e,t){return nr.current.useSyncExternalStore(n,e,t)};it.useTransition=function(){return nr.current.useTransition()};it.version="18.3.1";$w.exports=it;var ce=$w.exports;const le=oo(ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MA=ce,AA=Symbol.for("react.element"),RA=Symbol.for("react.fragment"),xA=Object.prototype.hasOwnProperty,kA=MA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IA={key:!0,ref:!0,__self:!0,__source:!0};function tv(n,e,t){var r,o={},i=null,u=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)xA.call(e,r)&&!IA.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:AA,type:n,key:i,ref:u,props:o,_owner:kA.current}}Gf.Fragment=RA;Gf.jsx=tv;Gf.jsxs=tv;Vw.exports=Gf;var zt=Vw.exports,o0={},nv={exports:{}},Ir={},rv={exports:{}},iv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(g,v){var E=g.length;g.push(v);e:for(;0<E;){var d=E-1>>>1,a=g[d];if(0<o(a,v))g[d]=v,g[E]=a,E=d;else break e}}function t(g){return g.length===0?null:g[0]}function r(g){if(g.length===0)return null;var v=g[0],E=g.pop();if(E!==v){g[0]=E;e:for(var d=0,a=g.length,y=a>>>1;d<y;){var W=2*(d+1)-1,D=g[W],K=W+1,ae=g[K];if(0>o(D,E))K<a&&0>o(ae,D)?(g[d]=ae,g[K]=E,d=K):(g[d]=D,g[W]=E,d=W);else if(K<a&&0>o(ae,E))g[d]=ae,g[K]=E,d=K;else break e}}return v}function o(g,v){var E=g.sortIndex-v.sortIndex;return E!==0?E:g.id-v.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var h=[],w=[],_=1,A=null,R=3,b=!1,x=!1,C=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(g){for(var v=t(w);v!==null;){if(v.callback===null)r(w);else if(v.startTime<=g)r(w),v.sortIndex=v.expirationTime,e(h,v);else break;v=t(w)}}function B(g){if(C=!1,I(g),!x)if(t(h)!==null)x=!0,f(P);else{var v=t(w);v!==null&&p(B,v.startTime-g)}}function P(g,v){x=!1,C&&(C=!1,k(j),j=-1),b=!0;var E=R;try{for(I(v),A=t(h);A!==null&&(!(A.expirationTime>v)||g&&!H());){var d=A.callback;if(typeof d=="function"){A.callback=null,R=A.priorityLevel;var a=d(A.expirationTime<=v);v=n.unstable_now(),typeof a=="function"?A.callback=a:A===t(h)&&r(h),I(v)}else r(h);A=t(h)}if(A!==null)var y=!0;else{var W=t(w);W!==null&&p(B,W.startTime-v),y=!1}return y}finally{A=null,R=E,b=!1}}var U=!1,F=null,j=-1,V=5,G=-1;function H(){return!(n.unstable_now()-G<V)}function Z(){if(F!==null){var g=n.unstable_now();G=g;var v=!0;try{v=F(!0,g)}finally{v?m():(U=!1,F=null)}}else U=!1}var m;if(typeof T=="function")m=function(){T(Z)};else if(typeof MessageChannel<"u"){var s=new MessageChannel,l=s.port2;s.port1.onmessage=Z,m=function(){l.postMessage(null)}}else m=function(){O(Z,0)};function f(g){F=g,U||(U=!0,m())}function p(g,v){j=O(function(){g(n.unstable_now())},v)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(g){g.callback=null},n.unstable_continueExecution=function(){x||b||(x=!0,f(P))},n.unstable_forceFrameRate=function(g){0>g||125<g?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<g?Math.floor(1e3/g):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(g){switch(R){case 1:case 2:case 3:var v=3;break;default:v=R}var E=R;R=v;try{return g()}finally{R=E}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(g,v){switch(g){case 1:case 2:case 3:case 4:case 5:break;default:g=3}var E=R;R=g;try{return v()}finally{R=E}},n.unstable_scheduleCallback=function(g,v,E){var d=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?d+E:d):E=d,g){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return a=E+a,g={id:_++,callback:v,priorityLevel:g,startTime:E,expirationTime:a,sortIndex:-1},E>d?(g.sortIndex=E,e(w,g),t(h)===null&&g===t(w)&&(C?(k(j),j=-1):C=!0,p(B,E-d))):(g.sortIndex=a,e(h,g),x||b||(x=!0,f(P))),g},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(g){var v=R;return function(){var E=R;R=v;try{return g.apply(this,arguments)}finally{R=E}}}})(iv);rv.exports=iv;var TA=rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=ce,kr=TA;function ue(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ov=new Set,Zu={};function Us(n,e){Ba(n,e),Ba(n+"Capture",e)}function Ba(n,e){for(Zu[n]=e,n=0;n<e.length;n++)ov.add(e[n])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s0=Object.prototype.hasOwnProperty,CA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vg={},$g={};function OA(n){return s0.call($g,n)?!0:s0.call(Vg,n)?!1:CA.test(n)?$g[n]=!0:(Vg[n]=!0,!1)}function BA(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function LA(n,e,t,r){if(e===null||typeof e>"u"||BA(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rr(n,e,t,r,o,i,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=u}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_n[n]=new rr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];_n[e]=new rr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){_n[n]=new rr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_n[n]=new rr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_n[n]=new rr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){_n[n]=new rr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){_n[n]=new rr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){_n[n]=new rr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){_n[n]=new rr(n,5,!1,n.toLowerCase(),null,!1,!1)});var $p=/[\-:]([a-z])/g;function qp(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace($p,qp);_n[e]=new rr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace($p,qp);_n[e]=new rr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace($p,qp);_n[e]=new rr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){_n[n]=new rr(n,1,!1,n.toLowerCase(),null,!1,!1)});_n.xlinkHref=new rr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){_n[n]=new rr(n,1,!1,n.toLowerCase(),null,!0,!0)});function Gp(n,e,t,r){var o=_n.hasOwnProperty(e)?_n[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LA(e,t,o,r)&&(t=null),r||o===null?OA(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,r=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var so=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),sa=Symbol.for("react.portal"),aa=Symbol.for("react.fragment"),Zp=Symbol.for("react.strict_mode"),a0=Symbol.for("react.profiler"),sv=Symbol.for("react.provider"),av=Symbol.for("react.context"),Yp=Symbol.for("react.forward_ref"),u0=Symbol.for("react.suspense"),l0=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),uv=Symbol.for("react.offscreen"),qg=Symbol.iterator;function cu(n){return n===null||typeof n!="object"?null:(n=qg&&n[qg]||n["@@iterator"],typeof n=="function"?n:null)}var Pt=Object.assign,Kh;function bu(n){if(Kh===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Kh=e&&e[1]||""}return`
`+Kh+n}var jh=!1;function Vh(n,e){if(!n||jh)return"";jh=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(w){var r=w}Reflect.construct(n,[],e)}else{try{e.call()}catch(w){r=w}n.call(e.prototype)}else{try{throw Error()}catch(w){r=w}n()}}catch(w){if(w&&r&&typeof w.stack=="string"){for(var o=w.stack.split(`
`),i=r.stack.split(`
`),u=o.length-1,c=i.length-1;1<=u&&0<=c&&o[u]!==i[c];)c--;for(;1<=u&&0<=c;u--,c--)if(o[u]!==i[c]){if(u!==1||c!==1)do if(u--,c--,0>c||o[u]!==i[c]){var h=`
`+o[u].replace(" at new "," at ");return n.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",n.displayName)),h}while(1<=u&&0<=c);break}}}finally{jh=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?bu(n):""}function PA(n){switch(n.tag){case 5:return bu(n.type);case 16:return bu("Lazy");case 13:return bu("Suspense");case 19:return bu("SuspenseList");case 0:case 2:case 15:return n=Vh(n.type,!1),n;case 11:return n=Vh(n.type.render,!1),n;case 1:return n=Vh(n.type,!0),n;default:return""}}function c0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case aa:return"Fragment";case sa:return"Portal";case a0:return"Profiler";case Zp:return"StrictMode";case u0:return"Suspense";case l0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case av:return(n.displayName||"Context")+".Consumer";case sv:return(n._context.displayName||"Context")+".Provider";case Yp:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Xp:return e=n.displayName||null,e!==null?e:c0(n.type)||"Memo";case wo:e=n._payload,n=n._init;try{return c0(n(e))}catch{}}return null}function UA(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c0(e);case 8:return e===Zp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lv(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DA(n){var e=lv(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,i.call(this,u)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Hl(n){n._valueTracker||(n._valueTracker=DA(n))}function cv(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lv(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Jc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function f0(n,e){var t=e.checked;return Pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Gg(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=jo(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fv(n,e){e=e.checked,e!=null&&Gp(n,"checked",e,!1)}function h0(n,e){fv(n,e);var t=jo(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?d0(n,e.type,t):e.hasOwnProperty("defaultValue")&&d0(n,e.type,jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Zg(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function d0(n,e,t){(e!=="number"||Jc(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Su=Array.isArray;function ba(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+jo(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function p0(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Pt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Yg(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(ue(92));if(Su(t)){if(1<t.length)throw Error(ue(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:jo(t)}}function hv(n,e){var t=jo(e.value),r=jo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Xg(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function dv(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m0(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?dv(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kl,pv=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Yu(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zA=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(n){zA.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ou[e]=Ou[n]})});function mv(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ou.hasOwnProperty(n)&&Ou[n]?(""+e).trim():e+"px"}function gv(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,o=mv(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}var FA=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g0(n,e){if(e){if(FA[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function y0(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w0=null;function Qp(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var v0=null,Sa=null,Ma=null;function Qg(n){if(n=Rl(n)){if(typeof v0!="function")throw Error(ue(280));var e=n.stateNode;e&&(e=Jf(e),v0(n.stateNode,n.type,e))}}function yv(n){Sa?Ma?Ma.push(n):Ma=[n]:Sa=n}function wv(){if(Sa){var n=Sa,e=Ma;if(Ma=Sa=null,Qg(n),e)for(n=0;n<e.length;n++)Qg(e[n])}}function vv(n,e){return n(e)}function _v(){}var $h=!1;function Ev(n,e,t){if($h)return n(e,t);$h=!0;try{return vv(n,e,t)}finally{$h=!1,(Sa!==null||Ma!==null)&&(_v(),wv())}}function Xu(n,e){var t=n.stateNode;if(t===null)return null;var r=Jf(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(ue(231,e,typeof t));return t}var _0=!1;if(Xi)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){_0=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{_0=!1}function WA(n,e,t,r,o,i,u,c,h){var w=Array.prototype.slice.call(arguments,3);try{e.apply(t,w)}catch(_){this.onError(_)}}var Bu=!1,ef=null,tf=!1,E0=null,HA={onError:function(n){Bu=!0,ef=n}};function KA(n,e,t,r,o,i,u,c,h){Bu=!1,ef=null,WA.apply(HA,arguments)}function jA(n,e,t,r,o,i,u,c,h){if(KA.apply(this,arguments),Bu){if(Bu){var w=ef;Bu=!1,ef=null}else throw Error(ue(198));tf||(tf=!0,E0=w)}}function Ds(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function bv(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Jg(n){if(Ds(n)!==n)throw Error(ue(188))}function VA(n){var e=n.alternate;if(!e){if(e=Ds(n),e===null)throw Error(ue(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){t=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===t)return Jg(o),n;if(i===r)return Jg(o),e;i=i.sibling}throw Error(ue(188))}if(t.return!==r.return)t=o,r=i;else{for(var u=!1,c=o.child;c;){if(c===t){u=!0,t=o,r=i;break}if(c===r){u=!0,r=o,t=i;break}c=c.sibling}if(!u){for(c=i.child;c;){if(c===t){u=!0,t=i,r=o;break}if(c===r){u=!0,r=i,t=o;break}c=c.sibling}if(!u)throw Error(ue(189))}}if(t.alternate!==r)throw Error(ue(190))}if(t.tag!==3)throw Error(ue(188));return t.stateNode.current===t?n:e}function Sv(n){return n=VA(n),n!==null?Mv(n):null}function Mv(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Mv(n);if(e!==null)return e;n=n.sibling}return null}var Av=kr.unstable_scheduleCallback,ey=kr.unstable_cancelCallback,$A=kr.unstable_shouldYield,qA=kr.unstable_requestPaint,$t=kr.unstable_now,GA=kr.unstable_getCurrentPriorityLevel,Jp=kr.unstable_ImmediatePriority,Rv=kr.unstable_UserBlockingPriority,nf=kr.unstable_NormalPriority,ZA=kr.unstable_LowPriority,xv=kr.unstable_IdlePriority,Zf=null,Si=null;function YA(n){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(Zf,n,void 0,(n.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:JA,XA=Math.log,QA=Math.LN2;function JA(n){return n>>>=0,n===0?32:31-(XA(n)/QA|0)|0}var jl=64,Vl=4194304;function Mu(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rf(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,o=n.suspendedLanes,i=n.pingedLanes,u=t&268435455;if(u!==0){var c=u&~o;c!==0?r=Mu(c):(i&=u,i!==0&&(r=Mu(i)))}else u=t&~o,u!==0?r=Mu(u):i!==0&&(r=Mu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-si(e),o=1<<t,r|=n[t],e&=~o;return r}function eR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tR(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,i=n.pendingLanes;0<i;){var u=31-si(i),c=1<<u,h=o[u];h===-1?(!(c&t)||c&r)&&(o[u]=eR(c,e)):h<=e&&(n.expiredLanes|=c),i&=~c}}function b0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function kv(){var n=jl;return jl<<=1,!(jl&4194240)&&(jl=64),n}function qh(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ml(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-si(e),n[e]=t}function nR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-si(t),i=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~i}}function em(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-si(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var yt=0;function Iv(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Tv,tm,Nv,Cv,Ov,S0=!1,$l=[],Oo=null,Bo=null,Lo=null,Qu=new Map,Ju=new Map,bo=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ty(n,e){switch(n){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(e.pointerId)}}function hu(n,e,t,r,o,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=Rl(e),e!==null&&tm(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function iR(n,e,t,r,o){switch(e){case"focusin":return Oo=hu(Oo,n,e,t,r,o),!0;case"dragenter":return Bo=hu(Bo,n,e,t,r,o),!0;case"mouseover":return Lo=hu(Lo,n,e,t,r,o),!0;case"pointerover":var i=o.pointerId;return Qu.set(i,hu(Qu.get(i)||null,n,e,t,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ju.set(i,hu(Ju.get(i)||null,n,e,t,r,o)),!0}return!1}function Bv(n){var e=cs(n.target);if(e!==null){var t=Ds(e);if(t!==null){if(e=t.tag,e===13){if(e=bv(t),e!==null){n.blockedOn=e,Ov(n.priority,function(){Nv(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sc(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=M0(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);w0=r,t.target.dispatchEvent(r),w0=null}else return e=Rl(t),e!==null&&tm(e),n.blockedOn=t,!1;e.shift()}return!0}function ny(n,e,t){Sc(n)&&t.delete(e)}function oR(){S0=!1,Oo!==null&&Sc(Oo)&&(Oo=null),Bo!==null&&Sc(Bo)&&(Bo=null),Lo!==null&&Sc(Lo)&&(Lo=null),Qu.forEach(ny),Ju.forEach(ny)}function du(n,e){n.blockedOn===e&&(n.blockedOn=null,S0||(S0=!0,kr.unstable_scheduleCallback(kr.unstable_NormalPriority,oR)))}function el(n){function e(o){return du(o,n)}if(0<$l.length){du($l[0],n);for(var t=1;t<$l.length;t++){var r=$l[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Oo!==null&&du(Oo,n),Bo!==null&&du(Bo,n),Lo!==null&&du(Lo,n),Qu.forEach(e),Ju.forEach(e),t=0;t<bo.length;t++)r=bo[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<bo.length&&(t=bo[0],t.blockedOn===null);)Bv(t),t.blockedOn===null&&bo.shift()}var Aa=so.ReactCurrentBatchConfig,of=!0;function sR(n,e,t,r){var o=yt,i=Aa.transition;Aa.transition=null;try{yt=1,nm(n,e,t,r)}finally{yt=o,Aa.transition=i}}function aR(n,e,t,r){var o=yt,i=Aa.transition;Aa.transition=null;try{yt=4,nm(n,e,t,r)}finally{yt=o,Aa.transition=i}}function nm(n,e,t,r){if(of){var o=M0(n,e,t,r);if(o===null)rd(n,e,r,sf,t),ty(n,r);else if(iR(o,n,e,t,r))r.stopPropagation();else if(ty(n,r),e&4&&-1<rR.indexOf(n)){for(;o!==null;){var i=Rl(o);if(i!==null&&Tv(i),i=M0(n,e,t,r),i===null&&rd(n,e,r,sf,t),i===o)break;o=i}o!==null&&r.stopPropagation()}else rd(n,e,r,null,t)}}var sf=null;function M0(n,e,t,r){if(sf=null,n=Qp(r),n=cs(n),n!==null)if(e=Ds(n),e===null)n=null;else if(t=e.tag,t===13){if(n=bv(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return sf=n,null}function Lv(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GA()){case Jp:return 1;case Rv:return 4;case nf:case ZA:return 16;case xv:return 536870912;default:return 16}default:return 16}}var Ro=null,rm=null,Mc=null;function Pv(){if(Mc)return Mc;var n,e=rm,t=e.length,r,o="value"in Ro?Ro.value:Ro.textContent,i=o.length;for(n=0;n<t&&e[n]===o[n];n++);var u=t-n;for(r=1;r<=u&&e[t-r]===o[i-r];r++);return Mc=o.slice(n,1<r?1-r:void 0)}function Ac(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ql(){return!0}function ry(){return!1}function Tr(n){function e(t,r,o,i,u){this._reactName=t,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var c in n)n.hasOwnProperty(c)&&(t=n[c],this[c]=t?t(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ql:ry,this.isPropagationStopped=ry,this}return Pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Tr(eu),Al=Pt({},eu,{view:0,detail:0}),uR=Tr(Al),Gh,Zh,pu,Yf=Pt({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pu&&(pu&&n.type==="mousemove"?(Gh=n.screenX-pu.screenX,Zh=n.screenY-pu.screenY):Zh=Gh=0,pu=n),Gh)},movementY:function(n){return"movementY"in n?n.movementY:Zh}}),iy=Tr(Yf),lR=Pt({},Yf,{dataTransfer:0}),cR=Tr(lR),fR=Pt({},Al,{relatedTarget:0}),Yh=Tr(fR),hR=Pt({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),dR=Tr(hR),pR=Pt({},eu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mR=Tr(pR),gR=Pt({},eu,{data:0}),oy=Tr(gR),yR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _R(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=vR[n])?!!e[n]:!1}function om(){return _R}var ER=Pt({},Al,{key:function(n){if(n.key){var e=yR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ac(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(n){return n.type==="keypress"?Ac(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ac(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bR=Tr(ER),SR=Pt({},Yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sy=Tr(SR),MR=Pt({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),AR=Tr(MR),RR=Pt({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),xR=Tr(RR),kR=Pt({},Yf,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),IR=Tr(kR),TR=[9,13,27,32],sm=Xi&&"CompositionEvent"in window,Lu=null;Xi&&"documentMode"in document&&(Lu=document.documentMode);var NR=Xi&&"TextEvent"in window&&!Lu,Uv=Xi&&(!sm||Lu&&8<Lu&&11>=Lu),ay=" ",uy=!1;function Dv(n,e){switch(n){case"keyup":return TR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zv(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ua=!1;function CR(n,e){switch(n){case"compositionend":return zv(e);case"keypress":return e.which!==32?null:(uy=!0,ay);case"textInput":return n=e.data,n===ay&&uy?null:n;default:return null}}function OR(n,e){if(ua)return n==="compositionend"||!sm&&Dv(n,e)?(n=Pv(),Mc=rm=Ro=null,ua=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uv&&e.locale!=="ko"?null:e.data;default:return null}}var BR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!BR[n.type]:e==="textarea"}function Fv(n,e,t,r){yv(r),e=af(e,"onChange"),0<e.length&&(t=new im("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Pu=null,tl=null;function LR(n){Xv(n,0)}function Xf(n){var e=fa(n);if(cv(e))return n}function PR(n,e){if(n==="change")return e}var Wv=!1;if(Xi){var Xh;if(Xi){var Qh="oninput"in document;if(!Qh){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Qh=typeof cy.oninput=="function"}Xh=Qh}else Xh=!1;Wv=Xh&&(!document.documentMode||9<document.documentMode)}function fy(){Pu&&(Pu.detachEvent("onpropertychange",Hv),tl=Pu=null)}function Hv(n){if(n.propertyName==="value"&&Xf(tl)){var e=[];Fv(e,tl,n,Qp(n)),Ev(LR,e)}}function UR(n,e,t){n==="focusin"?(fy(),Pu=e,tl=t,Pu.attachEvent("onpropertychange",Hv)):n==="focusout"&&fy()}function DR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xf(tl)}function zR(n,e){if(n==="click")return Xf(e)}function FR(n,e){if(n==="input"||n==="change")return Xf(e)}function WR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var li=typeof Object.is=="function"?Object.is:WR;function nl(n,e){if(li(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!s0.call(e,o)||!li(n[o],e[o]))return!1}return!0}function hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dy(n,e){var t=hy(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=hy(t)}}function Kv(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Kv(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function jv(){for(var n=window,e=Jc();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Jc(n.document)}return e}function am(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function HR(n){var e=jv(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Kv(t.ownerDocument.documentElement,t)){if(r!==null&&am(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!n.extend&&i>r&&(o=r,r=i,i=o),o=dy(t,i);var u=dy(t,r);o&&u&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==u.node||n.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var KR=Xi&&"documentMode"in document&&11>=document.documentMode,la=null,A0=null,Uu=null,R0=!1;function py(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;R0||la==null||la!==Jc(r)||(r=la,"selectionStart"in r&&am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&nl(Uu,r)||(Uu=r,r=af(A0,"onSelect"),0<r.length&&(e=new im("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=la)))}function Gl(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ca={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Jh={},Vv={};Xi&&(Vv=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Qf(n){if(Jh[n])return Jh[n];if(!ca[n])return n;var e=ca[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Vv)return Jh[n]=e[t];return n}var $v=Qf("animationend"),qv=Qf("animationiteration"),Gv=Qf("animationstart"),Zv=Qf("transitionend"),Yv=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(n,e){Yv.set(n,e),Us(e,[n])}for(var ed=0;ed<my.length;ed++){var td=my[ed],jR=td.toLowerCase(),VR=td[0].toUpperCase()+td.slice(1);Zo(jR,"on"+VR)}Zo($v,"onAnimationEnd");Zo(qv,"onAnimationIteration");Zo(Gv,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(Zv,"onTransitionEnd");Ba("onMouseEnter",["mouseout","mouseover"]);Ba("onMouseLeave",["mouseout","mouseover"]);Ba("onPointerEnter",["pointerout","pointerover"]);Ba("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$R=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function gy(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,jA(r,e,void 0,n),n.currentTarget=null}function Xv(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var u=r.length-1;0<=u;u--){var c=r[u],h=c.instance,w=c.currentTarget;if(c=c.listener,h!==i&&o.isPropagationStopped())break e;gy(o,c,w),i=h}else for(u=0;u<r.length;u++){if(c=r[u],h=c.instance,w=c.currentTarget,c=c.listener,h!==i&&o.isPropagationStopped())break e;gy(o,c,w),i=h}}}if(tf)throw n=E0,tf=!1,E0=null,n}function At(n,e){var t=e[N0];t===void 0&&(t=e[N0]=new Set);var r=n+"__bubble";t.has(r)||(Qv(e,n,2,!1),t.add(r))}function nd(n,e,t){var r=0;e&&(r|=4),Qv(t,n,r,e)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function rl(n){if(!n[Zl]){n[Zl]=!0,ov.forEach(function(t){t!=="selectionchange"&&($R.has(t)||nd(t,!1,n),nd(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Zl]||(e[Zl]=!0,nd("selectionchange",!1,e))}}function Qv(n,e,t,r){switch(Lv(e)){case 1:var o=sR;break;case 4:o=aR;break;default:o=nm}t=o.bind(null,e,t,n),o=void 0,!_0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function rd(n,e,t,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;u=u.return}for(;c!==null;){if(u=cs(c),u===null)return;if(h=u.tag,h===5||h===6){r=i=u;continue e}c=c.parentNode}}r=r.return}Ev(function(){var w=i,_=Qp(t),A=[];e:{var R=Yv.get(n);if(R!==void 0){var b=im,x=n;switch(n){case"keypress":if(Ac(t)===0)break e;case"keydown":case"keyup":b=bR;break;case"focusin":x="focus",b=Yh;break;case"focusout":x="blur",b=Yh;break;case"beforeblur":case"afterblur":b=Yh;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=AR;break;case $v:case qv:case Gv:b=dR;break;case Zv:b=xR;break;case"scroll":b=uR;break;case"wheel":b=IR;break;case"copy":case"cut":case"paste":b=mR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=sy}var C=(e&4)!==0,O=!C&&n==="scroll",k=C?R!==null?R+"Capture":null:R;C=[];for(var T=w,I;T!==null;){I=T;var B=I.stateNode;if(I.tag===5&&B!==null&&(I=B,k!==null&&(B=Xu(T,k),B!=null&&C.push(il(T,B,I)))),O)break;T=T.return}0<C.length&&(R=new b(R,x,null,t,_),A.push({event:R,listeners:C}))}}if(!(e&7)){e:{if(R=n==="mouseover"||n==="pointerover",b=n==="mouseout"||n==="pointerout",R&&t!==w0&&(x=t.relatedTarget||t.fromElement)&&(cs(x)||x[Qi]))break e;if((b||R)&&(R=_.window===_?_:(R=_.ownerDocument)?R.defaultView||R.parentWindow:window,b?(x=t.relatedTarget||t.toElement,b=w,x=x?cs(x):null,x!==null&&(O=Ds(x),x!==O||x.tag!==5&&x.tag!==6)&&(x=null)):(b=null,x=w),b!==x)){if(C=iy,B="onMouseLeave",k="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(C=sy,B="onPointerLeave",k="onPointerEnter",T="pointer"),O=b==null?R:fa(b),I=x==null?R:fa(x),R=new C(B,T+"leave",b,t,_),R.target=O,R.relatedTarget=I,B=null,cs(_)===w&&(C=new C(k,T+"enter",x,t,_),C.target=I,C.relatedTarget=O,B=C),O=B,b&&x)t:{for(C=b,k=x,T=0,I=C;I;I=$s(I))T++;for(I=0,B=k;B;B=$s(B))I++;for(;0<T-I;)C=$s(C),T--;for(;0<I-T;)k=$s(k),I--;for(;T--;){if(C===k||k!==null&&C===k.alternate)break t;C=$s(C),k=$s(k)}C=null}else C=null;b!==null&&yy(A,R,b,C,!1),x!==null&&O!==null&&yy(A,O,x,C,!0)}}e:{if(R=w?fa(w):window,b=R.nodeName&&R.nodeName.toLowerCase(),b==="select"||b==="input"&&R.type==="file")var P=PR;else if(ly(R))if(Wv)P=FR;else{P=DR;var U=UR}else(b=R.nodeName)&&b.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(P=zR);if(P&&(P=P(n,w))){Fv(A,P,t,_);break e}U&&U(n,R,w),n==="focusout"&&(U=R._wrapperState)&&U.controlled&&R.type==="number"&&d0(R,"number",R.value)}switch(U=w?fa(w):window,n){case"focusin":(ly(U)||U.contentEditable==="true")&&(la=U,A0=w,Uu=null);break;case"focusout":Uu=A0=la=null;break;case"mousedown":R0=!0;break;case"contextmenu":case"mouseup":case"dragend":R0=!1,py(A,t,_);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":py(A,t,_)}var F;if(sm)e:{switch(n){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else ua?Dv(n,t)&&(j="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(j="onCompositionStart");j&&(Uv&&t.locale!=="ko"&&(ua||j!=="onCompositionStart"?j==="onCompositionEnd"&&ua&&(F=Pv()):(Ro=_,rm="value"in Ro?Ro.value:Ro.textContent,ua=!0)),U=af(w,j),0<U.length&&(j=new oy(j,n,null,t,_),A.push({event:j,listeners:U}),F?j.data=F:(F=zv(t),F!==null&&(j.data=F)))),(F=NR?CR(n,t):OR(n,t))&&(w=af(w,"onBeforeInput"),0<w.length&&(_=new oy("onBeforeInput","beforeinput",null,t,_),A.push({event:_,listeners:w}),_.data=F))}Xv(A,e)})}function il(n,e,t){return{instance:n,listener:e,currentTarget:t}}function af(n,e){for(var t=e+"Capture",r=[];n!==null;){var o=n,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Xu(n,t),i!=null&&r.unshift(il(n,i,o)),i=Xu(n,e),i!=null&&r.push(il(n,i,o))),n=n.return}return r}function $s(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yy(n,e,t,r,o){for(var i=e._reactName,u=[];t!==null&&t!==r;){var c=t,h=c.alternate,w=c.stateNode;if(h!==null&&h===r)break;c.tag===5&&w!==null&&(c=w,o?(h=Xu(t,i),h!=null&&u.unshift(il(t,h,c))):o||(h=Xu(t,i),h!=null&&u.push(il(t,h,c)))),t=t.return}u.length!==0&&n.push({event:e,listeners:u})}var qR=/\r\n?/g,GR=/\u0000|\uFFFD/g;function wy(n){return(typeof n=="string"?n:""+n).replace(qR,`
`).replace(GR,"")}function Yl(n,e,t){if(e=wy(e),wy(n)!==e&&t)throw Error(ue(425))}function uf(){}var x0=null,k0=null;function I0(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T0=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(n){return vy.resolve(null).then(n).catch(XR)}:T0;function XR(n){setTimeout(function(){throw n})}function id(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(r===0){n.removeChild(o),el(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=o}while(t);el(e)}function Po(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _y(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var tu=Math.random().toString(36).slice(2),yi="__reactFiber$"+tu,ol="__reactProps$"+tu,Qi="__reactContainer$"+tu,N0="__reactEvents$"+tu,QR="__reactListeners$"+tu,JR="__reactHandles$"+tu;function cs(n){var e=n[yi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qi]||t[yi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_y(n);n!==null;){if(t=n[yi])return t;n=_y(n)}return e}n=t,t=n.parentNode}return null}function Rl(n){return n=n[yi]||n[Qi],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fa(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(ue(33))}function Jf(n){return n[ol]||null}var C0=[],ha=-1;function Yo(n){return{current:n}}function xt(n){0>ha||(n.current=C0[ha],C0[ha]=null,ha--)}function Mt(n,e){ha++,C0[ha]=n.current,n.current=e}var Vo={},Nn=Yo(Vo),pr=Yo(!1),ks=Vo;function La(n,e){var t=n.type.contextTypes;if(!t)return Vo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in t)o[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function mr(n){return n=n.childContextTypes,n!=null}function lf(){xt(pr),xt(Nn)}function Ey(n,e,t){if(Nn.current!==Vo)throw Error(ue(168));Mt(Nn,e),Mt(pr,t)}function Jv(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(ue(108,UA(n)||"Unknown",o));return Pt({},t,r)}function cf(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Vo,ks=Nn.current,Mt(Nn,n),Mt(pr,pr.current),!0}function by(n,e,t){var r=n.stateNode;if(!r)throw Error(ue(169));t?(n=Jv(n,e,ks),r.__reactInternalMemoizedMergedChildContext=n,xt(pr),xt(Nn),Mt(Nn,n)):xt(pr),Mt(pr,t)}var Di=null,eh=!1,od=!1;function e_(n){Di===null?Di=[n]:Di.push(n)}function ex(n){eh=!0,e_(n)}function Xo(){if(!od&&Di!==null){od=!0;var n=0,e=yt;try{var t=Di;for(yt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Di=null,eh=!1}catch(o){throw Di!==null&&(Di=Di.slice(n+1)),Av(Jp,Xo),o}finally{yt=e,od=!1}}return null}var da=[],pa=0,ff=null,hf=0,Pr=[],Ur=0,Is=null,$i=1,qi="";function ts(n,e){da[pa++]=hf,da[pa++]=ff,ff=n,hf=e}function t_(n,e,t){Pr[Ur++]=$i,Pr[Ur++]=qi,Pr[Ur++]=Is,Is=n;var r=$i;n=qi;var o=32-si(r)-1;r&=~(1<<o),t+=1;var i=32-si(e)+o;if(30<i){var u=o-o%5;i=(r&(1<<u)-1).toString(32),r>>=u,o-=u,$i=1<<32-si(e)+o|t<<o|r,qi=i+n}else $i=1<<i|t<<o|r,qi=n}function um(n){n.return!==null&&(ts(n,1),t_(n,1,0))}function lm(n){for(;n===ff;)ff=da[--pa],da[pa]=null,hf=da[--pa],da[pa]=null;for(;n===Is;)Is=Pr[--Ur],Pr[Ur]=null,qi=Pr[--Ur],Pr[Ur]=null,$i=Pr[--Ur],Pr[Ur]=null}var xr=null,Rr=null,Tt=!1,ri=null;function n_(n,e){var t=Dr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Sy(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,xr=n,Rr=Po(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,xr=n,Rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Is!==null?{id:$i,overflow:qi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Dr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,xr=n,Rr=null,!0):!1;default:return!1}}function O0(n){return(n.mode&1)!==0&&(n.flags&128)===0}function B0(n){if(Tt){var e=Rr;if(e){var t=e;if(!Sy(n,e)){if(O0(n))throw Error(ue(418));e=Po(t.nextSibling);var r=xr;e&&Sy(n,e)?n_(r,t):(n.flags=n.flags&-4097|2,Tt=!1,xr=n)}}else{if(O0(n))throw Error(ue(418));n.flags=n.flags&-4097|2,Tt=!1,xr=n}}}function My(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;xr=n}function Xl(n){if(n!==xr)return!1;if(!Tt)return My(n),Tt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!I0(n.type,n.memoizedProps)),e&&(e=Rr)){if(O0(n))throw r_(),Error(ue(418));for(;e;)n_(n,e),e=Po(e.nextSibling)}if(My(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(ue(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Rr=Po(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Rr=null}}else Rr=xr?Po(n.stateNode.nextSibling):null;return!0}function r_(){for(var n=Rr;n;)n=Po(n.nextSibling)}function Pa(){Rr=xr=null,Tt=!1}function cm(n){ri===null?ri=[n]:ri.push(n)}var tx=so.ReactCurrentBatchConfig;function mu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(ue(309));var r=t.stateNode}if(!r)throw Error(ue(147,n));var o=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(u){var c=o.refs;u===null?delete c[i]:c[i]=u},e._stringRef=i,e)}if(typeof n!="string")throw Error(ue(284));if(!t._owner)throw Error(ue(290,n))}return n}function Ql(n,e){throw n=Object.prototype.toString.call(e),Error(ue(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ay(n){var e=n._init;return e(n._payload)}function i_(n){function e(k,T){if(n){var I=k.deletions;I===null?(k.deletions=[T],k.flags|=16):I.push(T)}}function t(k,T){if(!n)return null;for(;T!==null;)e(k,T),T=T.sibling;return null}function r(k,T){for(k=new Map;T!==null;)T.key!==null?k.set(T.key,T):k.set(T.index,T),T=T.sibling;return k}function o(k,T){return k=Fo(k,T),k.index=0,k.sibling=null,k}function i(k,T,I){return k.index=I,n?(I=k.alternate,I!==null?(I=I.index,I<T?(k.flags|=2,T):I):(k.flags|=2,T)):(k.flags|=1048576,T)}function u(k){return n&&k.alternate===null&&(k.flags|=2),k}function c(k,T,I,B){return T===null||T.tag!==6?(T=hd(I,k.mode,B),T.return=k,T):(T=o(T,I),T.return=k,T)}function h(k,T,I,B){var P=I.type;return P===aa?_(k,T,I.props.children,B,I.key):T!==null&&(T.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===wo&&Ay(P)===T.type)?(B=o(T,I.props),B.ref=mu(k,T,I),B.return=k,B):(B=Cc(I.type,I.key,I.props,null,k.mode,B),B.ref=mu(k,T,I),B.return=k,B)}function w(k,T,I,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=dd(I,k.mode,B),T.return=k,T):(T=o(T,I.children||[]),T.return=k,T)}function _(k,T,I,B,P){return T===null||T.tag!==7?(T=As(I,k.mode,B,P),T.return=k,T):(T=o(T,I),T.return=k,T)}function A(k,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=hd(""+T,k.mode,I),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wl:return I=Cc(T.type,T.key,T.props,null,k.mode,I),I.ref=mu(k,null,T),I.return=k,I;case sa:return T=dd(T,k.mode,I),T.return=k,T;case wo:var B=T._init;return A(k,B(T._payload),I)}if(Su(T)||cu(T))return T=As(T,k.mode,I,null),T.return=k,T;Ql(k,T)}return null}function R(k,T,I,B){var P=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return P!==null?null:c(k,T,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Wl:return I.key===P?h(k,T,I,B):null;case sa:return I.key===P?w(k,T,I,B):null;case wo:return P=I._init,R(k,T,P(I._payload),B)}if(Su(I)||cu(I))return P!==null?null:_(k,T,I,B,null);Ql(k,I)}return null}function b(k,T,I,B,P){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(I)||null,c(T,k,""+B,P);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Wl:return k=k.get(B.key===null?I:B.key)||null,h(T,k,B,P);case sa:return k=k.get(B.key===null?I:B.key)||null,w(T,k,B,P);case wo:var U=B._init;return b(k,T,I,U(B._payload),P)}if(Su(B)||cu(B))return k=k.get(I)||null,_(T,k,B,P,null);Ql(T,B)}return null}function x(k,T,I,B){for(var P=null,U=null,F=T,j=T=0,V=null;F!==null&&j<I.length;j++){F.index>j?(V=F,F=null):V=F.sibling;var G=R(k,F,I[j],B);if(G===null){F===null&&(F=V);break}n&&F&&G.alternate===null&&e(k,F),T=i(G,T,j),U===null?P=G:U.sibling=G,U=G,F=V}if(j===I.length)return t(k,F),Tt&&ts(k,j),P;if(F===null){for(;j<I.length;j++)F=A(k,I[j],B),F!==null&&(T=i(F,T,j),U===null?P=F:U.sibling=F,U=F);return Tt&&ts(k,j),P}for(F=r(k,F);j<I.length;j++)V=b(F,k,j,I[j],B),V!==null&&(n&&V.alternate!==null&&F.delete(V.key===null?j:V.key),T=i(V,T,j),U===null?P=V:U.sibling=V,U=V);return n&&F.forEach(function(H){return e(k,H)}),Tt&&ts(k,j),P}function C(k,T,I,B){var P=cu(I);if(typeof P!="function")throw Error(ue(150));if(I=P.call(I),I==null)throw Error(ue(151));for(var U=P=null,F=T,j=T=0,V=null,G=I.next();F!==null&&!G.done;j++,G=I.next()){F.index>j?(V=F,F=null):V=F.sibling;var H=R(k,F,G.value,B);if(H===null){F===null&&(F=V);break}n&&F&&H.alternate===null&&e(k,F),T=i(H,T,j),U===null?P=H:U.sibling=H,U=H,F=V}if(G.done)return t(k,F),Tt&&ts(k,j),P;if(F===null){for(;!G.done;j++,G=I.next())G=A(k,G.value,B),G!==null&&(T=i(G,T,j),U===null?P=G:U.sibling=G,U=G);return Tt&&ts(k,j),P}for(F=r(k,F);!G.done;j++,G=I.next())G=b(F,k,j,G.value,B),G!==null&&(n&&G.alternate!==null&&F.delete(G.key===null?j:G.key),T=i(G,T,j),U===null?P=G:U.sibling=G,U=G);return n&&F.forEach(function(Z){return e(k,Z)}),Tt&&ts(k,j),P}function O(k,T,I,B){if(typeof I=="object"&&I!==null&&I.type===aa&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Wl:e:{for(var P=I.key,U=T;U!==null;){if(U.key===P){if(P=I.type,P===aa){if(U.tag===7){t(k,U.sibling),T=o(U,I.props.children),T.return=k,k=T;break e}}else if(U.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===wo&&Ay(P)===U.type){t(k,U.sibling),T=o(U,I.props),T.ref=mu(k,U,I),T.return=k,k=T;break e}t(k,U);break}else e(k,U);U=U.sibling}I.type===aa?(T=As(I.props.children,k.mode,B,I.key),T.return=k,k=T):(B=Cc(I.type,I.key,I.props,null,k.mode,B),B.ref=mu(k,T,I),B.return=k,k=B)}return u(k);case sa:e:{for(U=I.key;T!==null;){if(T.key===U)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){t(k,T.sibling),T=o(T,I.children||[]),T.return=k,k=T;break e}else{t(k,T);break}else e(k,T);T=T.sibling}T=dd(I,k.mode,B),T.return=k,k=T}return u(k);case wo:return U=I._init,O(k,T,U(I._payload),B)}if(Su(I))return x(k,T,I,B);if(cu(I))return C(k,T,I,B);Ql(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(t(k,T.sibling),T=o(T,I),T.return=k,k=T):(t(k,T),T=hd(I,k.mode,B),T.return=k,k=T),u(k)):t(k,T)}return O}var Ua=i_(!0),o_=i_(!1),df=Yo(null),pf=null,ma=null,fm=null;function hm(){fm=ma=pf=null}function dm(n){var e=df.current;xt(df),n._currentValue=e}function L0(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Ra(n,e){pf=n,fm=ma=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(fr=!0),n.firstContext=null)}function Wr(n){var e=n._currentValue;if(fm!==n)if(n={context:n,memoizedValue:e,next:null},ma===null){if(pf===null)throw Error(ue(308));ma=n,pf.dependencies={lanes:0,firstContext:n}}else ma=ma.next=n;return e}var fs=null;function pm(n){fs===null?fs=[n]:fs.push(n)}function s_(n,e,t,r){var o=e.interleaved;return o===null?(t.next=t,pm(e)):(t.next=o.next,o.next=t),e.interleaved=t,Ji(n,r)}function Ji(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var vo=!1;function mm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a_(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Yi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Ji(n,t)}return o=r.interleaved,o===null?(e.next=e,pm(r)):(e.next=o.next,o.next=e),r.interleaved=e,Ji(n,t)}function Rc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,em(n,t)}}function Ry(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var o=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var u={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?o=i=u:i=i.next=u,t=t.next}while(t!==null);i===null?o=i=e:i=i.next=e}else o=i=e;t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function mf(n,e,t,r){var o=n.updateQueue;vo=!1;var i=o.firstBaseUpdate,u=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var h=c,w=h.next;h.next=null,u===null?i=w:u.next=w,u=h;var _=n.alternate;_!==null&&(_=_.updateQueue,c=_.lastBaseUpdate,c!==u&&(c===null?_.firstBaseUpdate=w:c.next=w,_.lastBaseUpdate=h))}if(i!==null){var A=o.baseState;u=0,_=w=h=null,c=i;do{var R=c.lane,b=c.eventTime;if((r&R)===R){_!==null&&(_=_.next={eventTime:b,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var x=n,C=c;switch(R=e,b=t,C.tag){case 1:if(x=C.payload,typeof x=="function"){A=x.call(b,A,R);break e}A=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=C.payload,R=typeof x=="function"?x.call(b,A,R):x,R==null)break e;A=Pt({},A,R);break e;case 2:vo=!0}}c.callback!==null&&c.lane!==0&&(n.flags|=64,R=o.effects,R===null?o.effects=[c]:R.push(c))}else b={eventTime:b,lane:R,tag:c.tag,payload:c.payload,callback:c.callback,next:null},_===null?(w=_=b,h=A):_=_.next=b,u|=R;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;R=c,c=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);if(_===null&&(h=A),o.baseState=h,o.firstBaseUpdate=w,o.lastBaseUpdate=_,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Ns|=u,n.lanes=u,n.memoizedState=A}}function xy(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=t,typeof o!="function")throw Error(ue(191,o));o.call(r)}}}var xl={},Mi=Yo(xl),sl=Yo(xl),al=Yo(xl);function hs(n){if(n===xl)throw Error(ue(174));return n}function gm(n,e){switch(Mt(al,e),Mt(sl,n),Mt(Mi,xl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:m0(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=m0(e,n)}xt(Mi),Mt(Mi,e)}function Da(){xt(Mi),xt(sl),xt(al)}function u_(n){hs(al.current);var e=hs(Mi.current),t=m0(e,n.type);e!==t&&(Mt(sl,n),Mt(Mi,t))}function ym(n){sl.current===n&&(xt(Mi),xt(sl))}var Ot=Yo(0);function gf(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sd=[];function wm(){for(var n=0;n<sd.length;n++)sd[n]._workInProgressVersionPrimary=null;sd.length=0}var xc=so.ReactCurrentDispatcher,ad=so.ReactCurrentBatchConfig,Ts=0,Lt=null,nn=null,cn=null,yf=!1,Du=!1,ul=0,nx=0;function En(){throw Error(ue(321))}function vm(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!li(n[t],e[t]))return!1;return!0}function _m(n,e,t,r,o,i){if(Ts=i,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=n===null||n.memoizedState===null?sx:ax,n=t(r,o),Du){i=0;do{if(Du=!1,ul=0,25<=i)throw Error(ue(301));i+=1,cn=nn=null,e.updateQueue=null,xc.current=ux,n=t(r,o)}while(Du)}if(xc.current=wf,e=nn!==null&&nn.next!==null,Ts=0,cn=nn=Lt=null,yf=!1,e)throw Error(ue(300));return n}function Em(){var n=ul!==0;return ul=0,n}function mi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Lt.memoizedState=cn=n:cn=cn.next=n,cn}function Hr(){if(nn===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=nn.next;var e=cn===null?Lt.memoizedState:cn.next;if(e!==null)cn=e,nn=n;else{if(n===null)throw Error(ue(310));nn=n,n={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},cn===null?Lt.memoizedState=cn=n:cn=cn.next=n}return cn}function ll(n,e){return typeof e=="function"?e(n):e}function ud(n){var e=Hr(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=n;var r=nn,o=r.baseQueue,i=t.pending;if(i!==null){if(o!==null){var u=o.next;o.next=i.next,i.next=u}r.baseQueue=o=i,t.pending=null}if(o!==null){i=o.next,r=r.baseState;var c=u=null,h=null,w=i;do{var _=w.lane;if((Ts&_)===_)h!==null&&(h=h.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),r=w.hasEagerState?w.eagerState:n(r,w.action);else{var A={lane:_,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};h===null?(c=h=A,u=r):h=h.next=A,Lt.lanes|=_,Ns|=_}w=w.next}while(w!==null&&w!==i);h===null?u=r:h.next=c,li(r,e.memoizedState)||(fr=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=h,t.lastRenderedState=r}if(n=t.interleaved,n!==null){o=n;do i=o.lane,Lt.lanes|=i,Ns|=i,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function ld(n){var e=Hr(),t=e.queue;if(t===null)throw Error(ue(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,i=e.memoizedState;if(o!==null){t.pending=null;var u=o=o.next;do i=n(i,u.action),u=u.next;while(u!==o);li(i,e.memoizedState)||(fr=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function l_(){}function c_(n,e){var t=Lt,r=Hr(),o=e(),i=!li(r.memoizedState,o);if(i&&(r.memoizedState=o,fr=!0),r=r.queue,bm(d_.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||cn!==null&&cn.memoizedState.tag&1){if(t.flags|=2048,cl(9,h_.bind(null,t,r,o,e),void 0,null),fn===null)throw Error(ue(349));Ts&30||f_(t,e,o)}return o}function f_(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function h_(n,e,t,r){e.value=t,e.getSnapshot=r,p_(e)&&m_(n)}function d_(n,e,t){return t(function(){p_(e)&&m_(n)})}function p_(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!li(n,t)}catch{return!0}}function m_(n){var e=Ji(n,1);e!==null&&ai(e,n,1,-1)}function ky(n){var e=mi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:n},e.queue=n,n=n.dispatch=ox.bind(null,Lt,n),[e.memoizedState,n]}function cl(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function g_(){return Hr().memoizedState}function kc(n,e,t,r){var o=mi();Lt.flags|=n,o.memoizedState=cl(1|e,t,void 0,r===void 0?null:r)}function th(n,e,t,r){var o=Hr();r=r===void 0?null:r;var i=void 0;if(nn!==null){var u=nn.memoizedState;if(i=u.destroy,r!==null&&vm(r,u.deps)){o.memoizedState=cl(e,t,i,r);return}}Lt.flags|=n,o.memoizedState=cl(1|e,t,i,r)}function Iy(n,e){return kc(8390656,8,n,e)}function bm(n,e){return th(2048,8,n,e)}function y_(n,e){return th(4,2,n,e)}function w_(n,e){return th(4,4,n,e)}function v_(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function __(n,e,t){return t=t!=null?t.concat([n]):null,th(4,4,v_.bind(null,e,n),t)}function Sm(){}function E_(n,e){var t=Hr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function b_(n,e){var t=Hr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&vm(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function S_(n,e,t){return Ts&21?(li(t,e)||(t=kv(),Lt.lanes|=t,Ns|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,fr=!0),n.memoizedState=t)}function rx(n,e){var t=yt;yt=t!==0&&4>t?t:4,n(!0);var r=ad.transition;ad.transition={};try{n(!1),e()}finally{yt=t,ad.transition=r}}function M_(){return Hr().memoizedState}function ix(n,e,t){var r=zo(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},A_(n))R_(e,t);else if(t=s_(n,e,t,r),t!==null){var o=er();ai(t,n,r,o),x_(t,e,r)}}function ox(n,e,t){var r=zo(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(A_(n))R_(e,o);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var u=e.lastRenderedState,c=i(u,t);if(o.hasEagerState=!0,o.eagerState=c,li(c,u)){var h=e.interleaved;h===null?(o.next=o,pm(e)):(o.next=h.next,h.next=o),e.interleaved=o;return}}catch{}finally{}t=s_(n,e,o,r),t!==null&&(o=er(),ai(t,n,r,o),x_(t,e,r))}}function A_(n){var e=n.alternate;return n===Lt||e!==null&&e===Lt}function R_(n,e){Du=yf=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function x_(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,em(n,t)}}var wf={readContext:Wr,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useInsertionEffect:En,useLayoutEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useMutableSource:En,useSyncExternalStore:En,useId:En,unstable_isNewReconciler:!1},sx={readContext:Wr,useCallback:function(n,e){return mi().memoizedState=[n,e===void 0?null:e],n},useContext:Wr,useEffect:Iy,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,kc(4194308,4,v_.bind(null,e,n),t)},useLayoutEffect:function(n,e){return kc(4194308,4,n,e)},useInsertionEffect:function(n,e){return kc(4,2,n,e)},useMemo:function(n,e){var t=mi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=mi();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=ix.bind(null,Lt,n),[r.memoizedState,n]},useRef:function(n){var e=mi();return n={current:n},e.memoizedState=n},useState:ky,useDebugValue:Sm,useDeferredValue:function(n){return mi().memoizedState=n},useTransition:function(){var n=ky(!1),e=n[0];return n=rx.bind(null,n[1]),mi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Lt,o=mi();if(Tt){if(t===void 0)throw Error(ue(407));t=t()}else{if(t=e(),fn===null)throw Error(ue(349));Ts&30||f_(r,e,t)}o.memoizedState=t;var i={value:t,getSnapshot:e};return o.queue=i,Iy(d_.bind(null,r,i,n),[n]),r.flags|=2048,cl(9,h_.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=mi(),e=fn.identifierPrefix;if(Tt){var t=qi,r=$i;t=(r&~(1<<32-si(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ul++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=nx++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},ax={readContext:Wr,useCallback:E_,useContext:Wr,useEffect:bm,useImperativeHandle:__,useInsertionEffect:y_,useLayoutEffect:w_,useMemo:b_,useReducer:ud,useRef:g_,useState:function(){return ud(ll)},useDebugValue:Sm,useDeferredValue:function(n){var e=Hr();return S_(e,nn.memoizedState,n)},useTransition:function(){var n=ud(ll)[0],e=Hr().memoizedState;return[n,e]},useMutableSource:l_,useSyncExternalStore:c_,useId:M_,unstable_isNewReconciler:!1},ux={readContext:Wr,useCallback:E_,useContext:Wr,useEffect:bm,useImperativeHandle:__,useInsertionEffect:y_,useLayoutEffect:w_,useMemo:b_,useReducer:ld,useRef:g_,useState:function(){return ld(ll)},useDebugValue:Sm,useDeferredValue:function(n){var e=Hr();return nn===null?e.memoizedState=n:S_(e,nn.memoizedState,n)},useTransition:function(){var n=ld(ll)[0],e=Hr().memoizedState;return[n,e]},useMutableSource:l_,useSyncExternalStore:c_,useId:M_,unstable_isNewReconciler:!1};function ei(n,e){if(n&&n.defaultProps){e=Pt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function P0(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Pt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var nh={isMounted:function(n){return(n=n._reactInternals)?Ds(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=er(),o=zo(n),i=Yi(r,o);i.payload=e,t!=null&&(i.callback=t),e=Uo(n,i,o),e!==null&&(ai(e,n,o,r),Rc(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=er(),o=zo(n),i=Yi(r,o);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Uo(n,i,o),e!==null&&(ai(e,n,o,r),Rc(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=er(),r=zo(n),o=Yi(t,r);o.tag=2,e!=null&&(o.callback=e),e=Uo(n,o,r),e!==null&&(ai(e,n,r,t),Rc(e,n,r))}};function Ty(n,e,t,r,o,i,u){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,u):e.prototype&&e.prototype.isPureReactComponent?!nl(t,r)||!nl(o,i):!0}function k_(n,e,t){var r=!1,o=Vo,i=e.contextType;return typeof i=="object"&&i!==null?i=Wr(i):(o=mr(e)?ks:Nn.current,r=e.contextTypes,i=(r=r!=null)?La(n,o):Vo),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=i),e}function Ny(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&nh.enqueueReplaceState(e,e.state,null)}function U0(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs={},mm(n);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Wr(i):(i=mr(e)?ks:Nn.current,o.context=La(n,i)),o.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(P0(n,e,i,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&nh.enqueueReplaceState(o,o.state,null),mf(n,t,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function za(n,e){try{var t="",r=e;do t+=PA(r),r=r.return;while(r);var o=t}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:o,digest:null}}function cd(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function D0(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var lx=typeof WeakMap=="function"?WeakMap:Map;function I_(n,e,t){t=Yi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_f||(_f=!0,G0=r),D0(n,e)},t}function T_(n,e,t){t=Yi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){D0(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){D0(n,e),typeof r!="function"&&(Do===null?Do=new Set([this]):Do.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),t}function Cy(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new lx;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=Sx.bind(null,n,e,t),e.then(n,n))}function Oy(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function By(n,e,t,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Yi(-1,1),e.tag=2,Uo(t,e,1))),t.lanes|=1),n)}var cx=so.ReactCurrentOwner,fr=!1;function Qn(n,e,t,r){e.child=n===null?o_(e,null,t,r):Ua(e,n.child,t,r)}function Ly(n,e,t,r,o){t=t.render;var i=e.ref;return Ra(e,o),r=_m(n,e,t,r,i,o),t=Em(),n!==null&&!fr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,eo(n,e,o)):(Tt&&t&&um(e),e.flags|=1,Qn(n,e,r,o),e.child)}function Py(n,e,t,r,o){if(n===null){var i=t.type;return typeof i=="function"&&!Nm(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,N_(n,e,i,r,o)):(n=Cc(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&o)){var u=i.memoizedProps;if(t=t.compare,t=t!==null?t:nl,t(u,r)&&n.ref===e.ref)return eo(n,e,o)}return e.flags|=1,n=Fo(i,r),n.ref=e.ref,n.return=e,e.child=n}function N_(n,e,t,r,o){if(n!==null){var i=n.memoizedProps;if(nl(i,r)&&n.ref===e.ref)if(fr=!1,e.pendingProps=r=i,(n.lanes&o)!==0)n.flags&131072&&(fr=!0);else return e.lanes=n.lanes,eo(n,e,o)}return z0(n,e,t,r,o)}function C_(n,e,t){var r=e.pendingProps,o=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(ya,br),br|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Mt(ya,br),br|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Mt(ya,br),br|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Mt(ya,br),br|=r;return Qn(n,e,o,t),e.child}function O_(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function z0(n,e,t,r,o){var i=mr(t)?ks:Nn.current;return i=La(e,i),Ra(e,o),t=_m(n,e,t,r,i,o),r=Em(),n!==null&&!fr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,eo(n,e,o)):(Tt&&r&&um(e),e.flags|=1,Qn(n,e,t,o),e.child)}function Uy(n,e,t,r,o){if(mr(t)){var i=!0;cf(e)}else i=!1;if(Ra(e,o),e.stateNode===null)Ic(n,e),k_(e,t,r),U0(e,t,r,o),r=!0;else if(n===null){var u=e.stateNode,c=e.memoizedProps;u.props=c;var h=u.context,w=t.contextType;typeof w=="object"&&w!==null?w=Wr(w):(w=mr(t)?ks:Nn.current,w=La(e,w));var _=t.getDerivedStateFromProps,A=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";A||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==r||h!==w)&&Ny(e,u,r,w),vo=!1;var R=e.memoizedState;u.state=R,mf(e,r,u,o),h=e.memoizedState,c!==r||R!==h||pr.current||vo?(typeof _=="function"&&(P0(e,t,_,r),h=e.memoizedState),(c=vo||Ty(e,t,c,r,R,h,w))?(A||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),u.props=r,u.state=h,u.context=w,r=c):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,a_(n,e),c=e.memoizedProps,w=e.type===e.elementType?c:ei(e.type,c),u.props=w,A=e.pendingProps,R=u.context,h=t.contextType,typeof h=="object"&&h!==null?h=Wr(h):(h=mr(t)?ks:Nn.current,h=La(e,h));var b=t.getDerivedStateFromProps;(_=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==A||R!==h)&&Ny(e,u,r,h),vo=!1,R=e.memoizedState,u.state=R,mf(e,r,u,o);var x=e.memoizedState;c!==A||R!==x||pr.current||vo?(typeof b=="function"&&(P0(e,t,b,r),x=e.memoizedState),(w=vo||Ty(e,t,w,r,R,x,h)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,x,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,x,h)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===n.memoizedProps&&R===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&R===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),u.props=r,u.state=x,u.context=h,r=w):(typeof u.componentDidUpdate!="function"||c===n.memoizedProps&&R===n.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===n.memoizedProps&&R===n.memoizedState||(e.flags|=1024),r=!1)}return F0(n,e,t,r,i,o)}function F0(n,e,t,r,o,i){O_(n,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&by(e,t,!1),eo(n,e,i);r=e.stateNode,cx.current=e;var c=u&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&u?(e.child=Ua(e,n.child,null,i),e.child=Ua(e,null,c,i)):Qn(n,e,c,i),e.memoizedState=r.state,o&&by(e,t,!0),e.child}function B_(n){var e=n.stateNode;e.pendingContext?Ey(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ey(n,e.context,!1),gm(n,e.containerInfo)}function Dy(n,e,t,r,o){return Pa(),cm(o),e.flags|=256,Qn(n,e,t,r),e.child}var W0={dehydrated:null,treeContext:null,retryLane:0};function H0(n){return{baseLanes:n,cachePool:null,transitions:null}}function L_(n,e,t){var r=e.pendingProps,o=Ot.current,i=!1,u=(e.flags&128)!==0,c;if((c=u)||(c=n!==null&&n.memoizedState===null?!1:(o&2)!==0),c?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),Mt(Ot,o&1),n===null)return B0(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,n=r.fallback,i?(r=e.mode,i=e.child,u={mode:"hidden",children:u},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=u):i=oh(u,r,0,null),n=As(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=H0(t),e.memoizedState=W0,n):Mm(e,u));if(o=n.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return fx(n,e,u,r,c,o,t);if(i){i=r.fallback,u=e.mode,o=n.child,c=o.sibling;var h={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=h,e.deletions=null):(r=Fo(o,h),r.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=Fo(c,i):(i=As(i,u,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,u=n.child.memoizedState,u=u===null?H0(t):{baseLanes:u.baseLanes|t,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=n.childLanes&~t,e.memoizedState=W0,r}return i=n.child,n=i.sibling,r=Fo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function Mm(n,e){return e=oh({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jl(n,e,t,r){return r!==null&&cm(r),Ua(e,n.child,null,t),n=Mm(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function fx(n,e,t,r,o,i,u){if(t)return e.flags&256?(e.flags&=-257,r=cd(Error(ue(422))),Jl(n,e,u,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=oh({mode:"visible",children:r.children},o,0,null),i=As(i,o,u,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ua(e,n.child,null,u),e.child.memoizedState=H0(u),e.memoizedState=W0,i);if(!(e.mode&1))return Jl(n,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(ue(419)),r=cd(i,r,void 0),Jl(n,e,u,r)}if(c=(u&n.childLanes)!==0,fr||c){if(r=fn,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Ji(n,o),ai(r,n,o,-1))}return Tm(),r=cd(Error(ue(421))),Jl(n,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=Mx.bind(null,n),o._reactRetry=e,null):(n=i.treeContext,Rr=Po(o.nextSibling),xr=e,Tt=!0,ri=null,n!==null&&(Pr[Ur++]=$i,Pr[Ur++]=qi,Pr[Ur++]=Is,$i=n.id,qi=n.overflow,Is=e),e=Mm(e,r.children),e.flags|=4096,e)}function zy(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),L0(n.return,e,t)}function fd(n,e,t,r,o){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=o)}function P_(n,e,t){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Qn(n,e,r.children,t),r=Ot.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zy(n,t,e);else if(n.tag===19)zy(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Mt(Ot,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&gf(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),fd(e,!1,o,t,i);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&gf(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}fd(e,!0,t,null,i);break;case"together":fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function eo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Ns|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(ue(153));if(e.child!==null){for(n=e.child,t=Fo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Fo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function hx(n,e,t){switch(e.tag){case 3:B_(e),Pa();break;case 5:u_(e);break;case 1:mr(e.type)&&cf(e);break;case 4:gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Mt(df,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Mt(Ot,Ot.current&1),e.flags|=128,null):t&e.child.childLanes?L_(n,e,t):(Mt(Ot,Ot.current&1),n=eo(n,e,t),n!==null?n.sibling:null);Mt(Ot,Ot.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return P_(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Mt(Ot,Ot.current),r)break;return null;case 22:case 23:return e.lanes=0,C_(n,e,t)}return eo(n,e,t)}var U_,K0,D_,z_;U_=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};K0=function(){};D_=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,hs(Mi.current);var i=null;switch(t){case"input":o=f0(n,o),r=f0(n,r),i=[];break;case"select":o=Pt({},o,{value:void 0}),r=Pt({},r,{value:void 0}),i=[];break;case"textarea":o=p0(n,o),r=p0(n,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=uf)}g0(t,r);var u;t=null;for(w in o)if(!r.hasOwnProperty(w)&&o.hasOwnProperty(w)&&o[w]!=null)if(w==="style"){var c=o[w];for(u in c)c.hasOwnProperty(u)&&(t||(t={}),t[u]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Zu.hasOwnProperty(w)?i||(i=[]):(i=i||[]).push(w,null));for(w in r){var h=r[w];if(c=o!=null?o[w]:void 0,r.hasOwnProperty(w)&&h!==c&&(h!=null||c!=null))if(w==="style")if(c){for(u in c)!c.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(t||(t={}),t[u]="");for(u in h)h.hasOwnProperty(u)&&c[u]!==h[u]&&(t||(t={}),t[u]=h[u])}else t||(i||(i=[]),i.push(w,t)),t=h;else w==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(i=i||[]).push(w,h)):w==="children"?typeof h!="string"&&typeof h!="number"||(i=i||[]).push(w,""+h):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Zu.hasOwnProperty(w)?(h!=null&&w==="onScroll"&&At("scroll",n),i||c===h||(i=[])):(i=i||[]).push(w,h))}t&&(i=i||[]).push("style",t);var w=i;(e.updateQueue=w)&&(e.flags|=4)}};z_=function(n,e,t,r){t!==r&&(e.flags|=4)};function gu(n,e){if(!Tt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function bn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function dx(n,e,t){var r=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return mr(e.type)&&lf(),bn(e),null;case 3:return r=e.stateNode,Da(),xt(pr),xt(Nn),wm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Xl(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&(X0(ri),ri=null))),K0(n,e),bn(e),null;case 5:ym(e);var o=hs(al.current);if(t=e.type,n!==null&&e.stateNode!=null)D_(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return bn(e),null}if(n=hs(Mi.current),Xl(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[yi]=e,r[ol]=i,n=(e.mode&1)!==0,t){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(o=0;o<Au.length;o++)At(Au[o],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":Gg(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":Yg(r,i),At("invalid",r)}g0(t,i),o=null;for(var u in i)if(i.hasOwnProperty(u)){var c=i[u];u==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,c,n),o=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Yl(r.textContent,c,n),o=["children",""+c]):Zu.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&At("scroll",r)}switch(t){case"input":Hl(r),Zg(r,i,!0);break;case"textarea":Hl(r),Xg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uf)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dv(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=u.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=u.createElement(t,{is:r.is}):(n=u.createElement(t),t==="select"&&(u=n,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):n=u.createElementNS(n,t),n[yi]=e,n[ol]=r,U_(n,e,!1,!1),e.stateNode=n;e:{switch(u=y0(t,r),t){case"dialog":At("cancel",n),At("close",n),o=r;break;case"iframe":case"object":case"embed":At("load",n),o=r;break;case"video":case"audio":for(o=0;o<Au.length;o++)At(Au[o],n);o=r;break;case"source":At("error",n),o=r;break;case"img":case"image":case"link":At("error",n),At("load",n),o=r;break;case"details":At("toggle",n),o=r;break;case"input":Gg(n,r),o=f0(n,r),At("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=Pt({},r,{value:void 0}),At("invalid",n);break;case"textarea":Yg(n,r),o=p0(n,r),At("invalid",n);break;default:o=r}g0(t,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var h=c[i];i==="style"?gv(n,h):i==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&pv(n,h)):i==="children"?typeof h=="string"?(t!=="textarea"||h!=="")&&Yu(n,h):typeof h=="number"&&Yu(n,""+h):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zu.hasOwnProperty(i)?h!=null&&i==="onScroll"&&At("scroll",n):h!=null&&Gp(n,i,h,u))}switch(t){case"input":Hl(n),Zg(n,r,!1);break;case"textarea":Hl(n),Xg(n);break;case"option":r.value!=null&&n.setAttribute("value",""+jo(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?ba(n,!!r.multiple,i,!1):r.defaultValue!=null&&ba(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=uf)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(n&&e.stateNode!=null)z_(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(t=hs(al.current),hs(Mi.current),Xl(e)){if(r=e.stateNode,t=e.memoizedProps,r[yi]=e,(i=r.nodeValue!==t)&&(n=xr,n!==null))switch(n.tag){case 3:Yl(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[yi]=e,e.stateNode=r}return bn(e),null;case 13:if(xt(Ot),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tt&&Rr!==null&&e.mode&1&&!(e.flags&128))r_(),Pa(),e.flags|=98560,i=!1;else if(i=Xl(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(ue(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ue(317));i[yi]=e}else Pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),i=!1}else ri!==null&&(X0(ri),ri=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Ot.current&1?on===0&&(on=3):Tm())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return Da(),K0(n,e),n===null&&rl(e.stateNode.containerInfo),bn(e),null;case 10:return dm(e.type._context),bn(e),null;case 17:return mr(e.type)&&lf(),bn(e),null;case 19:if(xt(Ot),i=e.memoizedState,i===null)return bn(e),null;if(r=(e.flags&128)!==0,u=i.rendering,u===null)if(r)gu(i,!1);else{if(on!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(u=gf(n),u!==null){for(e.flags|=128,gu(i,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,n=u.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Mt(Ot,Ot.current&1|2),e.child}n=n.sibling}i.tail!==null&&$t()>Fa&&(e.flags|=128,r=!0,gu(i,!1),e.lanes=4194304)}else{if(!r)if(n=gf(u),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),gu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Tt)return bn(e),null}else 2*$t()-i.renderingStartTime>Fa&&t!==1073741824&&(e.flags|=128,r=!0,gu(i,!1),e.lanes=4194304);i.isBackwards?(u.sibling=e.child,e.child=u):(t=i.last,t!==null?t.sibling=u:e.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$t(),e.sibling=null,t=Ot.current,Mt(Ot,r?t&1|2:t&1),e):(bn(e),null);case 22:case 23:return Im(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function px(n,e){switch(lm(e),e.tag){case 1:return mr(e.type)&&lf(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Da(),xt(pr),xt(Nn),wm(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ym(e),null;case 13:if(xt(Ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Pa()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return xt(Ot),null;case 4:return Da(),null;case 10:return dm(e.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var ec=!1,In=!1,mx=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function ga(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Kt(n,e,r)}else t.current=null}function j0(n,e,t){try{t()}catch(r){Kt(n,e,r)}}var Fy=!1;function gx(n,e){if(x0=of,n=jv(),am(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var u=0,c=-1,h=-1,w=0,_=0,A=n,R=null;t:for(;;){for(var b;A!==t||o!==0&&A.nodeType!==3||(c=u+o),A!==i||r!==0&&A.nodeType!==3||(h=u+r),A.nodeType===3&&(u+=A.nodeValue.length),(b=A.firstChild)!==null;)R=A,A=b;for(;;){if(A===n)break t;if(R===t&&++w===o&&(c=u),R===i&&++_===r&&(h=u),(b=A.nextSibling)!==null)break;A=R,R=A.parentNode}A=b}t=c===-1||h===-1?null:{start:c,end:h}}else t=null}t=t||{start:0,end:0}}else t=null;for(k0={focusedElem:n,selectionRange:t},of=!1,Ve=e;Ve!==null;)if(e=Ve,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ve=n;else for(;Ve!==null;){e=Ve;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var C=x.memoizedProps,O=x.memoizedState,k=e.stateNode,T=k.getSnapshotBeforeUpdate(e.elementType===e.type?C:ei(e.type,C),O);k.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(B){Kt(e,e.return,B)}if(n=e.sibling,n!==null){n.return=e.return,Ve=n;break}Ve=e.return}return x=Fy,Fy=!1,x}function zu(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var i=o.destroy;o.destroy=void 0,i!==void 0&&j0(e,t,i)}o=o.next}while(o!==r)}}function rh(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function V0(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function F_(n){var e=n.alternate;e!==null&&(n.alternate=null,F_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[yi],delete e[ol],delete e[N0],delete e[QR],delete e[JR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function W_(n){return n.tag===5||n.tag===3||n.tag===4}function Wy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||W_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=uf));else if(r!==4&&(n=n.child,n!==null))for($0(n,e,t),n=n.sibling;n!==null;)$0(n,e,t),n=n.sibling}function q0(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(q0(n,e,t),n=n.sibling;n!==null;)q0(n,e,t),n=n.sibling}var pn=null,ni=!1;function uo(n,e,t){for(t=t.child;t!==null;)H_(n,e,t),t=t.sibling}function H_(n,e,t){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(Zf,t)}catch{}switch(t.tag){case 5:In||ga(t,e);case 6:var r=pn,o=ni;pn=null,uo(n,e,t),pn=r,ni=o,pn!==null&&(ni?(n=pn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):pn.removeChild(t.stateNode));break;case 18:pn!==null&&(ni?(n=pn,t=t.stateNode,n.nodeType===8?id(n.parentNode,t):n.nodeType===1&&id(n,t),el(n)):id(pn,t.stateNode));break;case 4:r=pn,o=ni,pn=t.stateNode.containerInfo,ni=!0,uo(n,e,t),pn=r,ni=o;break;case 0:case 11:case 14:case 15:if(!In&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,u=i.destroy;i=i.tag,u!==void 0&&(i&2||i&4)&&j0(t,e,u),o=o.next}while(o!==r)}uo(n,e,t);break;case 1:if(!In&&(ga(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(c){Kt(t,e,c)}uo(n,e,t);break;case 21:uo(n,e,t);break;case 22:t.mode&1?(In=(r=In)||t.memoizedState!==null,uo(n,e,t),In=r):uo(n,e,t);break;default:uo(n,e,t)}}function Hy(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new mx),e.forEach(function(r){var o=Ax.bind(null,n,r);t.has(r)||(t.add(r),r.then(o,o))})}}function Jr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];try{var i=n,u=e,c=u;e:for(;c!==null;){switch(c.tag){case 5:pn=c.stateNode,ni=!1;break e;case 3:pn=c.stateNode.containerInfo,ni=!0;break e;case 4:pn=c.stateNode.containerInfo,ni=!0;break e}c=c.return}if(pn===null)throw Error(ue(160));H_(i,u,o),pn=null,ni=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(w){Kt(o,e,w)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)K_(e,n),e=e.sibling}function K_(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jr(e,n),hi(n),r&4){try{zu(3,n,n.return),rh(3,n)}catch(C){Kt(n,n.return,C)}try{zu(5,n,n.return)}catch(C){Kt(n,n.return,C)}}break;case 1:Jr(e,n),hi(n),r&512&&t!==null&&ga(t,t.return);break;case 5:if(Jr(e,n),hi(n),r&512&&t!==null&&ga(t,t.return),n.flags&32){var o=n.stateNode;try{Yu(o,"")}catch(C){Kt(n,n.return,C)}}if(r&4&&(o=n.stateNode,o!=null)){var i=n.memoizedProps,u=t!==null?t.memoizedProps:i,c=n.type,h=n.updateQueue;if(n.updateQueue=null,h!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&fv(o,i),y0(c,u);var w=y0(c,i);for(u=0;u<h.length;u+=2){var _=h[u],A=h[u+1];_==="style"?gv(o,A):_==="dangerouslySetInnerHTML"?pv(o,A):_==="children"?Yu(o,A):Gp(o,_,A,w)}switch(c){case"input":h0(o,i);break;case"textarea":hv(o,i);break;case"select":var R=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?ba(o,!!i.multiple,b,!1):R!==!!i.multiple&&(i.defaultValue!=null?ba(o,!!i.multiple,i.defaultValue,!0):ba(o,!!i.multiple,i.multiple?[]:"",!1))}o[ol]=i}catch(C){Kt(n,n.return,C)}}break;case 6:if(Jr(e,n),hi(n),r&4){if(n.stateNode===null)throw Error(ue(162));o=n.stateNode,i=n.memoizedProps;try{o.nodeValue=i}catch(C){Kt(n,n.return,C)}}break;case 3:if(Jr(e,n),hi(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(C){Kt(n,n.return,C)}break;case 4:Jr(e,n),hi(n);break;case 13:Jr(e,n),hi(n),o=n.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(xm=$t())),r&4&&Hy(n);break;case 22:if(_=t!==null&&t.memoizedState!==null,n.mode&1?(In=(w=In)||_,Jr(e,n),In=w):Jr(e,n),hi(n),r&8192){if(w=n.memoizedState!==null,(n.stateNode.isHidden=w)&&!_&&n.mode&1)for(Ve=n,_=n.child;_!==null;){for(A=Ve=_;Ve!==null;){switch(R=Ve,b=R.child,R.tag){case 0:case 11:case 14:case 15:zu(4,R,R.return);break;case 1:ga(R,R.return);var x=R.stateNode;if(typeof x.componentWillUnmount=="function"){r=R,t=R.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(C){Kt(r,t,C)}}break;case 5:ga(R,R.return);break;case 22:if(R.memoizedState!==null){jy(A);continue}}b!==null?(b.return=R,Ve=b):jy(A)}_=_.sibling}e:for(_=null,A=n;;){if(A.tag===5){if(_===null){_=A;try{o=A.stateNode,w?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=A.stateNode,h=A.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=mv("display",u))}catch(C){Kt(n,n.return,C)}}}else if(A.tag===6){if(_===null)try{A.stateNode.nodeValue=w?"":A.memoizedProps}catch(C){Kt(n,n.return,C)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===n)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===n)break e;for(;A.sibling===null;){if(A.return===null||A.return===n)break e;_===A&&(_=null),A=A.return}_===A&&(_=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Jr(e,n),hi(n),r&4&&Hy(n);break;case 21:break;default:Jr(e,n),hi(n)}}function hi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(W_(t)){var r=t;break e}t=t.return}throw Error(ue(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Yu(o,""),r.flags&=-33);var i=Wy(n);q0(n,i,o);break;case 3:case 4:var u=r.stateNode.containerInfo,c=Wy(n);$0(n,c,u);break;default:throw Error(ue(161))}}catch(h){Kt(n,n.return,h)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function yx(n,e,t){Ve=n,j_(n)}function j_(n,e,t){for(var r=(n.mode&1)!==0;Ve!==null;){var o=Ve,i=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||ec;if(!u){var c=o.alternate,h=c!==null&&c.memoizedState!==null||In;c=ec;var w=In;if(ec=u,(In=h)&&!w)for(Ve=o;Ve!==null;)u=Ve,h=u.child,u.tag===22&&u.memoizedState!==null?Vy(o):h!==null?(h.return=u,Ve=h):Vy(o);for(;i!==null;)Ve=i,j_(i),i=i.sibling;Ve=o,ec=c,In=w}Ky(n)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Ve=i):Ky(n)}}function Ky(n){for(;Ve!==null;){var e=Ve;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:In||rh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!In)if(t===null)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:ei(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xy(e,i,r);break;case 3:var u=e.updateQueue;if(u!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}xy(e,u,t)}break;case 5:var c=e.stateNode;if(t===null&&e.flags&4){t=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&t.focus();break;case"img":h.src&&(t.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var w=e.alternate;if(w!==null){var _=w.memoizedState;if(_!==null){var A=_.dehydrated;A!==null&&el(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}In||e.flags&512&&V0(e)}catch(R){Kt(e,e.return,R)}}if(e===n){Ve=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function jy(n){for(;Ve!==null;){var e=Ve;if(e===n){Ve=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ve=t;break}Ve=e.return}}function Vy(n){for(;Ve!==null;){var e=Ve;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{rh(4,e)}catch(h){Kt(e,t,h)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(h){Kt(e,o,h)}}var i=e.return;try{V0(e)}catch(h){Kt(e,i,h)}break;case 5:var u=e.return;try{V0(e)}catch(h){Kt(e,u,h)}}}catch(h){Kt(e,e.return,h)}if(e===n){Ve=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Ve=c;break}Ve=e.return}}var wx=Math.ceil,vf=so.ReactCurrentDispatcher,Am=so.ReactCurrentOwner,zr=so.ReactCurrentBatchConfig,ct=0,fn=null,en=null,wn=0,br=0,ya=Yo(0),on=0,fl=null,Ns=0,ih=0,Rm=0,Fu=null,ar=null,xm=0,Fa=1/0,Ui=null,_f=!1,G0=null,Do=null,tc=!1,xo=null,Ef=0,Wu=0,Z0=null,Tc=-1,Nc=0;function er(){return ct&6?$t():Tc!==-1?Tc:Tc=$t()}function zo(n){return n.mode&1?ct&2&&wn!==0?wn&-wn:tx.transition!==null?(Nc===0&&(Nc=kv()),Nc):(n=yt,n!==0||(n=window.event,n=n===void 0?16:Lv(n.type)),n):1}function ai(n,e,t,r){if(50<Wu)throw Wu=0,Z0=null,Error(ue(185));Ml(n,t,r),(!(ct&2)||n!==fn)&&(n===fn&&(!(ct&2)&&(ih|=t),on===4&&So(n,wn)),gr(n,r),t===1&&ct===0&&!(e.mode&1)&&(Fa=$t()+500,eh&&Xo()))}function gr(n,e){var t=n.callbackNode;tR(n,e);var r=rf(n,n===fn?wn:0);if(r===0)t!==null&&ey(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&ey(t),e===1)n.tag===0?ex($y.bind(null,n)):e_($y.bind(null,n)),YR(function(){!(ct&6)&&Xo()}),t=null;else{switch(Iv(r)){case 1:t=Jp;break;case 4:t=Rv;break;case 16:t=nf;break;case 536870912:t=xv;break;default:t=nf}t=Q_(t,V_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function V_(n,e){if(Tc=-1,Nc=0,ct&6)throw Error(ue(327));var t=n.callbackNode;if(xa()&&n.callbackNode!==t)return null;var r=rf(n,n===fn?wn:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=bf(n,r);else{e=r;var o=ct;ct|=2;var i=q_();(fn!==n||wn!==e)&&(Ui=null,Fa=$t()+500,Ms(n,e));do try{Ex();break}catch(c){$_(n,c)}while(!0);hm(),vf.current=i,ct=o,en!==null?e=0:(fn=null,wn=0,e=on)}if(e!==0){if(e===2&&(o=b0(n),o!==0&&(r=o,e=Y0(n,o))),e===1)throw t=fl,Ms(n,0),So(n,r),gr(n,$t()),t;if(e===6)So(n,r);else{if(o=n.current.alternate,!(r&30)&&!vx(o)&&(e=bf(n,r),e===2&&(i=b0(n),i!==0&&(r=i,e=Y0(n,i))),e===1))throw t=fl,Ms(n,0),So(n,r),gr(n,$t()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:ns(n,ar,Ui);break;case 3:if(So(n,r),(r&130023424)===r&&(e=xm+500-$t(),10<e)){if(rf(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){er(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=T0(ns.bind(null,n,ar,Ui),e);break}ns(n,ar,Ui);break;case 4:if(So(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var u=31-si(r);i=1<<u,u=e[u],u>o&&(o=u),r&=~i}if(r=o,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wx(r/1960))-r,10<r){n.timeoutHandle=T0(ns.bind(null,n,ar,Ui),r);break}ns(n,ar,Ui);break;case 5:ns(n,ar,Ui);break;default:throw Error(ue(329))}}}return gr(n,$t()),n.callbackNode===t?V_.bind(null,n):null}function Y0(n,e){var t=Fu;return n.current.memoizedState.isDehydrated&&(Ms(n,e).flags|=256),n=bf(n,e),n!==2&&(e=ar,ar=t,e!==null&&X0(e)),n}function X0(n){ar===null?ar=n:ar.push.apply(ar,n)}function vx(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var o=t[r],i=o.getSnapshot;o=o.value;try{if(!li(i(),o))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(n,e){for(e&=~Rm,e&=~ih,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-si(e),r=1<<t;n[t]=-1,e&=~r}}function $y(n){if(ct&6)throw Error(ue(327));xa();var e=rf(n,0);if(!(e&1))return gr(n,$t()),null;var t=bf(n,e);if(n.tag!==0&&t===2){var r=b0(n);r!==0&&(e=r,t=Y0(n,r))}if(t===1)throw t=fl,Ms(n,0),So(n,e),gr(n,$t()),t;if(t===6)throw Error(ue(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ns(n,ar,Ui),gr(n,$t()),null}function km(n,e){var t=ct;ct|=1;try{return n(e)}finally{ct=t,ct===0&&(Fa=$t()+500,eh&&Xo())}}function Cs(n){xo!==null&&xo.tag===0&&!(ct&6)&&xa();var e=ct;ct|=1;var t=zr.transition,r=yt;try{if(zr.transition=null,yt=1,n)return n()}finally{yt=r,zr.transition=t,ct=e,!(ct&6)&&Xo()}}function Im(){br=ya.current,xt(ya)}function Ms(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ZR(t)),en!==null)for(t=en.return;t!==null;){var r=t;switch(lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:Da(),xt(pr),xt(Nn),wm();break;case 5:ym(r);break;case 4:Da();break;case 13:xt(Ot);break;case 19:xt(Ot);break;case 10:dm(r.type._context);break;case 22:case 23:Im()}t=t.return}if(fn=n,en=n=Fo(n.current,null),wn=br=e,on=0,fl=null,Rm=ih=Ns=0,ar=Fu=null,fs!==null){for(e=0;e<fs.length;e++)if(t=fs[e],r=t.interleaved,r!==null){t.interleaved=null;var o=r.next,i=t.pending;if(i!==null){var u=i.next;i.next=o,r.next=u}t.pending=r}fs=null}return n}function $_(n,e){do{var t=en;try{if(hm(),xc.current=wf,yf){for(var r=Lt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}yf=!1}if(Ts=0,cn=nn=Lt=null,Du=!1,ul=0,Am.current=null,t===null||t.return===null){on=1,fl=e,en=null;break}e:{var i=n,u=t.return,c=t,h=e;if(e=wn,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var w=h,_=c,A=_.tag;if(!(_.mode&1)&&(A===0||A===11||A===15)){var R=_.alternate;R?(_.updateQueue=R.updateQueue,_.memoizedState=R.memoizedState,_.lanes=R.lanes):(_.updateQueue=null,_.memoizedState=null)}var b=Oy(u);if(b!==null){b.flags&=-257,By(b,u,c,i,e),b.mode&1&&Cy(i,w,e),e=b,h=w;var x=e.updateQueue;if(x===null){var C=new Set;C.add(h),e.updateQueue=C}else x.add(h);break e}else{if(!(e&1)){Cy(i,w,e),Tm();break e}h=Error(ue(426))}}else if(Tt&&c.mode&1){var O=Oy(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),By(O,u,c,i,e),cm(za(h,c));break e}}i=h=za(h,c),on!==4&&(on=2),Fu===null?Fu=[i]:Fu.push(i),i=u;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=I_(i,h,e);Ry(i,k);break e;case 1:c=h;var T=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Do===null||!Do.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var B=T_(i,c,e);Ry(i,B);break e}}i=i.return}while(i!==null)}Z_(t)}catch(P){e=P,en===t&&t!==null&&(en=t=t.return);continue}break}while(!0)}function q_(){var n=vf.current;return vf.current=wf,n===null?wf:n}function Tm(){(on===0||on===3||on===2)&&(on=4),fn===null||!(Ns&268435455)&&!(ih&268435455)||So(fn,wn)}function bf(n,e){var t=ct;ct|=2;var r=q_();(fn!==n||wn!==e)&&(Ui=null,Ms(n,e));do try{_x();break}catch(o){$_(n,o)}while(!0);if(hm(),ct=t,vf.current=r,en!==null)throw Error(ue(261));return fn=null,wn=0,on}function _x(){for(;en!==null;)G_(en)}function Ex(){for(;en!==null&&!$A();)G_(en)}function G_(n){var e=X_(n.alternate,n,br);n.memoizedProps=n.pendingProps,e===null?Z_(n):en=e,Am.current=null}function Z_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=px(t,e),t!==null){t.flags&=32767,en=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{on=6,en=null;return}}else if(t=dx(t,e,br),t!==null){en=t;return}if(e=e.sibling,e!==null){en=e;return}en=e=n}while(e!==null);on===0&&(on=5)}function ns(n,e,t){var r=yt,o=zr.transition;try{zr.transition=null,yt=1,bx(n,e,t,r)}finally{zr.transition=o,yt=r}return null}function bx(n,e,t,r){do xa();while(xo!==null);if(ct&6)throw Error(ue(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(ue(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(nR(n,i),n===fn&&(en=fn=null,wn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||tc||(tc=!0,Q_(nf,function(){return xa(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var u=yt;yt=1;var c=ct;ct|=4,Am.current=null,gx(n,t),K_(t,n),HR(k0),of=!!x0,k0=x0=null,n.current=t,yx(t),qA(),ct=c,yt=u,zr.transition=i}else n.current=t;if(tc&&(tc=!1,xo=n,Ef=o),i=n.pendingLanes,i===0&&(Do=null),YA(t.stateNode),gr(n,$t()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(_f)throw _f=!1,n=G0,G0=null,n;return Ef&1&&n.tag!==0&&xa(),i=n.pendingLanes,i&1?n===Z0?Wu++:(Wu=0,Z0=n):Wu=0,Xo(),null}function xa(){if(xo!==null){var n=Iv(Ef),e=zr.transition,t=yt;try{if(zr.transition=null,yt=16>n?16:n,xo===null)var r=!1;else{if(n=xo,xo=null,Ef=0,ct&6)throw Error(ue(331));var o=ct;for(ct|=4,Ve=n.current;Ve!==null;){var i=Ve,u=i.child;if(Ve.flags&16){var c=i.deletions;if(c!==null){for(var h=0;h<c.length;h++){var w=c[h];for(Ve=w;Ve!==null;){var _=Ve;switch(_.tag){case 0:case 11:case 15:zu(8,_,i)}var A=_.child;if(A!==null)A.return=_,Ve=A;else for(;Ve!==null;){_=Ve;var R=_.sibling,b=_.return;if(F_(_),_===w){Ve=null;break}if(R!==null){R.return=b,Ve=R;break}Ve=b}}}var x=i.alternate;if(x!==null){var C=x.child;if(C!==null){x.child=null;do{var O=C.sibling;C.sibling=null,C=O}while(C!==null)}}Ve=i}}if(i.subtreeFlags&2064&&u!==null)u.return=i,Ve=u;else e:for(;Ve!==null;){if(i=Ve,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zu(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,Ve=k;break e}Ve=i.return}}var T=n.current;for(Ve=T;Ve!==null;){u=Ve;var I=u.child;if(u.subtreeFlags&2064&&I!==null)I.return=u,Ve=I;else e:for(u=T;Ve!==null;){if(c=Ve,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:rh(9,c)}}catch(P){Kt(c,c.return,P)}if(c===u){Ve=null;break e}var B=c.sibling;if(B!==null){B.return=c.return,Ve=B;break e}Ve=c.return}}if(ct=o,Xo(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(Zf,n)}catch{}r=!0}return r}finally{yt=t,zr.transition=e}}return!1}function qy(n,e,t){e=za(t,e),e=I_(n,e,1),n=Uo(n,e,1),e=er(),n!==null&&(Ml(n,1,e),gr(n,e))}function Kt(n,e,t){if(n.tag===3)qy(n,n,t);else for(;e!==null;){if(e.tag===3){qy(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Do===null||!Do.has(r))){n=za(t,n),n=T_(e,n,1),e=Uo(e,n,1),n=er(),e!==null&&(Ml(e,1,n),gr(e,n));break}}e=e.return}}function Sx(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=er(),n.pingedLanes|=n.suspendedLanes&t,fn===n&&(wn&t)===t&&(on===4||on===3&&(wn&130023424)===wn&&500>$t()-xm?Ms(n,0):Rm|=t),gr(n,e)}function Y_(n,e){e===0&&(n.mode&1?(e=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):e=1);var t=er();n=Ji(n,e),n!==null&&(Ml(n,e,t),gr(n,t))}function Mx(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),Y_(n,t)}function Ax(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),Y_(n,t)}var X_;X_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||pr.current)fr=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return fr=!1,hx(n,e,t);fr=!!(n.flags&131072)}else fr=!1,Tt&&e.flags&1048576&&t_(e,hf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(n,e),n=e.pendingProps;var o=La(e,Nn.current);Ra(e,t),o=_m(null,e,r,n,o,t);var i=Em();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(r)?(i=!0,cf(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,mm(e),o.updater=nh,e.stateNode=o,o._reactInternals=e,U0(e,r,n,t),e=F0(null,e,r,!0,i,t)):(e.tag=0,Tt&&i&&um(e),Qn(null,e,o,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=xx(r),n=ei(r,n),o){case 0:e=z0(null,e,r,n,t);break e;case 1:e=Uy(null,e,r,n,t);break e;case 11:e=Ly(null,e,r,n,t);break e;case 14:e=Py(null,e,r,ei(r.type,n),t);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ei(r,o),z0(n,e,r,o,t);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ei(r,o),Uy(n,e,r,o,t);case 3:e:{if(B_(e),n===null)throw Error(ue(387));r=e.pendingProps,i=e.memoizedState,o=i.element,a_(n,e),mf(e,r,null,t);var u=e.memoizedState;if(r=u.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=za(Error(ue(423)),e),e=Dy(n,e,r,t,o);break e}else if(r!==o){o=za(Error(ue(424)),e),e=Dy(n,e,r,t,o);break e}else for(Rr=Po(e.stateNode.containerInfo.firstChild),xr=e,Tt=!0,ri=null,t=o_(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Pa(),r===o){e=eo(n,e,t);break e}Qn(n,e,r,t)}e=e.child}return e;case 5:return u_(e),n===null&&B0(e),r=e.type,o=e.pendingProps,i=n!==null?n.memoizedProps:null,u=o.children,I0(r,o)?u=null:i!==null&&I0(r,i)&&(e.flags|=32),O_(n,e),Qn(n,e,u,t),e.child;case 6:return n===null&&B0(e),null;case 13:return L_(n,e,t);case 4:return gm(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Ua(e,null,r,t):Qn(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ei(r,o),Ly(n,e,r,o,t);case 7:return Qn(n,e,e.pendingProps,t),e.child;case 8:return Qn(n,e,e.pendingProps.children,t),e.child;case 12:return Qn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,u=o.value,Mt(df,r._currentValue),r._currentValue=u,i!==null)if(li(i.value,u)){if(i.children===o.children&&!pr.current){e=eo(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){u=i.child;for(var h=c.firstContext;h!==null;){if(h.context===r){if(i.tag===1){h=Yi(-1,t&-t),h.tag=2;var w=i.updateQueue;if(w!==null){w=w.shared;var _=w.pending;_===null?h.next=h:(h.next=_.next,_.next=h),w.pending=h}}i.lanes|=t,h=i.alternate,h!==null&&(h.lanes|=t),L0(i.return,t,e),c.lanes|=t;break}h=h.next}}else if(i.tag===10)u=i.type===e.type?null:i.child;else if(i.tag===18){if(u=i.return,u===null)throw Error(ue(341));u.lanes|=t,c=u.alternate,c!==null&&(c.lanes|=t),L0(u,t,e),u=i.sibling}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===e){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}Qn(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Ra(e,t),o=Wr(o),r=r(o),e.flags|=1,Qn(n,e,r,t),e.child;case 14:return r=e.type,o=ei(r,e.pendingProps),o=ei(r.type,o),Py(n,e,r,o,t);case 15:return N_(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ei(r,o),Ic(n,e),e.tag=1,mr(r)?(n=!0,cf(e)):n=!1,Ra(e,t),k_(e,r,o),U0(e,r,o,t),F0(null,e,r,!0,n,t);case 19:return P_(n,e,t);case 22:return C_(n,e,t)}throw Error(ue(156,e.tag))};function Q_(n,e){return Av(n,e)}function Rx(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(n,e,t,r){return new Rx(n,e,t,r)}function Nm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xx(n){if(typeof n=="function")return Nm(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Yp)return 11;if(n===Xp)return 14}return 2}function Fo(n,e){var t=n.alternate;return t===null?(t=Dr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Cc(n,e,t,r,o,i){var u=2;if(r=n,typeof n=="function")Nm(n)&&(u=1);else if(typeof n=="string")u=5;else e:switch(n){case aa:return As(t.children,o,i,e);case Zp:u=8,o|=8;break;case a0:return n=Dr(12,t,e,o|2),n.elementType=a0,n.lanes=i,n;case u0:return n=Dr(13,t,e,o),n.elementType=u0,n.lanes=i,n;case l0:return n=Dr(19,t,e,o),n.elementType=l0,n.lanes=i,n;case uv:return oh(t,o,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sv:u=10;break e;case av:u=9;break e;case Yp:u=11;break e;case Xp:u=14;break e;case wo:u=16,r=null;break e}throw Error(ue(130,n==null?n:typeof n,""))}return e=Dr(u,t,e,o),e.elementType=n,e.type=r,e.lanes=i,e}function As(n,e,t,r){return n=Dr(7,n,r,e),n.lanes=t,n}function oh(n,e,t,r){return n=Dr(22,n,r,e),n.elementType=uv,n.lanes=t,n.stateNode={isHidden:!1},n}function hd(n,e,t){return n=Dr(6,n,null,e),n.lanes=t,n}function dd(n,e,t){return e=Dr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function kx(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qh(0),this.expirationTimes=qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Cm(n,e,t,r,o,i,u,c,h){return n=new kx(n,e,t,c,h),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Dr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(i),n}function Ix(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function J_(n){if(!n)return Vo;n=n._reactInternals;e:{if(Ds(n)!==n||n.tag!==1)throw Error(ue(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(n.tag===1){var t=n.type;if(mr(t))return Jv(n,t,e)}return e}function eE(n,e,t,r,o,i,u,c,h){return n=Cm(t,r,!0,n,o,i,u,c,h),n.context=J_(null),t=n.current,r=er(),o=zo(t),i=Yi(r,o),i.callback=e??null,Uo(t,i,o),n.current.lanes=o,Ml(n,o,r),gr(n,r),n}function sh(n,e,t,r){var o=e.current,i=er(),u=zo(o);return t=J_(t),e.context===null?e.context=t:e.pendingContext=t,e=Yi(i,u),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Uo(o,e,u),n!==null&&(ai(n,o,u,i),Rc(n,o,u)),u}function Sf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Gy(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Om(n,e){Gy(n,e),(n=n.alternate)&&Gy(n,e)}function Tx(){return null}var tE=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bm(n){this._internalRoot=n}ah.prototype.render=Bm.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(ue(409));sh(n,e,null,null)};ah.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cs(function(){sh(null,n,null,null)}),e[Qi]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var e=Cv();n={blockedOn:null,target:n,priority:e};for(var t=0;t<bo.length&&e!==0&&e<bo[t].priority;t++);bo.splice(t,0,n),t===0&&Bv(n)}};function Lm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function uh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function Nx(n,e,t,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var w=Sf(u);i.call(w)}}var u=eE(e,r,n,0,null,!1,!1,"",Zy);return n._reactRootContainer=u,n[Qi]=u.current,rl(n.nodeType===8?n.parentNode:n),Cs(),u}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var c=r;r=function(){var w=Sf(h);c.call(w)}}var h=Cm(n,0,!1,null,null,!1,!1,"",Zy);return n._reactRootContainer=h,n[Qi]=h.current,rl(n.nodeType===8?n.parentNode:n),Cs(function(){sh(e,h,t,r)}),h}function lh(n,e,t,r,o){var i=t._reactRootContainer;if(i){var u=i;if(typeof o=="function"){var c=o;o=function(){var h=Sf(u);c.call(h)}}sh(e,u,n,o)}else u=Nx(t,e,n,o,r);return Sf(u)}Tv=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Mu(e.pendingLanes);t!==0&&(em(e,t|1),gr(e,$t()),!(ct&6)&&(Fa=$t()+500,Xo()))}break;case 13:Cs(function(){var r=Ji(n,1);if(r!==null){var o=er();ai(r,n,1,o)}}),Om(n,1)}};tm=function(n){if(n.tag===13){var e=Ji(n,134217728);if(e!==null){var t=er();ai(e,n,134217728,t)}Om(n,134217728)}};Nv=function(n){if(n.tag===13){var e=zo(n),t=Ji(n,e);if(t!==null){var r=er();ai(t,n,e,r)}Om(n,e)}};Cv=function(){return yt};Ov=function(n,e){var t=yt;try{return yt=n,e()}finally{yt=t}};v0=function(n,e,t){switch(e){case"input":if(h0(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=Jf(r);if(!o)throw Error(ue(90));cv(r),h0(r,o)}}}break;case"textarea":hv(n,t);break;case"select":e=t.value,e!=null&&ba(n,!!t.multiple,e,!1)}};vv=km;_v=Cs;var Cx={usingClientEntryPoint:!1,Events:[Rl,fa,Jf,yv,wv,km]},yu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ox={bundleType:yu.bundleType,version:yu.version,rendererPackageName:yu.rendererPackageName,rendererConfig:yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Sv(n),n===null?null:n.stateNode},findFiberByHostInstance:yu.findFiberByHostInstance||Tx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Zf=nc.inject(Ox),Si=nc}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cx;Ir.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lm(e))throw Error(ue(200));return Ix(n,e,null,t)};Ir.createRoot=function(n,e){if(!Lm(n))throw Error(ue(299));var t=!1,r="",o=tE;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Cm(n,1,!1,null,null,t,!1,r,o),n[Qi]=e.current,rl(n.nodeType===8?n.parentNode:n),new Bm(e)};Ir.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(ue(188)):(n=Object.keys(n).join(","),Error(ue(268,n)));return n=Sv(e),n=n===null?null:n.stateNode,n};Ir.flushSync=function(n){return Cs(n)};Ir.hydrate=function(n,e,t){if(!uh(e))throw Error(ue(200));return lh(null,n,e,!0,t)};Ir.hydrateRoot=function(n,e,t){if(!Lm(n))throw Error(ue(405));var r=t!=null&&t.hydratedSources||null,o=!1,i="",u=tE;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),e=eE(e,null,n,1,t??null,o,!1,i,u),n[Qi]=e.current,rl(n),r)for(n=0;n<r.length;n++)t=r[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new ah(e)};Ir.render=function(n,e,t){if(!uh(e))throw Error(ue(200));return lh(null,n,e,!1,t)};Ir.unmountComponentAtNode=function(n){if(!uh(n))throw Error(ue(40));return n._reactRootContainer?(Cs(function(){lh(null,null,n,!1,function(){n._reactRootContainer=null,n[Qi]=null})}),!0):!1};Ir.unstable_batchedUpdates=km;Ir.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!uh(t))throw Error(ue(200));if(n==null||n._reactInternals===void 0)throw Error(ue(38));return lh(n,e,t,!1,r)};Ir.version="18.3.1-next-f1338f8080-20240426";function nE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nE)}catch(n){console.error(n)}}nE(),nv.exports=Ir;var rE=nv.exports,Yy=rE;o0.createRoot=Yy.createRoot,o0.hydrateRoot=Yy.hydrateRoot;var $e={},ch={};ch.byteLength=Px;ch.toByteArray=Dx;ch.fromByteArray=Wx;var wi=[],Br=[],Bx=typeof Uint8Array<"u"?Uint8Array:Array,pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qs=0,Lx=pd.length;qs<Lx;++qs)wi[qs]=pd[qs],Br[pd.charCodeAt(qs)]=qs;Br[45]=62;Br[95]=63;function iE(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function Px(n){var e=iE(n),t=e[0],r=e[1];return(t+r)*3/4-r}function Ux(n,e,t){return(e+t)*3/4-t}function Dx(n){var e,t=iE(n),r=t[0],o=t[1],i=new Bx(Ux(n,r,o)),u=0,c=o>0?r-4:r,h;for(h=0;h<c;h+=4)e=Br[n.charCodeAt(h)]<<18|Br[n.charCodeAt(h+1)]<<12|Br[n.charCodeAt(h+2)]<<6|Br[n.charCodeAt(h+3)],i[u++]=e>>16&255,i[u++]=e>>8&255,i[u++]=e&255;return o===2&&(e=Br[n.charCodeAt(h)]<<2|Br[n.charCodeAt(h+1)]>>4,i[u++]=e&255),o===1&&(e=Br[n.charCodeAt(h)]<<10|Br[n.charCodeAt(h+1)]<<4|Br[n.charCodeAt(h+2)]>>2,i[u++]=e>>8&255,i[u++]=e&255),i}function zx(n){return wi[n>>18&63]+wi[n>>12&63]+wi[n>>6&63]+wi[n&63]}function Fx(n,e,t){for(var r,o=[],i=e;i<t;i+=3)r=(n[i]<<16&16711680)+(n[i+1]<<8&65280)+(n[i+2]&255),o.push(zx(r));return o.join("")}function Wx(n){for(var e,t=n.length,r=t%3,o=[],i=16383,u=0,c=t-r;u<c;u+=i)o.push(Fx(n,u,u+i>c?c:u+i));return r===1?(e=n[t-1],o.push(wi[e>>2]+wi[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],o.push(wi[e>>10]+wi[e>>4&63]+wi[e<<2&63]+"=")),o.join("")}var Pm={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Pm.read=function(n,e,t,r,o){var i,u,c=o*8-r-1,h=(1<<c)-1,w=h>>1,_=-7,A=t?o-1:0,R=t?-1:1,b=n[e+A];for(A+=R,i=b&(1<<-_)-1,b>>=-_,_+=c;_>0;i=i*256+n[e+A],A+=R,_-=8);for(u=i&(1<<-_)-1,i>>=-_,_+=r;_>0;u=u*256+n[e+A],A+=R,_-=8);if(i===0)i=1-w;else{if(i===h)return u?NaN:(b?-1:1)*(1/0);u=u+Math.pow(2,r),i=i-w}return(b?-1:1)*u*Math.pow(2,i-r)};Pm.write=function(n,e,t,r,o,i){var u,c,h,w=i*8-o-1,_=(1<<w)-1,A=_>>1,R=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=r?0:i-1,x=r?1:-1,C=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,u=_):(u=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+A>=1?e+=R/h:e+=R*Math.pow(2,1-A),e*h>=2&&(u++,h/=2),u+A>=_?(c=0,u=_):u+A>=1?(c=(e*h-1)*Math.pow(2,o),u=u+A):(c=e*Math.pow(2,A-1)*Math.pow(2,o),u=0));o>=8;n[t+b]=c&255,b+=x,c/=256,o-=8);for(u=u<<o|c,w+=o;w>0;n[t+b]=u&255,b+=x,u/=256,w-=8);n[t+b-x]|=C*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=ch,t=Pm,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=c,n.SlowBuffer=T,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const N=new Uint8Array(1),M={foo:function(){return 42}};return Object.setPrototypeOf(M,Uint8Array.prototype),Object.setPrototypeOf(N,M),N.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(N){if(N>o)throw new RangeError('The value "'+N+'" is invalid for option "size"');const M=new Uint8Array(N);return Object.setPrototypeOf(M,c.prototype),M}function c(N,M,S){if(typeof N=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return A(N)}return h(N,M,S)}c.poolSize=8192;function h(N,M,S){if(typeof N=="string")return R(N,M);if(ArrayBuffer.isView(N))return x(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Dt(N,ArrayBuffer)||N&&Dt(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Dt(N,SharedArrayBuffer)||N&&Dt(N.buffer,SharedArrayBuffer)))return C(N,M,S);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=N.valueOf&&N.valueOf();if(L!=null&&L!==N)return c.from(L,M,S);const $=O(N);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return c.from(N[Symbol.toPrimitive]("string"),M,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}c.from=function(N,M,S){return h(N,M,S)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function w(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function _(N,M,S){return w(N),N<=0?u(N):M!==void 0?typeof S=="string"?u(N).fill(M,S):u(N).fill(M):u(N)}c.alloc=function(N,M,S){return _(N,M,S)};function A(N){return w(N),u(N<0?0:k(N)|0)}c.allocUnsafe=function(N){return A(N)},c.allocUnsafeSlow=function(N){return A(N)};function R(N,M){if((typeof M!="string"||M==="")&&(M="utf8"),!c.isEncoding(M))throw new TypeError("Unknown encoding: "+M);const S=I(N,M)|0;let L=u(S);const $=L.write(N,M);return $!==S&&(L=L.slice(0,$)),L}function b(N){const M=N.length<0?0:k(N.length)|0,S=u(M);for(let L=0;L<M;L+=1)S[L]=N[L]&255;return S}function x(N){if(Dt(N,Uint8Array)){const M=new Uint8Array(N);return C(M.buffer,M.byteOffset,M.byteLength)}return b(N)}function C(N,M,S){if(M<0||N.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<M+(S||0))throw new RangeError('"length" is outside of buffer bounds');let L;return M===void 0&&S===void 0?L=new Uint8Array(N):S===void 0?L=new Uint8Array(N,M):L=new Uint8Array(N,M,S),Object.setPrototypeOf(L,c.prototype),L}function O(N){if(c.isBuffer(N)){const M=k(N.length)|0,S=u(M);return S.length===0||N.copy(S,0,0,M),S}if(N.length!==void 0)return typeof N.length!="number"||ge(N.length)?u(0):b(N);if(N.type==="Buffer"&&Array.isArray(N.data))return b(N.data)}function k(N){if(N>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return N|0}function T(N){return+N!=N&&(N=0),c.alloc(+N)}c.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==c.prototype},c.compare=function(M,S){if(Dt(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),Dt(S,Uint8Array)&&(S=c.from(S,S.offset,S.byteLength)),!c.isBuffer(M)||!c.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===S)return 0;let L=M.length,$=S.length;for(let z=0,q=Math.min(L,$);z<q;++z)if(M[z]!==S[z]){L=M[z],$=S[z];break}return L<$?-1:$<L?1:0},c.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(M,S){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return c.alloc(0);let L;if(S===void 0)for(S=0,L=0;L<M.length;++L)S+=M[L].length;const $=c.allocUnsafe(S);let z=0;for(L=0;L<M.length;++L){let q=M[L];if(Dt(q,Uint8Array))z+q.length>$.length?(c.isBuffer(q)||(q=c.from(q)),q.copy($,z)):Uint8Array.prototype.set.call($,q,z);else if(c.isBuffer(q))q.copy($,z);else throw new TypeError('"list" argument must be an Array of Buffers');z+=q.length}return $};function I(N,M){if(c.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||Dt(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const S=N.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&S===0)return 0;let $=!1;for(;;)switch(M){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return me(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return ye(N).length;default:if($)return L?-1:me(N).length;M=(""+M).toLowerCase(),$=!0}}c.byteLength=I;function B(N,M,S){let L=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,M>>>=0,S<=M))return"";for(N||(N="utf8");;)switch(N){case"hex":return v(this,M,S);case"utf8":case"utf-8":return s(this,M,S);case"ascii":return p(this,M,S);case"latin1":case"binary":return g(this,M,S);case"base64":return m(this,M,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,M,S);default:if(L)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),L=!0}}c.prototype._isBuffer=!0;function P(N,M,S){const L=N[M];N[M]=N[S],N[S]=L}c.prototype.swap16=function(){const M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<M;S+=2)P(this,S,S+1);return this},c.prototype.swap32=function(){const M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<M;S+=4)P(this,S,S+3),P(this,S+1,S+2);return this},c.prototype.swap64=function(){const M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<M;S+=8)P(this,S,S+7),P(this,S+1,S+6),P(this,S+2,S+5),P(this,S+3,S+4);return this},c.prototype.toString=function(){const M=this.length;return M===0?"":arguments.length===0?s(this,0,M):B.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(M){if(!c.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:c.compare(this,M)===0},c.prototype.inspect=function(){let M="";const S=n.INSPECT_MAX_BYTES;return M=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(M+=" ... "),"<Buffer "+M+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(M,S,L,$,z){if(Dt(M,Uint8Array)&&(M=c.from(M,M.offset,M.byteLength)),!c.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(S===void 0&&(S=0),L===void 0&&(L=M?M.length:0),$===void 0&&($=0),z===void 0&&(z=this.length),S<0||L>M.length||$<0||z>this.length)throw new RangeError("out of range index");if($>=z&&S>=L)return 0;if($>=z)return-1;if(S>=L)return 1;if(S>>>=0,L>>>=0,$>>>=0,z>>>=0,this===M)return 0;let q=z-$,Je=L-S;const ie=Math.min(q,Je),ne=this.slice($,z),st=M.slice(S,L);for(let te=0;te<ie;++te)if(ne[te]!==st[te]){q=ne[te],Je=st[te];break}return q<Je?-1:Je<q?1:0};function U(N,M,S,L,$){if(N.length===0)return-1;if(typeof S=="string"?(L=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,ge(S)&&(S=$?0:N.length-1),S<0&&(S=N.length+S),S>=N.length){if($)return-1;S=N.length-1}else if(S<0)if($)S=0;else return-1;if(typeof M=="string"&&(M=c.from(M,L)),c.isBuffer(M))return M.length===0?-1:F(N,M,S,L,$);if(typeof M=="number")return M=M&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(N,M,S):Uint8Array.prototype.lastIndexOf.call(N,M,S):F(N,[M],S,L,$);throw new TypeError("val must be string, number or Buffer")}function F(N,M,S,L,$){let z=1,q=N.length,Je=M.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(N.length<2||M.length<2)return-1;z=2,q/=2,Je/=2,S/=2}function ie(st,te){return z===1?st[te]:st.readUInt16BE(te*z)}let ne;if($){let st=-1;for(ne=S;ne<q;ne++)if(ie(N,ne)===ie(M,st===-1?0:ne-st)){if(st===-1&&(st=ne),ne-st+1===Je)return st*z}else st!==-1&&(ne-=ne-st),st=-1}else for(S+Je>q&&(S=q-Je),ne=S;ne>=0;ne--){let st=!0;for(let te=0;te<Je;te++)if(ie(N,ne+te)!==ie(M,te)){st=!1;break}if(st)return ne}return-1}c.prototype.includes=function(M,S,L){return this.indexOf(M,S,L)!==-1},c.prototype.indexOf=function(M,S,L){return U(this,M,S,L,!0)},c.prototype.lastIndexOf=function(M,S,L){return U(this,M,S,L,!1)};function j(N,M,S,L){S=Number(S)||0;const $=N.length-S;L?(L=Number(L),L>$&&(L=$)):L=$;const z=M.length;L>z/2&&(L=z/2);let q;for(q=0;q<L;++q){const Je=parseInt(M.substr(q*2,2),16);if(ge(Je))return q;N[S+q]=Je}return q}function V(N,M,S,L){return pe(me(M,N.length-S),N,S,L)}function G(N,M,S,L){return pe(ve(M),N,S,L)}function H(N,M,S,L){return pe(ye(M),N,S,L)}function Z(N,M,S,L){return pe(vr(M,N.length-S),N,S,L)}c.prototype.write=function(M,S,L,$){if(S===void 0)$="utf8",L=this.length,S=0;else if(L===void 0&&typeof S=="string")$=S,L=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(L)?(L=L>>>0,$===void 0&&($="utf8")):($=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const z=this.length-S;if((L===void 0||L>z)&&(L=z),M.length>0&&(L<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let q=!1;for(;;)switch($){case"hex":return j(this,M,S,L);case"utf8":case"utf-8":return V(this,M,S,L);case"ascii":case"latin1":case"binary":return G(this,M,S,L);case"base64":return H(this,M,S,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,M,S,L);default:if(q)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),q=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(N,M,S){return M===0&&S===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(M,S))}function s(N,M,S){S=Math.min(N.length,S);const L=[];let $=M;for(;$<S;){const z=N[$];let q=null,Je=z>239?4:z>223?3:z>191?2:1;if($+Je<=S){let ie,ne,st,te;switch(Je){case 1:z<128&&(q=z);break;case 2:ie=N[$+1],(ie&192)===128&&(te=(z&31)<<6|ie&63,te>127&&(q=te));break;case 3:ie=N[$+1],ne=N[$+2],(ie&192)===128&&(ne&192)===128&&(te=(z&15)<<12|(ie&63)<<6|ne&63,te>2047&&(te<55296||te>57343)&&(q=te));break;case 4:ie=N[$+1],ne=N[$+2],st=N[$+3],(ie&192)===128&&(ne&192)===128&&(st&192)===128&&(te=(z&15)<<18|(ie&63)<<12|(ne&63)<<6|st&63,te>65535&&te<1114112&&(q=te))}}q===null?(q=65533,Je=1):q>65535&&(q-=65536,L.push(q>>>10&1023|55296),q=56320|q&1023),L.push(q),$+=Je}return f(L)}const l=4096;function f(N){const M=N.length;if(M<=l)return String.fromCharCode.apply(String,N);let S="",L=0;for(;L<M;)S+=String.fromCharCode.apply(String,N.slice(L,L+=l));return S}function p(N,M,S){let L="";S=Math.min(N.length,S);for(let $=M;$<S;++$)L+=String.fromCharCode(N[$]&127);return L}function g(N,M,S){let L="";S=Math.min(N.length,S);for(let $=M;$<S;++$)L+=String.fromCharCode(N[$]);return L}function v(N,M,S){const L=N.length;(!M||M<0)&&(M=0),(!S||S<0||S>L)&&(S=L);let $="";for(let z=M;z<S;++z)$+=_e[N[z]];return $}function E(N,M,S){const L=N.slice(M,S);let $="";for(let z=0;z<L.length-1;z+=2)$+=String.fromCharCode(L[z]+L[z+1]*256);return $}c.prototype.slice=function(M,S){const L=this.length;M=~~M,S=S===void 0?L:~~S,M<0?(M+=L,M<0&&(M=0)):M>L&&(M=L),S<0?(S+=L,S<0&&(S=0)):S>L&&(S=L),S<M&&(S=M);const $=this.subarray(M,S);return Object.setPrototypeOf($,c.prototype),$};function d(N,M,S){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+M>S)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(M,S,L){M=M>>>0,S=S>>>0,L||d(M,S,this.length);let $=this[M],z=1,q=0;for(;++q<S&&(z*=256);)$+=this[M+q]*z;return $},c.prototype.readUintBE=c.prototype.readUIntBE=function(M,S,L){M=M>>>0,S=S>>>0,L||d(M,S,this.length);let $=this[M+--S],z=1;for(;S>0&&(z*=256);)$+=this[M+--S]*z;return $},c.prototype.readUint8=c.prototype.readUInt8=function(M,S){return M=M>>>0,S||d(M,1,this.length),this[M]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(M,S){return M=M>>>0,S||d(M,2,this.length),this[M]|this[M+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(M,S){return M=M>>>0,S||d(M,2,this.length),this[M]<<8|this[M+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(M,S){return M=M>>>0,S||d(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(M,S){return M=M>>>0,S||d(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},c.prototype.readBigUInt64LE=qt(function(M){M=M>>>0,jt(M,"offset");const S=this[M],L=this[M+7];(S===void 0||L===void 0)&&de(M,this.length-8);const $=S+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24,z=this[++M]+this[++M]*2**8+this[++M]*2**16+L*2**24;return BigInt($)+(BigInt(z)<<BigInt(32))}),c.prototype.readBigUInt64BE=qt(function(M){M=M>>>0,jt(M,"offset");const S=this[M],L=this[M+7];(S===void 0||L===void 0)&&de(M,this.length-8);const $=S*2**24+this[++M]*2**16+this[++M]*2**8+this[++M],z=this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+L;return(BigInt($)<<BigInt(32))+BigInt(z)}),c.prototype.readIntLE=function(M,S,L){M=M>>>0,S=S>>>0,L||d(M,S,this.length);let $=this[M],z=1,q=0;for(;++q<S&&(z*=256);)$+=this[M+q]*z;return z*=128,$>=z&&($-=Math.pow(2,8*S)),$},c.prototype.readIntBE=function(M,S,L){M=M>>>0,S=S>>>0,L||d(M,S,this.length);let $=S,z=1,q=this[M+--$];for(;$>0&&(z*=256);)q+=this[M+--$]*z;return z*=128,q>=z&&(q-=Math.pow(2,8*S)),q},c.prototype.readInt8=function(M,S){return M=M>>>0,S||d(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},c.prototype.readInt16LE=function(M,S){M=M>>>0,S||d(M,2,this.length);const L=this[M]|this[M+1]<<8;return L&32768?L|4294901760:L},c.prototype.readInt16BE=function(M,S){M=M>>>0,S||d(M,2,this.length);const L=this[M+1]|this[M]<<8;return L&32768?L|4294901760:L},c.prototype.readInt32LE=function(M,S){return M=M>>>0,S||d(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},c.prototype.readInt32BE=function(M,S){return M=M>>>0,S||d(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},c.prototype.readBigInt64LE=qt(function(M){M=M>>>0,jt(M,"offset");const S=this[M],L=this[M+7];(S===void 0||L===void 0)&&de(M,this.length-8);const $=this[M+4]+this[M+5]*2**8+this[M+6]*2**16+(L<<24);return(BigInt($)<<BigInt(32))+BigInt(S+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24)}),c.prototype.readBigInt64BE=qt(function(M){M=M>>>0,jt(M,"offset");const S=this[M],L=this[M+7];(S===void 0||L===void 0)&&de(M,this.length-8);const $=(S<<24)+this[++M]*2**16+this[++M]*2**8+this[++M];return(BigInt($)<<BigInt(32))+BigInt(this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+L)}),c.prototype.readFloatLE=function(M,S){return M=M>>>0,S||d(M,4,this.length),t.read(this,M,!0,23,4)},c.prototype.readFloatBE=function(M,S){return M=M>>>0,S||d(M,4,this.length),t.read(this,M,!1,23,4)},c.prototype.readDoubleLE=function(M,S){return M=M>>>0,S||d(M,8,this.length),t.read(this,M,!0,52,8)},c.prototype.readDoubleBE=function(M,S){return M=M>>>0,S||d(M,8,this.length),t.read(this,M,!1,52,8)};function a(N,M,S,L,$,z){if(!c.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>$||M<z)throw new RangeError('"value" argument is out of bounds');if(S+L>N.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(M,S,L,$){if(M=+M,S=S>>>0,L=L>>>0,!$){const Je=Math.pow(2,8*L)-1;a(this,M,S,L,Je,0)}let z=1,q=0;for(this[S]=M&255;++q<L&&(z*=256);)this[S+q]=M/z&255;return S+L},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(M,S,L,$){if(M=+M,S=S>>>0,L=L>>>0,!$){const Je=Math.pow(2,8*L)-1;a(this,M,S,L,Je,0)}let z=L-1,q=1;for(this[S+z]=M&255;--z>=0&&(q*=256);)this[S+z]=M/q&255;return S+L},c.prototype.writeUint8=c.prototype.writeUInt8=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,1,255,0),this[S]=M&255,S+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,2,65535,0),this[S]=M&255,this[S+1]=M>>>8,S+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,2,65535,0),this[S]=M>>>8,this[S+1]=M&255,S+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,4,4294967295,0),this[S+3]=M>>>24,this[S+2]=M>>>16,this[S+1]=M>>>8,this[S]=M&255,S+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,4,4294967295,0),this[S]=M>>>24,this[S+1]=M>>>16,this[S+2]=M>>>8,this[S+3]=M&255,S+4};function y(N,M,S,L,$){he(M,L,$,N,S,7);let z=Number(M&BigInt(4294967295));N[S++]=z,z=z>>8,N[S++]=z,z=z>>8,N[S++]=z,z=z>>8,N[S++]=z;let q=Number(M>>BigInt(32)&BigInt(4294967295));return N[S++]=q,q=q>>8,N[S++]=q,q=q>>8,N[S++]=q,q=q>>8,N[S++]=q,S}function W(N,M,S,L,$){he(M,L,$,N,S,7);let z=Number(M&BigInt(4294967295));N[S+7]=z,z=z>>8,N[S+6]=z,z=z>>8,N[S+5]=z,z=z>>8,N[S+4]=z;let q=Number(M>>BigInt(32)&BigInt(4294967295));return N[S+3]=q,q=q>>8,N[S+2]=q,q=q>>8,N[S+1]=q,q=q>>8,N[S]=q,S+8}c.prototype.writeBigUInt64LE=qt(function(M,S=0){return y(this,M,S,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=qt(function(M,S=0){return W(this,M,S,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(M,S,L,$){if(M=+M,S=S>>>0,!$){const ie=Math.pow(2,8*L-1);a(this,M,S,L,ie-1,-ie)}let z=0,q=1,Je=0;for(this[S]=M&255;++z<L&&(q*=256);)M<0&&Je===0&&this[S+z-1]!==0&&(Je=1),this[S+z]=(M/q>>0)-Je&255;return S+L},c.prototype.writeIntBE=function(M,S,L,$){if(M=+M,S=S>>>0,!$){const ie=Math.pow(2,8*L-1);a(this,M,S,L,ie-1,-ie)}let z=L-1,q=1,Je=0;for(this[S+z]=M&255;--z>=0&&(q*=256);)M<0&&Je===0&&this[S+z+1]!==0&&(Je=1),this[S+z]=(M/q>>0)-Je&255;return S+L},c.prototype.writeInt8=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,1,127,-128),M<0&&(M=255+M+1),this[S]=M&255,S+1},c.prototype.writeInt16LE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,2,32767,-32768),this[S]=M&255,this[S+1]=M>>>8,S+2},c.prototype.writeInt16BE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,2,32767,-32768),this[S]=M>>>8,this[S+1]=M&255,S+2},c.prototype.writeInt32LE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,4,2147483647,-2147483648),this[S]=M&255,this[S+1]=M>>>8,this[S+2]=M>>>16,this[S+3]=M>>>24,S+4},c.prototype.writeInt32BE=function(M,S,L){return M=+M,S=S>>>0,L||a(this,M,S,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[S]=M>>>24,this[S+1]=M>>>16,this[S+2]=M>>>8,this[S+3]=M&255,S+4},c.prototype.writeBigInt64LE=qt(function(M,S=0){return y(this,M,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=qt(function(M,S=0){return W(this,M,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(N,M,S,L,$,z){if(S+L>N.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function K(N,M,S,L,$){return M=+M,S=S>>>0,$||D(N,M,S,4),t.write(N,M,S,L,23,4),S+4}c.prototype.writeFloatLE=function(M,S,L){return K(this,M,S,!0,L)},c.prototype.writeFloatBE=function(M,S,L){return K(this,M,S,!1,L)};function ae(N,M,S,L,$){return M=+M,S=S>>>0,$||D(N,M,S,8),t.write(N,M,S,L,52,8),S+8}c.prototype.writeDoubleLE=function(M,S,L){return ae(this,M,S,!0,L)},c.prototype.writeDoubleBE=function(M,S,L){return ae(this,M,S,!1,L)},c.prototype.copy=function(M,S,L,$){if(!c.isBuffer(M))throw new TypeError("argument should be a Buffer");if(L||(L=0),!$&&$!==0&&($=this.length),S>=M.length&&(S=M.length),S||(S=0),$>0&&$<L&&($=L),$===L||M.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),M.length-S<$-L&&($=M.length-S+L);const z=$-L;return this===M&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,L,$):Uint8Array.prototype.set.call(M,this.subarray(L,$),S),z},c.prototype.fill=function(M,S,L,$){if(typeof M=="string"){if(typeof S=="string"?($=S,S=0,L=this.length):typeof L=="string"&&($=L,L=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!c.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(M.length===1){const q=M.charCodeAt(0);($==="utf8"&&q<128||$==="latin1")&&(M=q)}}else typeof M=="number"?M=M&255:typeof M=="boolean"&&(M=Number(M));if(S<0||this.length<S||this.length<L)throw new RangeError("Out of range index");if(L<=S)return this;S=S>>>0,L=L===void 0?this.length:L>>>0,M||(M=0);let z;if(typeof M=="number")for(z=S;z<L;++z)this[z]=M;else{const q=c.isBuffer(M)?M:c.from(M,$),Je=q.length;if(Je===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(z=0;z<L-S;++z)this[z+S]=q[z%Je]}return this};const J={};function ee(N,M,S){J[N]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(N,M){return`The "${N}" argument must be of type number. Received type ${typeof M}`},TypeError),ee("ERR_OUT_OF_RANGE",function(N,M,S){let L=`The value of "${N}" is out of range.`,$=S;return Number.isInteger(S)&&Math.abs(S)>2**32?$=pt(String(S)):typeof S=="bigint"&&($=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&($=pt($)),$+="n"),L+=` It must be ${M}. Received ${$}`,L},RangeError);function pt(N){let M="",S=N.length;const L=N[0]==="-"?1:0;for(;S>=L+4;S-=3)M=`_${N.slice(S-3,S)}${M}`;return`${N.slice(0,S)}${M}`}function fe(N,M,S){jt(M,"offset"),(N[M]===void 0||N[M+S]===void 0)&&de(M,N.length-(S+1))}function he(N,M,S,L,$,z){if(N>S||N<M){const q=typeof M=="bigint"?"n":"";let Je;throw M===0||M===BigInt(0)?Je=`>= 0${q} and < 2${q} ** ${(z+1)*8}${q}`:Je=`>= -(2${q} ** ${(z+1)*8-1}${q}) and < 2 ** ${(z+1)*8-1}${q}`,new J.ERR_OUT_OF_RANGE("value",Je,N)}fe(L,$,z)}function jt(N,M){if(typeof N!="number")throw new J.ERR_INVALID_ARG_TYPE(M,"number",N)}function de(N,M,S){throw Math.floor(N)!==N?(jt(N,S),new J.ERR_OUT_OF_RANGE("offset","an integer",N)):M<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${M}`,N)}const we=/[^+/0-9A-Za-z-_]/g;function wr(N){if(N=N.split("=")[0],N=N.trim().replace(we,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function me(N,M){M=M||1/0;let S;const L=N.length;let $=null;const z=[];for(let q=0;q<L;++q){if(S=N.charCodeAt(q),S>55295&&S<57344){if(!$){if(S>56319){(M-=3)>-1&&z.push(239,191,189);continue}else if(q+1===L){(M-=3)>-1&&z.push(239,191,189);continue}$=S;continue}if(S<56320){(M-=3)>-1&&z.push(239,191,189),$=S;continue}S=($-55296<<10|S-56320)+65536}else $&&(M-=3)>-1&&z.push(239,191,189);if($=null,S<128){if((M-=1)<0)break;z.push(S)}else if(S<2048){if((M-=2)<0)break;z.push(S>>6|192,S&63|128)}else if(S<65536){if((M-=3)<0)break;z.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((M-=4)<0)break;z.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return z}function ve(N){const M=[];for(let S=0;S<N.length;++S)M.push(N.charCodeAt(S)&255);return M}function vr(N,M){let S,L,$;const z=[];for(let q=0;q<N.length&&!((M-=2)<0);++q)S=N.charCodeAt(q),L=S>>8,$=S%256,z.push($),z.push(L);return z}function ye(N){return e.toByteArray(wr(N))}function pe(N,M,S,L){let $;for($=0;$<L&&!($+S>=M.length||$>=N.length);++$)M[$+S]=N[$];return $}function Dt(N,M){return N instanceof M||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===M.name}function ge(N){return N!==N}const _e=function(){const N="0123456789abcdef",M=new Array(256);for(let S=0;S<16;++S){const L=S*16;for(let $=0;$<16;++$)M[L+$]=N[S]+N[$]}return M}();function qt(N){return typeof BigInt>"u"?Ee:N}function Ee(){throw new Error("BigInt not supported")}})($e);const Gs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function kl(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function hl(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function to(n,...e){if(!kl(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function oE(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hl(n.outputLen),hl(n.blockLen)}function Wa(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function sE(n,e){to(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Hx(n){return new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4))}function $o(...n){for(let e=0;e<n.length;e++)n[e].fill(0)}function md(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function di(n,e){return n<<32-e|n>>>e}const Kx=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jx(n){return n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255}function Vx(n){for(let e=0;e<n.length;e++)n[e]=jx(n[e]);return n}const Xy=Kx?n=>n:Vx,aE=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$x=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Rs(n){if(to(n),aE)return n.toHex();let e="";for(let t=0;t<n.length;t++)e+=$x[n[t]];return e}const Ci={_0:48,_9:57,A:65,F:70,a:97,f:102};function Qy(n){if(n>=Ci._0&&n<=Ci._9)return n-Ci._0;if(n>=Ci.A&&n<=Ci.F)return n-(Ci.A-10);if(n>=Ci.a&&n<=Ci.f)return n-(Ci.a-10)}function Mf(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);if(aE)return Uint8Array.fromHex(n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let o=0,i=0;o<t;o++,i+=2){const u=Qy(n.charCodeAt(i)),c=Qy(n.charCodeAt(i+1));if(u===void 0||c===void 0){const h=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+h+'" at index '+i)}r[o]=u*16+c}return r}function qx(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}function fh(n){return typeof n=="string"&&(n=qx(n)),to(n),n}function vi(...n){let e=0;for(let r=0;r<n.length;r++){const o=n[r];to(o),e+=o.length}const t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){const i=n[r];t.set(i,o),o+=i.length}return t}class Um{}function Dm(n){const e=r=>n().update(fh(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function zm(n=32){if(Gs&&typeof Gs.getRandomValues=="function")return Gs.getRandomValues(new Uint8Array(n));if(Gs&&typeof Gs.randomBytes=="function")return Uint8Array.from(Gs.randomBytes(n));throw new Error("crypto.getRandomValues must be defined")}function Gx(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const o=BigInt(32),i=BigInt(4294967295),u=Number(t>>o&i),c=Number(t&i),h=r?4:0,w=r?0:4;n.setUint32(e+h,u,r),n.setUint32(e+w,c,r)}function Zx(n,e,t){return n&e^~n&t}function Yx(n,e,t){return n&e^n&t^e&t}class uE extends Um{constructor(e,t,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=md(this.buffer)}update(e){Wa(this),e=fh(e),to(e);const{view:t,buffer:r,blockLen:o}=this,i=e.length;for(let u=0;u<i;){const c=Math.min(o-this.pos,i-u);if(c===o){const h=md(e);for(;o<=i-u;u+=o)this.process(h,u);continue}r.set(e.subarray(u,u+c),this.pos),this.pos+=c,u+=c,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wa(this),sE(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:i}=this;let{pos:u}=this;t[u++]=128,$o(this.buffer.subarray(u)),this.padOffset>o-u&&(this.process(r,0),u=0);for(let A=u;A<o;A++)t[A]=0;Gx(r,o-8,BigInt(this.length*8),i),this.process(r,0);const c=md(e),h=this.outputLen;if(h%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=h/4,_=this.get();if(w>_.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<w;A++)c.setUint32(4*A,_[A],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:o,finished:i,destroyed:u,pos:c}=this;return e.destroyed=u,e.finished=i,e.length=o,e.pos=c,o%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const lo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),rc=BigInt(2**32-1),Jy=BigInt(32);function Xx(n,e=!1){return e?{h:Number(n&rc),l:Number(n>>Jy&rc)}:{h:Number(n>>Jy&rc)|0,l:Number(n&rc)|0}}function lE(n,e=!1){const t=n.length;let r=new Uint32Array(t),o=new Uint32Array(t);for(let i=0;i<t;i++){const{h:u,l:c}=Xx(n[i],e);[r[i],o[i]]=[u,c]}return[r,o]}const e1=(n,e,t)=>n>>>t,t1=(n,e,t)=>n<<32-t|e>>>t,Zs=(n,e,t)=>n>>>t|e<<32-t,Ys=(n,e,t)=>n<<32-t|e>>>t,ic=(n,e,t)=>n<<64-t|e>>>t-32,oc=(n,e,t)=>n>>>t-32|e<<64-t,Qx=(n,e,t)=>n<<t|e>>>32-t,Jx=(n,e,t)=>e<<t|n>>>32-t,ek=(n,e,t)=>e<<t-32|n>>>64-t,tk=(n,e,t)=>n<<t-32|e>>>64-t;function Oi(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:o|0}}const nk=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),rk=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,ik=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ok=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,sk=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),ak=(n,e,t,r,o,i)=>e+t+r+o+i+(n/2**32|0)|0,uk=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),co=new Uint32Array(64);class lk extends uE{constructor(e=32){super(64,e,8,!1),this.A=lo[0]|0,this.B=lo[1]|0,this.C=lo[2]|0,this.D=lo[3]|0,this.E=lo[4]|0,this.F=lo[5]|0,this.G=lo[6]|0,this.H=lo[7]|0}get(){const{A:e,B:t,C:r,D:o,E:i,F:u,G:c,H:h}=this;return[e,t,r,o,i,u,c,h]}set(e,t,r,o,i,u,c,h){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=u|0,this.G=c|0,this.H=h|0}process(e,t){for(let A=0;A<16;A++,t+=4)co[A]=e.getUint32(t,!1);for(let A=16;A<64;A++){const R=co[A-15],b=co[A-2],x=di(R,7)^di(R,18)^R>>>3,C=di(b,17)^di(b,19)^b>>>10;co[A]=C+co[A-7]+x+co[A-16]|0}let{A:r,B:o,C:i,D:u,E:c,F:h,G:w,H:_}=this;for(let A=0;A<64;A++){const R=di(c,6)^di(c,11)^di(c,25),b=_+R+Zx(c,h,w)+uk[A]+co[A]|0,C=(di(r,2)^di(r,13)^di(r,22))+Yx(r,o,i)|0;_=w,w=h,h=c,c=u+b|0,u=i,i=o,o=r,r=b+C|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,u=u+this.D|0,c=c+this.E|0,h=h+this.F|0,w=w+this.G|0,_=_+this.H|0,this.set(r,o,i,u,c,h,w,_)}roundClean(){$o(co)}destroy(){this.set(0,0,0,0,0,0,0,0),$o(this.buffer)}}const cE=lE(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ck=cE[0],fk=cE[1],fo=new Uint32Array(80),ho=new Uint32Array(80);class hk extends uE{constructor(e=64){super(128,e,16,!1),this.Ah=Sn[0]|0,this.Al=Sn[1]|0,this.Bh=Sn[2]|0,this.Bl=Sn[3]|0,this.Ch=Sn[4]|0,this.Cl=Sn[5]|0,this.Dh=Sn[6]|0,this.Dl=Sn[7]|0,this.Eh=Sn[8]|0,this.El=Sn[9]|0,this.Fh=Sn[10]|0,this.Fl=Sn[11]|0,this.Gh=Sn[12]|0,this.Gl=Sn[13]|0,this.Hh=Sn[14]|0,this.Hl=Sn[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:o,Ch:i,Cl:u,Dh:c,Dl:h,Eh:w,El:_,Fh:A,Fl:R,Gh:b,Gl:x,Hh:C,Hl:O}=this;return[e,t,r,o,i,u,c,h,w,_,A,R,b,x,C,O]}set(e,t,r,o,i,u,c,h,w,_,A,R,b,x,C,O){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=o|0,this.Ch=i|0,this.Cl=u|0,this.Dh=c|0,this.Dl=h|0,this.Eh=w|0,this.El=_|0,this.Fh=A|0,this.Fl=R|0,this.Gh=b|0,this.Gl=x|0,this.Hh=C|0,this.Hl=O|0}process(e,t){for(let I=0;I<16;I++,t+=4)fo[I]=e.getUint32(t),ho[I]=e.getUint32(t+=4);for(let I=16;I<80;I++){const B=fo[I-15]|0,P=ho[I-15]|0,U=Zs(B,P,1)^Zs(B,P,8)^e1(B,P,7),F=Ys(B,P,1)^Ys(B,P,8)^t1(B,P,7),j=fo[I-2]|0,V=ho[I-2]|0,G=Zs(j,V,19)^ic(j,V,61)^e1(j,V,6),H=Ys(j,V,19)^oc(j,V,61)^t1(j,V,6),Z=ik(F,H,ho[I-7],ho[I-16]),m=ok(Z,U,G,fo[I-7],fo[I-16]);fo[I]=m|0,ho[I]=Z|0}let{Ah:r,Al:o,Bh:i,Bl:u,Ch:c,Cl:h,Dh:w,Dl:_,Eh:A,El:R,Fh:b,Fl:x,Gh:C,Gl:O,Hh:k,Hl:T}=this;for(let I=0;I<80;I++){const B=Zs(A,R,14)^Zs(A,R,18)^ic(A,R,41),P=Ys(A,R,14)^Ys(A,R,18)^oc(A,R,41),U=A&b^~A&C,F=R&x^~R&O,j=sk(T,P,F,fk[I],ho[I]),V=ak(j,k,B,U,ck[I],fo[I]),G=j|0,H=Zs(r,o,28)^ic(r,o,34)^ic(r,o,39),Z=Ys(r,o,28)^oc(r,o,34)^oc(r,o,39),m=r&i^r&c^i&c,s=o&u^o&h^u&h;k=C|0,T=O|0,C=b|0,O=x|0,b=A|0,x=R|0,{h:A,l:R}=Oi(w|0,_|0,V|0,G|0),w=c|0,_=h|0,c=i|0,h=u|0,i=r|0,u=o|0;const l=nk(G,Z,s);r=rk(l,V,H,m),o=l|0}({h:r,l:o}=Oi(this.Ah|0,this.Al|0,r|0,o|0)),{h:i,l:u}=Oi(this.Bh|0,this.Bl|0,i|0,u|0),{h:c,l:h}=Oi(this.Ch|0,this.Cl|0,c|0,h|0),{h:w,l:_}=Oi(this.Dh|0,this.Dl|0,w|0,_|0),{h:A,l:R}=Oi(this.Eh|0,this.El|0,A|0,R|0),{h:b,l:x}=Oi(this.Fh|0,this.Fl|0,b|0,x|0),{h:C,l:O}=Oi(this.Gh|0,this.Gl|0,C|0,O|0),{h:k,l:T}=Oi(this.Hh|0,this.Hl|0,k|0,T|0),this.set(r,o,i,u,c,h,w,_,A,R,b,x,C,O,k,T)}roundClean(){$o(fo,ho)}destroy(){$o(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fE=Dm(()=>new lk),dk=Dm(()=>new hk);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fm=BigInt(0),Q0=BigInt(1);function Os(n,e=""){if(typeof n!="boolean"){const t=e&&`"${e}"`;throw new Error(t+"expected boolean, got type="+typeof n)}return n}function ii(n,e,t=""){const r=kl(n),o=n==null?void 0:n.length,i=e!==void 0;if(!r||i&&o!==e){const u=t&&`"${t}" `,c=i?` of length ${e}`:"",h=r?`length=${o}`:`type=${typeof n}`;throw new Error(u+"expected Uint8Array"+c+", got "+h)}return n}function sc(n){const e=n.toString(16);return e.length&1?"0"+e:e}function hE(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?Fm:BigInt("0x"+n)}function hh(n){return hE(Rs(n))}function dl(n){return to(n),hE(Rs(Uint8Array.from(n).reverse()))}function Wm(n,e){return Mf(n.toString(16).padStart(e*2,"0"))}function dE(n,e){return Wm(n,e).reverse()}function Ht(n,e,t){let r;if(typeof e=="string")try{r=Mf(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(kl(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const o=r.length;if(typeof t=="number"&&o!==t)throw new Error(n+" of length "+t+" expected, got "+o);return r}function n1(n){return Uint8Array.from(n)}const gd=n=>typeof n=="bigint"&&Fm<=n;function pk(n,e,t){return gd(n)&&gd(e)&&gd(t)&&e<=n&&n<t}function J0(n,e,t,r){if(!pk(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function pE(n){let e;for(e=0;n>Fm;n>>=Q0,e+=1);return e}const Il=n=>(Q0<<BigInt(n))-Q0;function mk(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const r=b=>new Uint8Array(b),o=b=>Uint8Array.of(b);let i=r(n),u=r(n),c=0;const h=()=>{i.fill(1),u.fill(0),c=0},w=(...b)=>t(u,i,...b),_=(b=r(0))=>{u=w(o(0),b),i=w(),b.length!==0&&(u=w(o(1),b),i=w())},A=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const x=[];for(;b<e;){i=w();const C=i.slice();x.push(C),b+=i.length}return vi(...x)};return(b,x)=>{h(),_(b);let C;for(;!(C=x(A()));)_();return h(),C}}function Tl(n,e,t={}){if(!n||typeof n!="object")throw new Error("expected valid options object");function r(o,i,u){const c=n[o];if(u&&c===void 0)return;const h=typeof c;if(h!==i||c===null)throw new Error(`param "${o}" is invalid: expected ${i}, got ${h}`)}Object.entries(e).forEach(([o,i])=>r(o,i,!1)),Object.entries(t).forEach(([o,i])=>r(o,i,!0))}function Af(n){const e=new WeakMap;return(t,...r)=>{const o=e.get(t);if(o!==void 0)return o;const i=n(t,...r);return e.set(t,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hr=BigInt(0),vn=BigInt(1),ds=BigInt(2),mE=BigInt(3),gE=BigInt(4),yE=BigInt(5),gk=BigInt(7),wE=BigInt(8),yk=BigInt(9),vE=BigInt(16);function Xt(n,e){const t=n%e;return t>=hr?t:e+t}function Wt(n,e,t){let r=n;for(;e-- >hr;)r*=r,r%=t;return r}function r1(n,e){if(n===hr)throw new Error("invert: expected non-zero number");if(e<=hr)throw new Error("invert: expected positive modulus, got "+e);let t=Xt(n,e),r=e,o=hr,i=vn;for(;t!==hr;){const c=r/t,h=r%t,w=o-i*c;r=t,t=h,o=i,i=w}if(r!==vn)throw new Error("invert: does not exist");return Xt(o,e)}function Hm(n,e,t){if(!n.eql(n.sqr(e),t))throw new Error("Cannot find square root")}function _E(n,e){const t=(n.ORDER+vn)/gE,r=n.pow(e,t);return Hm(n,r,e),r}function wk(n,e){const t=(n.ORDER-yE)/wE,r=n.mul(e,ds),o=n.pow(r,t),i=n.mul(e,o),u=n.mul(n.mul(i,ds),o),c=n.mul(i,n.sub(u,n.ONE));return Hm(n,c,e),c}function vk(n){const e=zs(n),t=EE(n),r=t(e,e.neg(e.ONE)),o=t(e,r),i=t(e,e.neg(r)),u=(n+gk)/vE;return(c,h)=>{let w=c.pow(h,u),_=c.mul(w,r);const A=c.mul(w,o),R=c.mul(w,i),b=c.eql(c.sqr(_),h),x=c.eql(c.sqr(A),h);w=c.cmov(w,_,b),_=c.cmov(R,A,x);const C=c.eql(c.sqr(_),h),O=c.cmov(w,_,C);return Hm(c,O,h),O}}function EE(n){if(n<mE)throw new Error("sqrt is not defined for small field");let e=n-vn,t=0;for(;e%ds===hr;)e/=ds,t++;let r=ds;const o=zs(n);for(;i1(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return _E;let i=o.pow(r,e);const u=(e+vn)/ds;return function(h,w){if(h.is0(w))return w;if(i1(h,w)!==1)throw new Error("Cannot find square root");let _=t,A=h.mul(h.ONE,i),R=h.pow(w,e),b=h.pow(w,u);for(;!h.eql(R,h.ONE);){if(h.is0(R))return h.ZERO;let x=1,C=h.sqr(R);for(;!h.eql(C,h.ONE);)if(x++,C=h.sqr(C),x===_)throw new Error("Cannot find square root");const O=vn<<BigInt(_-x-1),k=h.pow(A,O);_=x,A=h.sqr(k),R=h.mul(R,A),b=h.mul(b,k)}return b}}function _k(n){return n%gE===mE?_E:n%wE===yE?wk:n%vE===yk?vk(n):EE(n)}const Ek=(n,e)=>(Xt(n,e)&vn)===vn,bk=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Sk(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=bk.reduce((r,o)=>(r[o]="function",r),e);return Tl(n,t),n}function Mk(n,e,t){if(t<hr)throw new Error("invalid exponent, negatives unsupported");if(t===hr)return n.ONE;if(t===vn)return e;let r=n.ONE,o=e;for(;t>hr;)t&vn&&(r=n.mul(r,o)),o=n.sqr(o),t>>=vn;return r}function bE(n,e,t=!1){const r=new Array(e.length).fill(t?n.ZERO:void 0),o=e.reduce((u,c,h)=>n.is0(c)?u:(r[h]=u,n.mul(u,c)),n.ONE),i=n.inv(o);return e.reduceRight((u,c,h)=>n.is0(c)?u:(r[h]=n.mul(u,r[h]),n.mul(u,c)),i),r}function i1(n,e){const t=(n.ORDER-vn)/ds,r=n.pow(e,t),o=n.eql(r,n.ONE),i=n.eql(r,n.ZERO),u=n.eql(r,n.neg(n.ONE));if(!o&&!i&&!u)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function SE(n,e){e!==void 0&&hl(e);const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function zs(n,e,t=!1,r={}){if(n<=hr)throw new Error("invalid field: expected ORDER > 0, got "+n);let o,i,u=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||t)throw new Error("cannot specify opts in two arguments");const R=e;R.BITS&&(o=R.BITS),R.sqrt&&(i=R.sqrt),typeof R.isLE=="boolean"&&(t=R.isLE),typeof R.modFromBytes=="boolean"&&(u=R.modFromBytes),c=R.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(i=r.sqrt);const{nBitLength:h,nByteLength:w}=SE(n,o);if(w>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let _;const A=Object.freeze({ORDER:n,isLE:t,BITS:h,BYTES:w,MASK:Il(h),ZERO:hr,ONE:vn,allowedLengths:c,create:R=>Xt(R,n),isValid:R=>{if(typeof R!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof R);return hr<=R&&R<n},is0:R=>R===hr,isValidNot0:R=>!A.is0(R)&&A.isValid(R),isOdd:R=>(R&vn)===vn,neg:R=>Xt(-R,n),eql:(R,b)=>R===b,sqr:R=>Xt(R*R,n),add:(R,b)=>Xt(R+b,n),sub:(R,b)=>Xt(R-b,n),mul:(R,b)=>Xt(R*b,n),pow:(R,b)=>Mk(A,R,b),div:(R,b)=>Xt(R*r1(b,n),n),sqrN:R=>R*R,addN:(R,b)=>R+b,subN:(R,b)=>R-b,mulN:(R,b)=>R*b,inv:R=>r1(R,n),sqrt:i||(R=>(_||(_=_k(n)),_(A,R))),toBytes:R=>t?dE(R,w):Wm(R,w),fromBytes:(R,b=!0)=>{if(c){if(!c.includes(R.length)||R.length>w)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+R.length);const C=new Uint8Array(w);C.set(R,t?0:C.length-R.length),R=C}if(R.length!==w)throw new Error("Field.fromBytes: expected "+w+" bytes, got "+R.length);let x=t?dl(R):hh(R);if(u&&(x=Xt(x,n)),!b&&!A.isValid(x))throw new Error("invalid field element: outside of range 0..ORDER");return x},invertBatch:R=>bE(A,R),cmov:(R,b,x)=>x?b:R});return Object.freeze(A)}function ME(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function AE(n){const e=ME(n);return e+Math.ceil(e/2)}function Ak(n,e,t=!1){const r=n.length,o=ME(e),i=AE(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const u=t?dl(n):hh(n),c=Xt(u,e-vn)+vn;return t?dE(c,o):Wm(c,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),ps=BigInt(1);function Rf(n,e){const t=e.negate();return n?t:e}function ms(n,e){const t=bE(n.Fp,e.map(r=>r.Z));return e.map((r,o)=>n.fromAffine(r.toAffine(t[o])))}function RE(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function yd(n,e){RE(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1),o=2**n,i=Il(n),u=BigInt(n);return{windows:t,windowSize:r,mask:i,maxNumber:o,shiftBy:u}}function o1(n,e,t){const{windowSize:r,mask:o,maxNumber:i,shiftBy:u}=t;let c=Number(n&o),h=n>>u;c>r&&(c-=i,h+=ps);const w=e*r,_=w+Math.abs(c)-1,A=c===0,R=c<0,b=e%2!==0;return{nextN:h,offset:_,isZero:A,isNeg:R,isNegF:b,offsetF:w}}function Rk(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function xk(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const wd=new WeakMap,xE=new WeakMap;function vd(n){return xE.get(n)||1}function s1(n){if(n!==Ha)throw new Error("invalid wNAF")}class kE{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,r=this.ZERO){let o=e;for(;t>Ha;)t&ps&&(r=r.add(o)),o=o.double(),t>>=ps;return r}precomputeWindow(e,t){const{windows:r,windowSize:o}=yd(t,this.bits),i=[];let u=e,c=u;for(let h=0;h<r;h++){c=u,i.push(c);for(let w=1;w<o;w++)c=c.add(u),i.push(c);u=c.double()}return i}wNAF(e,t,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,i=this.BASE;const u=yd(e,this.bits);for(let c=0;c<u.windows;c++){const{nextN:h,offset:w,isZero:_,isNeg:A,isNegF:R,offsetF:b}=o1(r,c,u);r=h,_?i=i.add(Rf(R,t[b])):o=o.add(Rf(A,t[w]))}return s1(r),{p:o,f:i}}wNAFUnsafe(e,t,r,o=this.ZERO){const i=yd(e,this.bits);for(let u=0;u<i.windows&&r!==Ha;u++){const{nextN:c,offset:h,isZero:w,isNeg:_}=o1(r,u,i);if(r=c,!w){const A=t[h];o=o.add(_?A.negate():A)}}return s1(r),o}getPrecomputes(e,t,r){let o=wd.get(t);return o||(o=this.precomputeWindow(t,e),e!==1&&(typeof r=="function"&&(o=r(o)),wd.set(t,o))),o}cached(e,t,r){const o=vd(e);return this.wNAF(o,this.getPrecomputes(o,e,r),t)}unsafe(e,t,r,o){const i=vd(e);return i===1?this._unsafeLadder(e,t,o):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,o)}createCache(e,t){RE(t,this.bits),xE.set(e,t),wd.delete(e)}hasCache(e){return vd(e)!==1}}function kk(n,e,t,r){let o=e,i=n.ZERO,u=n.ZERO;for(;t>Ha||r>Ha;)t&ps&&(i=i.add(o)),r&ps&&(u=u.add(o)),o=o.double(),t>>=ps,r>>=ps;return{p1:i,p2:u}}function IE(n,e,t,r){Rk(t,n),xk(r,e);const o=t.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const u=n.ZERO,c=pE(BigInt(o));let h=1;c>12?h=c-3:c>4?h=c-2:c>0&&(h=2);const w=Il(h),_=new Array(Number(w)+1).fill(u),A=Math.floor((e.BITS-1)/h)*h;let R=u;for(let b=A;b>=0;b-=h){_.fill(u);for(let C=0;C<i;C++){const O=r[C],k=Number(O>>BigInt(b)&w);_[k]=_[k].add(t[C])}let x=u;for(let C=_.length-1,O=u;C>0;C--)O=O.add(_[C]),x=x.add(O);if(R=R.add(x),b!==0)for(let C=0;C<h;C++)R=R.double()}return R}function a1(n,e,t){if(e){if(e.ORDER!==n)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Sk(e),e}else return zs(n,{isLE:t})}function TE(n,e,t={},r){if(r===void 0&&(r=n==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${n} CURVE object`);for(const h of["p","n","h"]){const w=e[h];if(!(typeof w=="bigint"&&w>Ha))throw new Error(`CURVE.${h} must be positive bigint`)}const o=a1(e.p,t.Fp,r),i=a1(e.n,t.Fn,r),c=["Gx","Gy","a",n==="weierstrass"?"b":"d"];for(const h of c)if(!o.isValid(e[h]))throw new Error(`CURVE.${h} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const po=BigInt(0),un=BigInt(1),_d=BigInt(2),Ik=BigInt(8);function Tk(n,e,t,r){const o=n.sqr(t),i=n.sqr(r),u=n.add(n.mul(e.a,o),i),c=n.add(n.ONE,n.mul(e.d,n.mul(o,i)));return n.eql(u,c)}function Nk(n,e={}){const t=TE("edwards",n,e,e.FpFnLE),{Fp:r,Fn:o}=t;let i=t.CURVE;const{h:u}=i;Tl(e,{},{uvRatio:"function"});const c=_d<<BigInt(o.BYTES*8)-un,h=O=>r.create(O),w=e.uvRatio||((O,k)=>{try{return{isValid:!0,value:r.sqrt(r.div(O,k))}}catch{return{isValid:!1,value:po}}});if(!Tk(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function _(O,k,T=!1){const I=T?un:po;return J0("coordinate "+O,k,I,c),k}function A(O){if(!(O instanceof x))throw new Error("ExtendedPoint expected")}const R=Af((O,k)=>{const{X:T,Y:I,Z:B}=O,P=O.is0();k==null&&(k=P?Ik:r.inv(B));const U=h(T*k),F=h(I*k),j=r.mul(B,k);if(P)return{x:po,y:un};if(j!==un)throw new Error("invZ was invalid");return{x:U,y:F}}),b=Af(O=>{const{a:k,d:T}=i;if(O.is0())throw new Error("bad point: ZERO");const{X:I,Y:B,Z:P,T:U}=O,F=h(I*I),j=h(B*B),V=h(P*P),G=h(V*V),H=h(F*k),Z=h(V*h(H+j)),m=h(G+h(T*h(F*j)));if(Z!==m)throw new Error("bad point: equation left != right (1)");const s=h(I*B),l=h(P*U);if(s!==l)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(k,T,I,B){this.X=_("x",k),this.Y=_("y",T),this.Z=_("z",I,!0),this.T=_("t",B),Object.freeze(this)}static CURVE(){return i}static fromAffine(k){if(k instanceof x)throw new Error("extended point not allowed");const{x:T,y:I}=k||{};return _("x",T),_("y",I),new x(T,I,un,h(T*I))}static fromBytes(k,T=!1){const I=r.BYTES,{a:B,d:P}=i;k=n1(ii(k,I,"point")),Os(T,"zip215");const U=n1(k),F=k[I-1];U[I-1]=F&-129;const j=dl(U),V=T?c:r.ORDER;J0("point.y",j,po,V);const G=h(j*j),H=h(G-un),Z=h(P*G-B);let{isValid:m,value:s}=w(H,Z);if(!m)throw new Error("bad point: invalid y coordinate");const l=(s&un)===un,f=(F&128)!==0;if(!T&&s===po&&f)throw new Error("bad point: x=0 and x_0=1");return f!==l&&(s=h(-s)),x.fromAffine({x:s,y:j})}static fromHex(k,T=!1){return x.fromBytes(Ht("point",k),T)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(k=8,T=!0){return C.createCache(this,k),T||this.multiply(_d),this}assertValidity(){b(this)}equals(k){A(k);const{X:T,Y:I,Z:B}=this,{X:P,Y:U,Z:F}=k,j=h(T*F),V=h(P*B),G=h(I*F),H=h(U*B);return j===V&&G===H}is0(){return this.equals(x.ZERO)}negate(){return new x(h(-this.X),this.Y,this.Z,h(-this.T))}double(){const{a:k}=i,{X:T,Y:I,Z:B}=this,P=h(T*T),U=h(I*I),F=h(_d*h(B*B)),j=h(k*P),V=T+I,G=h(h(V*V)-P-U),H=j+U,Z=H-F,m=j-U,s=h(G*Z),l=h(H*m),f=h(G*m),p=h(Z*H);return new x(s,l,p,f)}add(k){A(k);const{a:T,d:I}=i,{X:B,Y:P,Z:U,T:F}=this,{X:j,Y:V,Z:G,T:H}=k,Z=h(B*j),m=h(P*V),s=h(F*I*H),l=h(U*G),f=h((B+P)*(j+V)-Z-m),p=l-s,g=l+s,v=h(m-T*Z),E=h(f*p),d=h(g*v),a=h(f*v),y=h(p*g);return new x(E,d,y,a)}subtract(k){return this.add(k.negate())}multiply(k){if(!o.isValidNot0(k))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:T,f:I}=C.cached(this,k,B=>ms(x,B));return ms(x,[T,I])[0]}multiplyUnsafe(k,T=x.ZERO){if(!o.isValid(k))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return k===po?x.ZERO:this.is0()||k===un?this:C.unsafe(this,k,I=>ms(x,I),T)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return C.unsafe(this,i.n).is0()}toAffine(k){return R(this,k)}clearCofactor(){return u===un?this:this.multiplyUnsafe(u)}toBytes(){const{x:k,y:T}=this.toAffine(),I=r.toBytes(T);return I[I.length-1]|=k&un?128:0,I}toHex(){return Rs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(k){return ms(x,k)}static msm(k,T){return IE(x,o,k,T)}_setWindowSize(k){this.precompute(k)}toRawBytes(){return this.toBytes()}}x.BASE=new x(i.Gx,i.Gy,un,h(i.Gx*i.Gy)),x.ZERO=new x(po,un,un,po),x.Fp=r,x.Fn=o;const C=new kE(x,o.BITS);return x.BASE.precompute(8),x}function Ck(n,e,t={}){if(typeof e!="function")throw new Error('"hash" function param is required');Tl(t,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=t,{BASE:o,Fp:i,Fn:u}=n,c=t.randomBytes||zm,h=t.adjustScalarBytes||(V=>V),w=t.domain||((V,G,H)=>{if(Os(H,"phflag"),G.length||H)throw new Error("Contexts/pre-hash are not supported");return V});function _(V){return u.create(dl(V))}function A(V){const G=I.secretKey;V=Ht("private key",V,G);const H=Ht("hashed private key",e(V),2*G),Z=h(H.slice(0,G)),m=H.slice(G,2*G),s=_(Z);return{head:Z,prefix:m,scalar:s}}function R(V){const{head:G,prefix:H,scalar:Z}=A(V),m=o.multiply(Z),s=m.toBytes();return{head:G,prefix:H,scalar:Z,point:m,pointBytes:s}}function b(V){return R(V).pointBytes}function x(V=Uint8Array.of(),...G){const H=vi(...G);return _(e(w(H,Ht("context",V),!!r)))}function C(V,G,H={}){V=Ht("message",V),r&&(V=r(V));const{prefix:Z,scalar:m,pointBytes:s}=R(G),l=x(H.context,Z,V),f=o.multiply(l).toBytes(),p=x(H.context,f,s,V),g=u.create(l+p*m);if(!u.isValid(g))throw new Error("sign failed: invalid s");const v=vi(f,u.toBytes(g));return ii(v,I.signature,"result")}const O={zip215:!0};function k(V,G,H,Z=O){const{context:m,zip215:s}=Z,l=I.signature;V=Ht("signature",V,l),G=Ht("message",G),H=Ht("publicKey",H,I.publicKey),s!==void 0&&Os(s,"zip215"),r&&(G=r(G));const f=l/2,p=V.subarray(0,f),g=dl(V.subarray(f,l));let v,E,d;try{v=n.fromBytes(H,s),E=n.fromBytes(p,s),d=o.multiplyUnsafe(g)}catch{return!1}if(!s&&v.isSmallOrder())return!1;const a=x(m,E.toBytes(),v.toBytes(),G);return E.add(v.multiplyUnsafe(a)).subtract(d).clearCofactor().is0()}const T=i.BYTES,I={secretKey:T,publicKey:T,signature:2*T,seed:T};function B(V=c(I.seed)){return ii(V,I.seed,"seed")}function P(V){const G=j.randomSecretKey(V);return{secretKey:G,publicKey:b(G)}}function U(V){return kl(V)&&V.length===u.BYTES}function F(V,G){try{return!!n.fromBytes(V,G)}catch{return!1}}const j={getExtendedPublicKey:R,randomSecretKey:B,isValidSecretKey:U,isValidPublicKey:F,toMontgomery(V){const{y:G}=n.fromBytes(V),H=I.publicKey,Z=H===32;if(!Z&&H!==57)throw new Error("only defined for 25519 and 448");const m=Z?i.div(un+G,un-G):i.div(G-un,G+un);return i.toBytes(m)},toMontgomerySecret(V){const G=I.secretKey;ii(V,G);const H=e(V.subarray(0,G));return h(H).subarray(0,G)},randomPrivateKey:B,precompute(V=8,G=n.BASE){return G.precompute(V,!1)}};return Object.freeze({keygen:P,getPublicKey:b,sign:C,verify:k,utils:j,Point:n,lengths:I})}function Ok(n){const e={a:n.a,d:n.d,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp,r=zs(e.n,n.nBitLength,!0),o={Fp:t,Fn:r,uvRatio:n.uvRatio},i={randomBytes:n.randomBytes,adjustScalarBytes:n.adjustScalarBytes,domain:n.domain,prehash:n.prehash,mapToCurve:n.mapToCurve};return{CURVE:e,curveOpts:o,hash:n.hash,eddsaOpts:i}}function Bk(n,e){const t=e.Point;return Object.assign({},e,{ExtendedPoint:t,CURVE:n,nBitLength:t.Fn.BITS,nByteLength:t.Fn.BYTES})}function Lk(n){const{CURVE:e,curveOpts:t,hash:r,eddsaOpts:o}=Ok(n),i=Nk(e,t),u=Ck(i,r,o);return Bk(n,u)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pk=BigInt(1),u1=BigInt(2);BigInt(3);const Uk=BigInt(5),Dk=BigInt(8),Km=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),NE={p:Km,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Dk,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function zk(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),o=BigInt(80),i=Km,c=n*n%i*n%i,h=Wt(c,u1,i)*c%i,w=Wt(h,Pk,i)*n%i,_=Wt(w,Uk,i)*w%i,A=Wt(_,e,i)*_%i,R=Wt(A,t,i)*A%i,b=Wt(R,r,i)*R%i,x=Wt(b,o,i)*b%i,C=Wt(x,o,i)*b%i,O=Wt(C,e,i)*_%i;return{pow_p_5_8:Wt(O,u1,i)*n%i,b2:c}}function Fk(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}const l1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Wk(n,e){const t=Km,r=Xt(e*e*e,t),o=Xt(r*r*e,t),i=zk(n*o).pow_p_5_8;let u=Xt(n*r*i,t);const c=Xt(e*u*u,t),h=u,w=Xt(u*l1,t),_=c===n,A=c===Xt(-n,t),R=c===Xt(-n*l1,t);return _&&(u=h),(A||R)&&(u=w),Ek(u,t)&&(u=Xt(-u,t)),{isValid:_||A,value:u}}const Hk=zs(NE.p,{isLE:!0}),Kk={...NE,Fp:Hk,hash:dk,adjustScalarBytes:Fk,uvRatio:Wk},nu=Lk(Kk);var jm={exports:{}};const jk={},Vk=Object.freeze(Object.defineProperty({__proto__:null,default:jk},Symbol.toStringTag,{value:"Module"})),dh=qf(Vk);jm.exports;(function(n){(function(e,t){function r(m,s){if(!m)throw new Error(s||"Assertion failed")}function o(m,s){m.super_=s;var l=function(){};l.prototype=s.prototype,m.prototype=new l,m.prototype.constructor=m}function i(m,s,l){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(l=s,s=10),this._init(m||0,s||10,l||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=dh.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,l){return s.cmp(l)>0?s:l},i.min=function(s,l){return s.cmp(l)<0?s:l},i.prototype._init=function(s,l,f){if(typeof s=="number")return this._initNumber(s,l,f);if(typeof s=="object")return this._initArray(s,l,f);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(l===16?this._parseHex(s,p,f):(this._parseBase(s,l,p),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(s,l,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(s,l,f){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,v,E=0;if(f==="be")for(p=s.length-1,g=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(p=0,g=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function c(m,s){var l=m.charCodeAt(s);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+m)}function h(m,s,l){var f=c(m,l);return l-1>=s&&(f|=c(m,l-1)<<4),f}i.prototype._parseHex=function(s,l,f){this.length=Math.ceil((s.length-l)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,v=0,E;if(f==="be")for(p=s.length-1;p>=l;p-=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8;else{var d=s.length-l;for(p=d%2===0?l+1:l;p<s.length;p+=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8}this._strip()};function w(m,s,l,f){for(var p=0,g=0,v=Math.min(m.length,l),E=s;E<v;E++){var d=m.charCodeAt(E)-48;p*=f,d>=49?g=d-49+10:d>=17?g=d-17+10:g=d,r(d>=0&&g<f,"Invalid character"),p+=g}return p}i.prototype._parseBase=function(s,l,f){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=l)p++;p--,g=g/l|0;for(var v=s.length-f,E=v%p,d=Math.min(v,v-E)+f,a=0,y=f;y<d;y+=p)a=w(s,y,y+p,l),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(E!==0){var W=1;for(a=w(s,y,s.length,l),y=0;y<E;y++)W*=l;this.imuln(W),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var l=0;l<this.length;l++)s.words[l]=this.words[l];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(m,s){m.words=s.words,m.length=s.length,m.negative=s.negative,m.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,l){s=s||10,l=l|0||1;var f;if(s===16||s==="hex"){f="";for(var p=0,g=0,v=0;v<this.length;v++){var E=this.words[v],d=((E<<p|g)&16777215).toString(16);g=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),g!==0||v!==this.length-1?f=R[6-d.length]+d+f:f=d+f}for(g!==0&&(f=g.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=b[s],y=x[s];f="";var W=this.clone();for(W.negative=0;!W.isZero();){var D=W.modrn(y).toString(s);W=W.idivn(y),W.isZero()?f=D+f:f=R[a-D.length]+D+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(s,l){return this.toArrayLike(u,s,l)}),i.prototype.toArray=function(s,l){return this.toArrayLike(Array,s,l)};var C=function(s,l){return s.allocUnsafe?s.allocUnsafe(l):new s(l)};i.prototype.toArrayLike=function(s,l,f){this._strip();var p=this.byteLength(),g=f||Math.max(1,p);r(p<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var v=C(s,g),E=l==="le"?"LE":"BE";return this["_toArrayLike"+E](v,p),v},i.prototype._toArrayLikeLE=function(s,l){for(var f=0,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f++]=E&255,f<s.length&&(s[f++]=E>>8&255),f<s.length&&(s[f++]=E>>16&255),v===6?(f<s.length&&(s[f++]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f<s.length)for(s[f++]=p;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,l){for(var f=s.length-1,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f--]=E&255,f>=0&&(s[f--]=E>>8&255),f>=0&&(s[f--]=E>>16&255),v===6?(f>=0&&(s[f--]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f>=0)for(s[f--]=p;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var l=s,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(s){if(s===0)return 26;var l=s,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],l=this._countBits(s);return(this.length-1)*26+l};function O(m){for(var s=new Array(m.bitLength()),l=0;l<s.length;l++){var f=l/26|0,p=l%26;s[l]=m.words[f]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]|s.words[l];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var l;this.length>s.length?l=s:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=l.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var l,f;this.length>s.length?(l=this,f=s):(l=s,f=this);for(var p=0;p<f.length;p++)this.words[p]=l.words[p]^f.words[p];if(this!==l)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=l.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var l=Math.ceil(s/26)|0,f=s%26;this._expand(l),f>0&&l--;for(var p=0;p<l;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,l){r(typeof s=="number"&&s>=0);var f=s/26|0,p=s%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var l;if(this.negative!==0&&s.negative===0)return this.negative=0,l=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,l=this.isub(s),s.negative=1,l._normSign();var f,p;this.length>s.length?(f=this,p=s):(f=s,p=this);for(var g=0,v=0;v<p.length;v++)l=(f.words[v]|0)+(p.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;for(;g!==0&&v<f.length;v++)l=(f.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},i.prototype.add=function(s){var l;return s.negative!==0&&this.negative===0?(s.negative=0,l=this.sub(s),s.negative^=1,l):s.negative===0&&this.negative!==0?(this.negative=0,l=s.sub(this),this.negative=1,l):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var l=this.iadd(s);return s.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;f>0?(p=this,g=s):(p=s,g=this);for(var v=0,E=0;E<g.length;E++)l=(p.words[E]|0)-(g.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;for(;v!==0&&E<p.length;E++)l=(p.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;if(v===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(m,s,l){l.negative=s.negative^m.negative;var f=m.length+s.length|0;l.length=f,f=f-1|0;var p=m.words[0]|0,g=s.words[0]|0,v=p*g,E=v&67108863,d=v/67108864|0;l.words[0]=E;for(var a=1;a<f;a++){for(var y=d>>>26,W=d&67108863,D=Math.min(a,s.length-1),K=Math.max(0,a-m.length+1);K<=D;K++){var ae=a-K|0;p=m.words[ae]|0,g=s.words[K]|0,v=p*g+W,y+=v/67108864|0,W=v&67108863}l.words[a]=W|0,d=y|0}return d!==0?l.words[a]=d|0:l.length--,l._strip()}var T=function(s,l,f){var p=s.words,g=l.words,v=f.words,E=0,d,a,y,W=p[0]|0,D=W&8191,K=W>>>13,ae=p[1]|0,J=ae&8191,ee=ae>>>13,pt=p[2]|0,fe=pt&8191,he=pt>>>13,jt=p[3]|0,de=jt&8191,we=jt>>>13,wr=p[4]|0,me=wr&8191,ve=wr>>>13,vr=p[5]|0,ye=vr&8191,pe=vr>>>13,Dt=p[6]|0,ge=Dt&8191,_e=Dt>>>13,qt=p[7]|0,Ee=qt&8191,N=qt>>>13,M=p[8]|0,S=M&8191,L=M>>>13,$=p[9]|0,z=$&8191,q=$>>>13,Je=g[0]|0,ie=Je&8191,ne=Je>>>13,st=g[1]|0,te=st&8191,Se=st>>>13,Vr=g[2]|0,Me=Vr&8191,Ae=Vr>>>13,$r=g[3]|0,Re=$r&8191,xe=$r>>>13,qr=g[4]|0,ke=qr&8191,Ie=qr>>>13,Gr=g[5]|0,Te=Gr&8191,Ne=Gr>>>13,Zr=g[6]|0,Ce=Zr&8191,Oe=Zr>>>13,Yr=g[7]|0,Be=Yr&8191,Le=Yr>>>13,Xr=g[8]|0,Pe=Xr&8191,Ue=Xr>>>13,Qr=g[9]|0,De=Qr&8191,ze=Qr>>>13;f.negative=s.negative^l.negative,f.length=19,d=Math.imul(D,ie),a=Math.imul(D,ne),a=a+Math.imul(K,ie)|0,y=Math.imul(K,ne);var On=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(On>>>26)|0,On&=67108863,d=Math.imul(J,ie),a=Math.imul(J,ne),a=a+Math.imul(ee,ie)|0,y=Math.imul(ee,ne),d=d+Math.imul(D,te)|0,a=a+Math.imul(D,Se)|0,a=a+Math.imul(K,te)|0,y=y+Math.imul(K,Se)|0;var Bn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,d=Math.imul(fe,ie),a=Math.imul(fe,ne),a=a+Math.imul(he,ie)|0,y=Math.imul(he,ne),d=d+Math.imul(J,te)|0,a=a+Math.imul(J,Se)|0,a=a+Math.imul(ee,te)|0,y=y+Math.imul(ee,Se)|0,d=d+Math.imul(D,Me)|0,a=a+Math.imul(D,Ae)|0,a=a+Math.imul(K,Me)|0,y=y+Math.imul(K,Ae)|0;var Ln=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,d=Math.imul(de,ie),a=Math.imul(de,ne),a=a+Math.imul(we,ie)|0,y=Math.imul(we,ne),d=d+Math.imul(fe,te)|0,a=a+Math.imul(fe,Se)|0,a=a+Math.imul(he,te)|0,y=y+Math.imul(he,Se)|0,d=d+Math.imul(J,Me)|0,a=a+Math.imul(J,Ae)|0,a=a+Math.imul(ee,Me)|0,y=y+Math.imul(ee,Ae)|0,d=d+Math.imul(D,Re)|0,a=a+Math.imul(D,xe)|0,a=a+Math.imul(K,Re)|0,y=y+Math.imul(K,xe)|0;var Pn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,d=Math.imul(me,ie),a=Math.imul(me,ne),a=a+Math.imul(ve,ie)|0,y=Math.imul(ve,ne),d=d+Math.imul(de,te)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(we,te)|0,y=y+Math.imul(we,Se)|0,d=d+Math.imul(fe,Me)|0,a=a+Math.imul(fe,Ae)|0,a=a+Math.imul(he,Me)|0,y=y+Math.imul(he,Ae)|0,d=d+Math.imul(J,Re)|0,a=a+Math.imul(J,xe)|0,a=a+Math.imul(ee,Re)|0,y=y+Math.imul(ee,xe)|0,d=d+Math.imul(D,ke)|0,a=a+Math.imul(D,Ie)|0,a=a+Math.imul(K,ke)|0,y=y+Math.imul(K,Ie)|0;var Un=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,d=Math.imul(ye,ie),a=Math.imul(ye,ne),a=a+Math.imul(pe,ie)|0,y=Math.imul(pe,ne),d=d+Math.imul(me,te)|0,a=a+Math.imul(me,Se)|0,a=a+Math.imul(ve,te)|0,y=y+Math.imul(ve,Se)|0,d=d+Math.imul(de,Me)|0,a=a+Math.imul(de,Ae)|0,a=a+Math.imul(we,Me)|0,y=y+Math.imul(we,Ae)|0,d=d+Math.imul(fe,Re)|0,a=a+Math.imul(fe,xe)|0,a=a+Math.imul(he,Re)|0,y=y+Math.imul(he,xe)|0,d=d+Math.imul(J,ke)|0,a=a+Math.imul(J,Ie)|0,a=a+Math.imul(ee,ke)|0,y=y+Math.imul(ee,Ie)|0,d=d+Math.imul(D,Te)|0,a=a+Math.imul(D,Ne)|0,a=a+Math.imul(K,Te)|0,y=y+Math.imul(K,Ne)|0;var Dn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,d=Math.imul(ge,ie),a=Math.imul(ge,ne),a=a+Math.imul(_e,ie)|0,y=Math.imul(_e,ne),d=d+Math.imul(ye,te)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(pe,te)|0,y=y+Math.imul(pe,Se)|0,d=d+Math.imul(me,Me)|0,a=a+Math.imul(me,Ae)|0,a=a+Math.imul(ve,Me)|0,y=y+Math.imul(ve,Ae)|0,d=d+Math.imul(de,Re)|0,a=a+Math.imul(de,xe)|0,a=a+Math.imul(we,Re)|0,y=y+Math.imul(we,xe)|0,d=d+Math.imul(fe,ke)|0,a=a+Math.imul(fe,Ie)|0,a=a+Math.imul(he,ke)|0,y=y+Math.imul(he,Ie)|0,d=d+Math.imul(J,Te)|0,a=a+Math.imul(J,Ne)|0,a=a+Math.imul(ee,Te)|0,y=y+Math.imul(ee,Ne)|0,d=d+Math.imul(D,Ce)|0,a=a+Math.imul(D,Oe)|0,a=a+Math.imul(K,Ce)|0,y=y+Math.imul(K,Oe)|0;var zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,d=Math.imul(Ee,ie),a=Math.imul(Ee,ne),a=a+Math.imul(N,ie)|0,y=Math.imul(N,ne),d=d+Math.imul(ge,te)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(_e,te)|0,y=y+Math.imul(_e,Se)|0,d=d+Math.imul(ye,Me)|0,a=a+Math.imul(ye,Ae)|0,a=a+Math.imul(pe,Me)|0,y=y+Math.imul(pe,Ae)|0,d=d+Math.imul(me,Re)|0,a=a+Math.imul(me,xe)|0,a=a+Math.imul(ve,Re)|0,y=y+Math.imul(ve,xe)|0,d=d+Math.imul(de,ke)|0,a=a+Math.imul(de,Ie)|0,a=a+Math.imul(we,ke)|0,y=y+Math.imul(we,Ie)|0,d=d+Math.imul(fe,Te)|0,a=a+Math.imul(fe,Ne)|0,a=a+Math.imul(he,Te)|0,y=y+Math.imul(he,Ne)|0,d=d+Math.imul(J,Ce)|0,a=a+Math.imul(J,Oe)|0,a=a+Math.imul(ee,Ce)|0,y=y+Math.imul(ee,Oe)|0,d=d+Math.imul(D,Be)|0,a=a+Math.imul(D,Le)|0,a=a+Math.imul(K,Be)|0,y=y+Math.imul(K,Le)|0;var Fn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,d=Math.imul(S,ie),a=Math.imul(S,ne),a=a+Math.imul(L,ie)|0,y=Math.imul(L,ne),d=d+Math.imul(Ee,te)|0,a=a+Math.imul(Ee,Se)|0,a=a+Math.imul(N,te)|0,y=y+Math.imul(N,Se)|0,d=d+Math.imul(ge,Me)|0,a=a+Math.imul(ge,Ae)|0,a=a+Math.imul(_e,Me)|0,y=y+Math.imul(_e,Ae)|0,d=d+Math.imul(ye,Re)|0,a=a+Math.imul(ye,xe)|0,a=a+Math.imul(pe,Re)|0,y=y+Math.imul(pe,xe)|0,d=d+Math.imul(me,ke)|0,a=a+Math.imul(me,Ie)|0,a=a+Math.imul(ve,ke)|0,y=y+Math.imul(ve,Ie)|0,d=d+Math.imul(de,Te)|0,a=a+Math.imul(de,Ne)|0,a=a+Math.imul(we,Te)|0,y=y+Math.imul(we,Ne)|0,d=d+Math.imul(fe,Ce)|0,a=a+Math.imul(fe,Oe)|0,a=a+Math.imul(he,Ce)|0,y=y+Math.imul(he,Oe)|0,d=d+Math.imul(J,Be)|0,a=a+Math.imul(J,Le)|0,a=a+Math.imul(ee,Be)|0,y=y+Math.imul(ee,Le)|0,d=d+Math.imul(D,Pe)|0,a=a+Math.imul(D,Ue)|0,a=a+Math.imul(K,Pe)|0,y=y+Math.imul(K,Ue)|0;var Wn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,d=Math.imul(z,ie),a=Math.imul(z,ne),a=a+Math.imul(q,ie)|0,y=Math.imul(q,ne),d=d+Math.imul(S,te)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(L,te)|0,y=y+Math.imul(L,Se)|0,d=d+Math.imul(Ee,Me)|0,a=a+Math.imul(Ee,Ae)|0,a=a+Math.imul(N,Me)|0,y=y+Math.imul(N,Ae)|0,d=d+Math.imul(ge,Re)|0,a=a+Math.imul(ge,xe)|0,a=a+Math.imul(_e,Re)|0,y=y+Math.imul(_e,xe)|0,d=d+Math.imul(ye,ke)|0,a=a+Math.imul(ye,Ie)|0,a=a+Math.imul(pe,ke)|0,y=y+Math.imul(pe,Ie)|0,d=d+Math.imul(me,Te)|0,a=a+Math.imul(me,Ne)|0,a=a+Math.imul(ve,Te)|0,y=y+Math.imul(ve,Ne)|0,d=d+Math.imul(de,Ce)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(we,Ce)|0,y=y+Math.imul(we,Oe)|0,d=d+Math.imul(fe,Be)|0,a=a+Math.imul(fe,Le)|0,a=a+Math.imul(he,Be)|0,y=y+Math.imul(he,Le)|0,d=d+Math.imul(J,Pe)|0,a=a+Math.imul(J,Ue)|0,a=a+Math.imul(ee,Pe)|0,y=y+Math.imul(ee,Ue)|0,d=d+Math.imul(D,De)|0,a=a+Math.imul(D,ze)|0,a=a+Math.imul(K,De)|0,y=y+Math.imul(K,ze)|0;var Hn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,d=Math.imul(z,te),a=Math.imul(z,Se),a=a+Math.imul(q,te)|0,y=Math.imul(q,Se),d=d+Math.imul(S,Me)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(L,Me)|0,y=y+Math.imul(L,Ae)|0,d=d+Math.imul(Ee,Re)|0,a=a+Math.imul(Ee,xe)|0,a=a+Math.imul(N,Re)|0,y=y+Math.imul(N,xe)|0,d=d+Math.imul(ge,ke)|0,a=a+Math.imul(ge,Ie)|0,a=a+Math.imul(_e,ke)|0,y=y+Math.imul(_e,Ie)|0,d=d+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Ne)|0,a=a+Math.imul(pe,Te)|0,y=y+Math.imul(pe,Ne)|0,d=d+Math.imul(me,Ce)|0,a=a+Math.imul(me,Oe)|0,a=a+Math.imul(ve,Ce)|0,y=y+Math.imul(ve,Oe)|0,d=d+Math.imul(de,Be)|0,a=a+Math.imul(de,Le)|0,a=a+Math.imul(we,Be)|0,y=y+Math.imul(we,Le)|0,d=d+Math.imul(fe,Pe)|0,a=a+Math.imul(fe,Ue)|0,a=a+Math.imul(he,Pe)|0,y=y+Math.imul(he,Ue)|0,d=d+Math.imul(J,De)|0,a=a+Math.imul(J,ze)|0,a=a+Math.imul(ee,De)|0,y=y+Math.imul(ee,ze)|0;var Kn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,d=Math.imul(z,Me),a=Math.imul(z,Ae),a=a+Math.imul(q,Me)|0,y=Math.imul(q,Ae),d=d+Math.imul(S,Re)|0,a=a+Math.imul(S,xe)|0,a=a+Math.imul(L,Re)|0,y=y+Math.imul(L,xe)|0,d=d+Math.imul(Ee,ke)|0,a=a+Math.imul(Ee,Ie)|0,a=a+Math.imul(N,ke)|0,y=y+Math.imul(N,Ie)|0,d=d+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Ne)|0,a=a+Math.imul(_e,Te)|0,y=y+Math.imul(_e,Ne)|0,d=d+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(pe,Ce)|0,y=y+Math.imul(pe,Oe)|0,d=d+Math.imul(me,Be)|0,a=a+Math.imul(me,Le)|0,a=a+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Le)|0,d=d+Math.imul(de,Pe)|0,a=a+Math.imul(de,Ue)|0,a=a+Math.imul(we,Pe)|0,y=y+Math.imul(we,Ue)|0,d=d+Math.imul(fe,De)|0,a=a+Math.imul(fe,ze)|0,a=a+Math.imul(he,De)|0,y=y+Math.imul(he,ze)|0;var jn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,d=Math.imul(z,Re),a=Math.imul(z,xe),a=a+Math.imul(q,Re)|0,y=Math.imul(q,xe),d=d+Math.imul(S,ke)|0,a=a+Math.imul(S,Ie)|0,a=a+Math.imul(L,ke)|0,y=y+Math.imul(L,Ie)|0,d=d+Math.imul(Ee,Te)|0,a=a+Math.imul(Ee,Ne)|0,a=a+Math.imul(N,Te)|0,y=y+Math.imul(N,Ne)|0,d=d+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(_e,Ce)|0,y=y+Math.imul(_e,Oe)|0,d=d+Math.imul(ye,Be)|0,a=a+Math.imul(ye,Le)|0,a=a+Math.imul(pe,Be)|0,y=y+Math.imul(pe,Le)|0,d=d+Math.imul(me,Pe)|0,a=a+Math.imul(me,Ue)|0,a=a+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,Ue)|0,d=d+Math.imul(de,De)|0,a=a+Math.imul(de,ze)|0,a=a+Math.imul(we,De)|0,y=y+Math.imul(we,ze)|0;var Vn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,d=Math.imul(z,ke),a=Math.imul(z,Ie),a=a+Math.imul(q,ke)|0,y=Math.imul(q,Ie),d=d+Math.imul(S,Te)|0,a=a+Math.imul(S,Ne)|0,a=a+Math.imul(L,Te)|0,y=y+Math.imul(L,Ne)|0,d=d+Math.imul(Ee,Ce)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(N,Ce)|0,y=y+Math.imul(N,Oe)|0,d=d+Math.imul(ge,Be)|0,a=a+Math.imul(ge,Le)|0,a=a+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Le)|0,d=d+Math.imul(ye,Pe)|0,a=a+Math.imul(ye,Ue)|0,a=a+Math.imul(pe,Pe)|0,y=y+Math.imul(pe,Ue)|0,d=d+Math.imul(me,De)|0,a=a+Math.imul(me,ze)|0,a=a+Math.imul(ve,De)|0,y=y+Math.imul(ve,ze)|0;var $n=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+($n>>>26)|0,$n&=67108863,d=Math.imul(z,Te),a=Math.imul(z,Ne),a=a+Math.imul(q,Te)|0,y=Math.imul(q,Ne),d=d+Math.imul(S,Ce)|0,a=a+Math.imul(S,Oe)|0,a=a+Math.imul(L,Ce)|0,y=y+Math.imul(L,Oe)|0,d=d+Math.imul(Ee,Be)|0,a=a+Math.imul(Ee,Le)|0,a=a+Math.imul(N,Be)|0,y=y+Math.imul(N,Le)|0,d=d+Math.imul(ge,Pe)|0,a=a+Math.imul(ge,Ue)|0,a=a+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,Ue)|0,d=d+Math.imul(ye,De)|0,a=a+Math.imul(ye,ze)|0,a=a+Math.imul(pe,De)|0,y=y+Math.imul(pe,ze)|0;var qn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(qn>>>26)|0,qn&=67108863,d=Math.imul(z,Ce),a=Math.imul(z,Oe),a=a+Math.imul(q,Ce)|0,y=Math.imul(q,Oe),d=d+Math.imul(S,Be)|0,a=a+Math.imul(S,Le)|0,a=a+Math.imul(L,Be)|0,y=y+Math.imul(L,Le)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ue)|0,a=a+Math.imul(N,Pe)|0,y=y+Math.imul(N,Ue)|0,d=d+Math.imul(ge,De)|0,a=a+Math.imul(ge,ze)|0,a=a+Math.imul(_e,De)|0,y=y+Math.imul(_e,ze)|0;var Gn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,d=Math.imul(z,Be),a=Math.imul(z,Le),a=a+Math.imul(q,Be)|0,y=Math.imul(q,Le),d=d+Math.imul(S,Pe)|0,a=a+Math.imul(S,Ue)|0,a=a+Math.imul(L,Pe)|0,y=y+Math.imul(L,Ue)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,ze)|0,a=a+Math.imul(N,De)|0,y=y+Math.imul(N,ze)|0;var Zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,d=Math.imul(z,Pe),a=Math.imul(z,Ue),a=a+Math.imul(q,Pe)|0,y=Math.imul(q,Ue),d=d+Math.imul(S,De)|0,a=a+Math.imul(S,ze)|0,a=a+Math.imul(L,De)|0,y=y+Math.imul(L,ze)|0;var Yn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,d=Math.imul(z,De),a=Math.imul(z,ze),a=a+Math.imul(q,De)|0,y=Math.imul(q,ze);var Xn=(E+d|0)+((a&8191)<<13)|0;return E=(y+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v[0]=On,v[1]=Bn,v[2]=Ln,v[3]=Pn,v[4]=Un,v[5]=Dn,v[6]=zn,v[7]=Fn,v[8]=Wn,v[9]=Hn,v[10]=Kn,v[11]=jn,v[12]=Vn,v[13]=$n,v[14]=qn,v[15]=Gn,v[16]=Zn,v[17]=Yn,v[18]=Xn,E!==0&&(v[19]=E,f.length++),f};Math.imul||(T=k);function I(m,s,l){l.negative=s.negative^m.negative,l.length=m.length+s.length;for(var f=0,p=0,g=0;g<l.length-1;g++){var v=p;p=0;for(var E=f&67108863,d=Math.min(g,s.length-1),a=Math.max(0,g-m.length+1);a<=d;a++){var y=g-a,W=m.words[y]|0,D=s.words[a]|0,K=W*D,ae=K&67108863;v=v+(K/67108864|0)|0,ae=ae+E|0,E=ae&67108863,v=v+(ae>>>26)|0,p+=v>>>26,v&=67108863}l.words[g]=E,f=v,v=p}return f!==0?l.words[g]=f:l.length--,l._strip()}function B(m,s,l){return I(m,s,l)}i.prototype.mulTo=function(s,l){var f,p=this.length+s.length;return this.length===10&&s.length===10?f=T(this,s,l):p<63?f=k(this,s,l):p<1024?f=I(this,s,l):f=B(this,s,l),f},i.prototype.mul=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),this.mulTo(s,l)},i.prototype.mulf=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),B(this,s,l)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var l=s<0;l&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var f=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*s,v=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=v>>>26,this.words[p]=v&67108863}return f!==0&&(this.words[p]=f,this.length++),this.length=s===0?1:this.length,l?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var l=O(s);if(l.length===0)return new i(1);for(var f=this,p=0;p<l.length&&l[p]===0;p++,f=f.sqr());if(++p<l.length)for(var g=f.sqr();p<l.length;p++,g=g.sqr())l[p]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=67108863>>>26-l<<26-l,g;if(l!==0){var v=0;for(g=0;g<this.length;g++){var E=this.words[g]&p,d=(this.words[g]|0)-E<<l;this.words[g]=d|v,v=E>>>26-l}v&&(this.words[g]=v,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,l,f){r(typeof s=="number"&&s>=0);var p;l?p=(l-l%26)/26:p=0;var g=s%26,v=Math.min((s-g)/26,this.length),E=67108863^67108863>>>g<<g,d=f;if(p-=v,p=Math.max(0,p),d){for(var a=0;a<v;a++)d.words[a]=this.words[a];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,a=0;a<this.length;a++)this.words[a]=this.words[a+v];else this.words[0]=0,this.length=1;var y=0;for(a=this.length-1;a>=0&&(y!==0||a>=p);a--){var W=this.words[a]|0;this.words[a]=y<<26-g|W>>>g,y=W&E}return d&&y!==0&&(d.words[d.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,l,f){return r(this.negative===0),this.iushrn(s,l,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return!1;var g=this.words[f];return!!(g&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var p=67108863^67108863>>>l<<l;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,l,f){var p=s.length+f,g;this._expand(p);var v,E=0;for(g=0;g<s.length;g++){v=(this.words[g+f]|0)+E;var d=(s.words[g]|0)*l;v-=d&67108863,E=(v>>26)-(d/67108864|0),this.words[g+f]=v&67108863}for(;g<this.length-f;g++)v=(this.words[g+f]|0)+E,E=v>>26,this.words[g+f]=v&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+E,E=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,l){var f=this.length-s.length,p=this.clone(),g=s,v=g.words[g.length-1]|0,E=this._countBits(v);f=26-E,f!==0&&(g=g.ushln(f),p.iushln(f),v=g.words[g.length-1]|0);var d=p.length-g.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var y=0;y<a.length;y++)a.words[y]=0}var W=p.clone()._ishlnsubmul(g,1,d);W.negative===0&&(p=W,a&&(a.words[d]=1));for(var D=d-1;D>=0;D--){var K=(p.words[g.length+D]|0)*67108864+(p.words[g.length+D-1]|0);for(K=Math.min(K/v|0,67108863),p._ishlnsubmul(g,K,D);p.negative!==0;)K--,p.negative=0,p._ishlnsubmul(g,1,D),p.isZero()||(p.negative^=1);a&&(a.words[D]=K)}return a&&a._strip(),p._strip(),l!=="div"&&f!==0&&p.iushrn(f),{div:a||null,mod:p}},i.prototype.divmod=function(s,l,f){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,l),l!=="mod"&&(p=v.div.neg()),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),l),l!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),l),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.isub(s)),{div:v.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?l==="div"?{div:this.divn(s.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,l)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var l=this.divmod(s);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(s):l.mod,p=s.ushrn(1),g=s.andln(1),v=f.cmp(p);return v<0||g===1&&v===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modrn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=(1<<26)%s,p=0,g=this.length-1;g>=0;g--)p=(f*p+(this.words[g]|0))%s;return l?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+f*67108864;this.words[p]=g/s|0,f=g%s}return this._strip(),l?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=new i(0),E=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),y=l.clone();!l.isZero();){for(var W=0,D=1;!(l.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(l.iushrn(W);W-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(a),g.isub(y)),p.iushrn(1),g.iushrn(1);for(var K=0,ae=1;!(f.words[0]&ae)&&K<26;++K,ae<<=1);if(K>0)for(f.iushrn(K);K-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(a),E.isub(y)),v.iushrn(1),E.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(v),g.isub(E)):(f.isub(l),v.isub(p),E.isub(g))}return{a:v,b:E,gcd:f.iushln(d)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,d=1;!(l.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(l.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var a=0,y=1;!(f.words[0]&y)&&a<26;++a,y<<=1);if(a>0)for(f.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(g)):(f.isub(l),g.isub(p))}var W;return l.cmpn(1)===0?W=p:W=g,W.cmpn(0)<0&&W.iadd(s),W},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var l=this.clone(),f=s.clone();l.negative=0,f.negative=0;for(var p=0;l.isEven()&&f.isEven();p++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=l.cmp(f);if(g<0){var v=l;l=f,f=v}else if(g===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var g=p,v=f;g!==0&&v<this.length;v++){var E=this.words[v]|0;E+=g,g=E>>>26,E&=67108863,this.words[v]=E}return g!==0&&(this.words[v]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var l=s<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var f;if(this.length>1)f=1;else{l&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;f=p===s?0:p<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var l=this.ucmp(s);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,g=s.words[f]|0;if(p!==g){p<g?l=-1:p>g&&(l=1);break}}return l},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new H(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var P={k256:null,p224:null,p192:null,p25519:null};function U(m,s){this.name=m,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},U.prototype.ireduce=function(s){var l=s,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var p=f<this.n?-1:l.ucmp(this.p);return p===0?(l.words[0]=0,l.length=1):p>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(s,l){s.iushrn(this.n,0,l)},U.prototype.imulK=function(s){return s.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,U),F.prototype.split=function(s,l){for(var f=4194303,p=Math.min(s.length,9),g=0;g<p;g++)l.words[g]=s.words[g];if(l.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(l.words[l.length++]=v&f,g=10;g<s.length;g++){var E=s.words[g]|0;s.words[g-10]=(E&f)<<4|v>>>22,v=E}v>>>=22,s.words[g-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},F.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var l=0,f=0;f<s.length;f++){var p=s.words[f]|0;l+=p*977,s.words[f]=l&67108863,l=p*64+(l/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,U);function V(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(G,U),G.prototype.imulK=function(s){for(var l=0,f=0;f<s.length;f++){var p=(s.words[f]|0)*19+l,g=p&67108863;p>>>=26,s.words[f]=g,l=p}return l!==0&&(s.words[s.length++]=l),s},i._prime=function(s){if(P[s])return P[s];var l;if(s==="k256")l=new F;else if(s==="p224")l=new j;else if(s==="p192")l=new V;else if(s==="p25519")l=new G;else throw new Error("Unknown prime "+s);return P[s]=l,l};function H(m){if(typeof m=="string"){var s=i._prime(m);this.m=s.p,this.prime=s}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}H.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},H.prototype._verify2=function(s,l){r((s.negative|l.negative)===0,"red works only with positives"),r(s.red&&s.red===l.red,"red works only with red numbers")},H.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},H.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},H.prototype.add=function(s,l){this._verify2(s,l);var f=s.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(s,l){this._verify2(s,l);var f=s.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(s,l){this._verify2(s,l);var f=s.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(s,l){this._verify2(s,l);var f=s.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(s,l){return this._verify1(s),this.imod(s.ushln(l))},H.prototype.imul=function(s,l){return this._verify2(s,l),this.imod(s.imul(l))},H.prototype.mul=function(s,l){return this._verify2(s,l),this.imod(s.mul(l))},H.prototype.isqr=function(s){return this.imul(s,s.clone())},H.prototype.sqr=function(s){return this.mul(s,s)},H.prototype.sqrt=function(s){if(s.isZero())return s.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),E=v.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(E)!==0;)a.redIAdd(E);for(var y=this.pow(a,p),W=this.pow(s,p.addn(1).iushrn(1)),D=this.pow(s,p),K=g;D.cmp(v)!==0;){for(var ae=D,J=0;ae.cmp(v)!==0;J++)ae=ae.redSqr();r(J<K);var ee=this.pow(y,new i(1).iushln(K-J-1));W=W.redMul(ee),y=ee.redSqr(),D=D.redMul(y),K=J}return W},H.prototype.invm=function(s){var l=s._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},H.prototype.pow=function(s,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return s.clone();var f=4,p=new Array(1<<f);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var v=p[0],E=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),g=l.length-1;g>=0;g--){for(var y=l.words[g],W=a-1;W>=0;W--){var D=y>>W&1;if(v!==p[0]&&(v=this.sqr(v)),D===0&&E===0){d=0;continue}E<<=1,E|=D,d++,!(d!==f&&(g!==0||W!==0))&&(v=this.mul(v,p[E]),d=0,E=0)}a=26}return v},H.prototype.convertTo=function(s){var l=s.umod(this.m);return l===s?l.clone():l},H.prototype.convertFrom=function(s){var l=s.clone();return l.red=null,l},i.mont=function(s){return new Z(s)};function Z(m){H.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Z,H),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var l=this.imod(s.mul(this.rinv));return l.red=null,l},Z.prototype.imul=function(s,l){if(s.isZero()||l.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.mul=function(s,l){if(s.isZero()||l.isZero())return new i(0)._forceRed(this);var f=s.mul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.invm=function(s){var l=this.imod(s._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(n,Tn)})(jm);var $k=jm.exports;const c1=oo($k);var ep={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=$e,r=t.Buffer;function o(u,c){for(var h in u)c[h]=u[h]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(o(t,e),e.Buffer=i);function i(u,c,h){return r(u,c,h)}i.prototype=Object.create(r.prototype),o(r,i),i.from=function(u,c,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,c,h)},i.alloc=function(u,c,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var w=r(u);return c!==void 0?typeof h=="string"?w.fill(c,h):w.fill(c):w.fill(0),w},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}})(ep,ep.exports);var qk=ep.exports,ac=qk.Buffer;function Gk(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var u=n.length,c=n.charAt(0),h=Math.log(u)/Math.log(256),w=Math.log(256)/Math.log(u);function _(b){if((Array.isArray(b)||b instanceof Uint8Array)&&(b=ac.from(b)),!ac.isBuffer(b))throw new TypeError("Expected Buffer");if(b.length===0)return"";for(var x=0,C=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,x++;for(var T=(k-O)*w+1>>>0,I=new Uint8Array(T);O!==k;){for(var B=b[O],P=0,U=T-1;(B!==0||P<C)&&U!==-1;U--,P++)B+=256*I[U]>>>0,I[U]=B%u>>>0,B=B/u>>>0;if(B!==0)throw new Error("Non-zero carry");C=P,O++}for(var F=T-C;F!==T&&I[F]===0;)F++;for(var j=c.repeat(x);F<T;++F)j+=n.charAt(I[F]);return j}function A(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return ac.alloc(0);for(var x=0,C=0,O=0;b[x]===c;)C++,x++;for(var k=(b.length-x)*h+1>>>0,T=new Uint8Array(k);x<b.length;){var I=b.charCodeAt(x);if(I>255)return;var B=e[I];if(B===255)return;for(var P=0,U=k-1;(B!==0||P<O)&&U!==-1;U--,P++)B+=u*T[U]>>>0,T[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");O=P,x++}for(var F=k-O;F!==k&&T[F]===0;)F++;var j=ac.allocUnsafe(C+(k-F));j.fill(0,0,C);for(var V=C;F!==k;)j[V++]=T[F++];return j}function R(b){var x=A(b);if(x)return x;throw new Error("Non-base"+u+" character")}return{encode:_,decodeUnsafe:A,decode:R}}var Zk=Gk,Yk=Zk,Xk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",CE=Yk(Xk);const Qt=oo(CE),f1=fE;var gn={},Vm={exports:{}};Vm.exports;(function(n){(function(e,t){function r(m,s){if(!m)throw new Error(s||"Assertion failed")}function o(m,s){m.super_=s;var l=function(){};l.prototype=s.prototype,m.prototype=new l,m.prototype.constructor=m}function i(m,s,l){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(l=s,s=10),this._init(m||0,s||10,l||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=dh.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,l){return s.cmp(l)>0?s:l},i.min=function(s,l){return s.cmp(l)<0?s:l},i.prototype._init=function(s,l,f){if(typeof s=="number")return this._initNumber(s,l,f);if(typeof s=="object")return this._initArray(s,l,f);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(l===16?this._parseHex(s,p,f):(this._parseBase(s,l,p),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(s,l,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(s,l,f){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,v,E=0;if(f==="be")for(p=s.length-1,g=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(p=0,g=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function c(m,s){var l=m.charCodeAt(s);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+m)}function h(m,s,l){var f=c(m,l);return l-1>=s&&(f|=c(m,l-1)<<4),f}i.prototype._parseHex=function(s,l,f){this.length=Math.ceil((s.length-l)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,v=0,E;if(f==="be")for(p=s.length-1;p>=l;p-=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8;else{var d=s.length-l;for(p=d%2===0?l+1:l;p<s.length;p+=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8}this._strip()};function w(m,s,l,f){for(var p=0,g=0,v=Math.min(m.length,l),E=s;E<v;E++){var d=m.charCodeAt(E)-48;p*=f,d>=49?g=d-49+10:d>=17?g=d-17+10:g=d,r(d>=0&&g<f,"Invalid character"),p+=g}return p}i.prototype._parseBase=function(s,l,f){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=l)p++;p--,g=g/l|0;for(var v=s.length-f,E=v%p,d=Math.min(v,v-E)+f,a=0,y=f;y<d;y+=p)a=w(s,y,y+p,l),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(E!==0){var W=1;for(a=w(s,y,s.length,l),y=0;y<E;y++)W*=l;this.imuln(W),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var l=0;l<this.length;l++)s.words[l]=this.words[l];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(m,s){m.words=s.words,m.length=s.length,m.negative=s.negative,m.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,l){s=s||10,l=l|0||1;var f;if(s===16||s==="hex"){f="";for(var p=0,g=0,v=0;v<this.length;v++){var E=this.words[v],d=((E<<p|g)&16777215).toString(16);g=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),g!==0||v!==this.length-1?f=R[6-d.length]+d+f:f=d+f}for(g!==0&&(f=g.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=b[s],y=x[s];f="";var W=this.clone();for(W.negative=0;!W.isZero();){var D=W.modrn(y).toString(s);W=W.idivn(y),W.isZero()?f=D+f:f=R[a-D.length]+D+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(s,l){return this.toArrayLike(u,s,l)}),i.prototype.toArray=function(s,l){return this.toArrayLike(Array,s,l)};var C=function(s,l){return s.allocUnsafe?s.allocUnsafe(l):new s(l)};i.prototype.toArrayLike=function(s,l,f){this._strip();var p=this.byteLength(),g=f||Math.max(1,p);r(p<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var v=C(s,g),E=l==="le"?"LE":"BE";return this["_toArrayLike"+E](v,p),v},i.prototype._toArrayLikeLE=function(s,l){for(var f=0,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f++]=E&255,f<s.length&&(s[f++]=E>>8&255),f<s.length&&(s[f++]=E>>16&255),v===6?(f<s.length&&(s[f++]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f<s.length)for(s[f++]=p;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,l){for(var f=s.length-1,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f--]=E&255,f>=0&&(s[f--]=E>>8&255),f>=0&&(s[f--]=E>>16&255),v===6?(f>=0&&(s[f--]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f>=0)for(s[f--]=p;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var l=s,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(s){if(s===0)return 26;var l=s,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],l=this._countBits(s);return(this.length-1)*26+l};function O(m){for(var s=new Array(m.bitLength()),l=0;l<s.length;l++){var f=l/26|0,p=l%26;s[l]=m.words[f]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]|s.words[l];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var l;this.length>s.length?l=s:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=l.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var l,f;this.length>s.length?(l=this,f=s):(l=s,f=this);for(var p=0;p<f.length;p++)this.words[p]=l.words[p]^f.words[p];if(this!==l)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=l.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var l=Math.ceil(s/26)|0,f=s%26;this._expand(l),f>0&&l--;for(var p=0;p<l;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,l){r(typeof s=="number"&&s>=0);var f=s/26|0,p=s%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var l;if(this.negative!==0&&s.negative===0)return this.negative=0,l=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,l=this.isub(s),s.negative=1,l._normSign();var f,p;this.length>s.length?(f=this,p=s):(f=s,p=this);for(var g=0,v=0;v<p.length;v++)l=(f.words[v]|0)+(p.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;for(;g!==0&&v<f.length;v++)l=(f.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},i.prototype.add=function(s){var l;return s.negative!==0&&this.negative===0?(s.negative=0,l=this.sub(s),s.negative^=1,l):s.negative===0&&this.negative!==0?(this.negative=0,l=s.sub(this),this.negative=1,l):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var l=this.iadd(s);return s.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;f>0?(p=this,g=s):(p=s,g=this);for(var v=0,E=0;E<g.length;E++)l=(p.words[E]|0)-(g.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;for(;v!==0&&E<p.length;E++)l=(p.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;if(v===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(m,s,l){l.negative=s.negative^m.negative;var f=m.length+s.length|0;l.length=f,f=f-1|0;var p=m.words[0]|0,g=s.words[0]|0,v=p*g,E=v&67108863,d=v/67108864|0;l.words[0]=E;for(var a=1;a<f;a++){for(var y=d>>>26,W=d&67108863,D=Math.min(a,s.length-1),K=Math.max(0,a-m.length+1);K<=D;K++){var ae=a-K|0;p=m.words[ae]|0,g=s.words[K]|0,v=p*g+W,y+=v/67108864|0,W=v&67108863}l.words[a]=W|0,d=y|0}return d!==0?l.words[a]=d|0:l.length--,l._strip()}var T=function(s,l,f){var p=s.words,g=l.words,v=f.words,E=0,d,a,y,W=p[0]|0,D=W&8191,K=W>>>13,ae=p[1]|0,J=ae&8191,ee=ae>>>13,pt=p[2]|0,fe=pt&8191,he=pt>>>13,jt=p[3]|0,de=jt&8191,we=jt>>>13,wr=p[4]|0,me=wr&8191,ve=wr>>>13,vr=p[5]|0,ye=vr&8191,pe=vr>>>13,Dt=p[6]|0,ge=Dt&8191,_e=Dt>>>13,qt=p[7]|0,Ee=qt&8191,N=qt>>>13,M=p[8]|0,S=M&8191,L=M>>>13,$=p[9]|0,z=$&8191,q=$>>>13,Je=g[0]|0,ie=Je&8191,ne=Je>>>13,st=g[1]|0,te=st&8191,Se=st>>>13,Vr=g[2]|0,Me=Vr&8191,Ae=Vr>>>13,$r=g[3]|0,Re=$r&8191,xe=$r>>>13,qr=g[4]|0,ke=qr&8191,Ie=qr>>>13,Gr=g[5]|0,Te=Gr&8191,Ne=Gr>>>13,Zr=g[6]|0,Ce=Zr&8191,Oe=Zr>>>13,Yr=g[7]|0,Be=Yr&8191,Le=Yr>>>13,Xr=g[8]|0,Pe=Xr&8191,Ue=Xr>>>13,Qr=g[9]|0,De=Qr&8191,ze=Qr>>>13;f.negative=s.negative^l.negative,f.length=19,d=Math.imul(D,ie),a=Math.imul(D,ne),a=a+Math.imul(K,ie)|0,y=Math.imul(K,ne);var On=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(On>>>26)|0,On&=67108863,d=Math.imul(J,ie),a=Math.imul(J,ne),a=a+Math.imul(ee,ie)|0,y=Math.imul(ee,ne),d=d+Math.imul(D,te)|0,a=a+Math.imul(D,Se)|0,a=a+Math.imul(K,te)|0,y=y+Math.imul(K,Se)|0;var Bn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,d=Math.imul(fe,ie),a=Math.imul(fe,ne),a=a+Math.imul(he,ie)|0,y=Math.imul(he,ne),d=d+Math.imul(J,te)|0,a=a+Math.imul(J,Se)|0,a=a+Math.imul(ee,te)|0,y=y+Math.imul(ee,Se)|0,d=d+Math.imul(D,Me)|0,a=a+Math.imul(D,Ae)|0,a=a+Math.imul(K,Me)|0,y=y+Math.imul(K,Ae)|0;var Ln=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,d=Math.imul(de,ie),a=Math.imul(de,ne),a=a+Math.imul(we,ie)|0,y=Math.imul(we,ne),d=d+Math.imul(fe,te)|0,a=a+Math.imul(fe,Se)|0,a=a+Math.imul(he,te)|0,y=y+Math.imul(he,Se)|0,d=d+Math.imul(J,Me)|0,a=a+Math.imul(J,Ae)|0,a=a+Math.imul(ee,Me)|0,y=y+Math.imul(ee,Ae)|0,d=d+Math.imul(D,Re)|0,a=a+Math.imul(D,xe)|0,a=a+Math.imul(K,Re)|0,y=y+Math.imul(K,xe)|0;var Pn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,d=Math.imul(me,ie),a=Math.imul(me,ne),a=a+Math.imul(ve,ie)|0,y=Math.imul(ve,ne),d=d+Math.imul(de,te)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(we,te)|0,y=y+Math.imul(we,Se)|0,d=d+Math.imul(fe,Me)|0,a=a+Math.imul(fe,Ae)|0,a=a+Math.imul(he,Me)|0,y=y+Math.imul(he,Ae)|0,d=d+Math.imul(J,Re)|0,a=a+Math.imul(J,xe)|0,a=a+Math.imul(ee,Re)|0,y=y+Math.imul(ee,xe)|0,d=d+Math.imul(D,ke)|0,a=a+Math.imul(D,Ie)|0,a=a+Math.imul(K,ke)|0,y=y+Math.imul(K,Ie)|0;var Un=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,d=Math.imul(ye,ie),a=Math.imul(ye,ne),a=a+Math.imul(pe,ie)|0,y=Math.imul(pe,ne),d=d+Math.imul(me,te)|0,a=a+Math.imul(me,Se)|0,a=a+Math.imul(ve,te)|0,y=y+Math.imul(ve,Se)|0,d=d+Math.imul(de,Me)|0,a=a+Math.imul(de,Ae)|0,a=a+Math.imul(we,Me)|0,y=y+Math.imul(we,Ae)|0,d=d+Math.imul(fe,Re)|0,a=a+Math.imul(fe,xe)|0,a=a+Math.imul(he,Re)|0,y=y+Math.imul(he,xe)|0,d=d+Math.imul(J,ke)|0,a=a+Math.imul(J,Ie)|0,a=a+Math.imul(ee,ke)|0,y=y+Math.imul(ee,Ie)|0,d=d+Math.imul(D,Te)|0,a=a+Math.imul(D,Ne)|0,a=a+Math.imul(K,Te)|0,y=y+Math.imul(K,Ne)|0;var Dn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,d=Math.imul(ge,ie),a=Math.imul(ge,ne),a=a+Math.imul(_e,ie)|0,y=Math.imul(_e,ne),d=d+Math.imul(ye,te)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(pe,te)|0,y=y+Math.imul(pe,Se)|0,d=d+Math.imul(me,Me)|0,a=a+Math.imul(me,Ae)|0,a=a+Math.imul(ve,Me)|0,y=y+Math.imul(ve,Ae)|0,d=d+Math.imul(de,Re)|0,a=a+Math.imul(de,xe)|0,a=a+Math.imul(we,Re)|0,y=y+Math.imul(we,xe)|0,d=d+Math.imul(fe,ke)|0,a=a+Math.imul(fe,Ie)|0,a=a+Math.imul(he,ke)|0,y=y+Math.imul(he,Ie)|0,d=d+Math.imul(J,Te)|0,a=a+Math.imul(J,Ne)|0,a=a+Math.imul(ee,Te)|0,y=y+Math.imul(ee,Ne)|0,d=d+Math.imul(D,Ce)|0,a=a+Math.imul(D,Oe)|0,a=a+Math.imul(K,Ce)|0,y=y+Math.imul(K,Oe)|0;var zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,d=Math.imul(Ee,ie),a=Math.imul(Ee,ne),a=a+Math.imul(N,ie)|0,y=Math.imul(N,ne),d=d+Math.imul(ge,te)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(_e,te)|0,y=y+Math.imul(_e,Se)|0,d=d+Math.imul(ye,Me)|0,a=a+Math.imul(ye,Ae)|0,a=a+Math.imul(pe,Me)|0,y=y+Math.imul(pe,Ae)|0,d=d+Math.imul(me,Re)|0,a=a+Math.imul(me,xe)|0,a=a+Math.imul(ve,Re)|0,y=y+Math.imul(ve,xe)|0,d=d+Math.imul(de,ke)|0,a=a+Math.imul(de,Ie)|0,a=a+Math.imul(we,ke)|0,y=y+Math.imul(we,Ie)|0,d=d+Math.imul(fe,Te)|0,a=a+Math.imul(fe,Ne)|0,a=a+Math.imul(he,Te)|0,y=y+Math.imul(he,Ne)|0,d=d+Math.imul(J,Ce)|0,a=a+Math.imul(J,Oe)|0,a=a+Math.imul(ee,Ce)|0,y=y+Math.imul(ee,Oe)|0,d=d+Math.imul(D,Be)|0,a=a+Math.imul(D,Le)|0,a=a+Math.imul(K,Be)|0,y=y+Math.imul(K,Le)|0;var Fn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,d=Math.imul(S,ie),a=Math.imul(S,ne),a=a+Math.imul(L,ie)|0,y=Math.imul(L,ne),d=d+Math.imul(Ee,te)|0,a=a+Math.imul(Ee,Se)|0,a=a+Math.imul(N,te)|0,y=y+Math.imul(N,Se)|0,d=d+Math.imul(ge,Me)|0,a=a+Math.imul(ge,Ae)|0,a=a+Math.imul(_e,Me)|0,y=y+Math.imul(_e,Ae)|0,d=d+Math.imul(ye,Re)|0,a=a+Math.imul(ye,xe)|0,a=a+Math.imul(pe,Re)|0,y=y+Math.imul(pe,xe)|0,d=d+Math.imul(me,ke)|0,a=a+Math.imul(me,Ie)|0,a=a+Math.imul(ve,ke)|0,y=y+Math.imul(ve,Ie)|0,d=d+Math.imul(de,Te)|0,a=a+Math.imul(de,Ne)|0,a=a+Math.imul(we,Te)|0,y=y+Math.imul(we,Ne)|0,d=d+Math.imul(fe,Ce)|0,a=a+Math.imul(fe,Oe)|0,a=a+Math.imul(he,Ce)|0,y=y+Math.imul(he,Oe)|0,d=d+Math.imul(J,Be)|0,a=a+Math.imul(J,Le)|0,a=a+Math.imul(ee,Be)|0,y=y+Math.imul(ee,Le)|0,d=d+Math.imul(D,Pe)|0,a=a+Math.imul(D,Ue)|0,a=a+Math.imul(K,Pe)|0,y=y+Math.imul(K,Ue)|0;var Wn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,d=Math.imul(z,ie),a=Math.imul(z,ne),a=a+Math.imul(q,ie)|0,y=Math.imul(q,ne),d=d+Math.imul(S,te)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(L,te)|0,y=y+Math.imul(L,Se)|0,d=d+Math.imul(Ee,Me)|0,a=a+Math.imul(Ee,Ae)|0,a=a+Math.imul(N,Me)|0,y=y+Math.imul(N,Ae)|0,d=d+Math.imul(ge,Re)|0,a=a+Math.imul(ge,xe)|0,a=a+Math.imul(_e,Re)|0,y=y+Math.imul(_e,xe)|0,d=d+Math.imul(ye,ke)|0,a=a+Math.imul(ye,Ie)|0,a=a+Math.imul(pe,ke)|0,y=y+Math.imul(pe,Ie)|0,d=d+Math.imul(me,Te)|0,a=a+Math.imul(me,Ne)|0,a=a+Math.imul(ve,Te)|0,y=y+Math.imul(ve,Ne)|0,d=d+Math.imul(de,Ce)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(we,Ce)|0,y=y+Math.imul(we,Oe)|0,d=d+Math.imul(fe,Be)|0,a=a+Math.imul(fe,Le)|0,a=a+Math.imul(he,Be)|0,y=y+Math.imul(he,Le)|0,d=d+Math.imul(J,Pe)|0,a=a+Math.imul(J,Ue)|0,a=a+Math.imul(ee,Pe)|0,y=y+Math.imul(ee,Ue)|0,d=d+Math.imul(D,De)|0,a=a+Math.imul(D,ze)|0,a=a+Math.imul(K,De)|0,y=y+Math.imul(K,ze)|0;var Hn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,d=Math.imul(z,te),a=Math.imul(z,Se),a=a+Math.imul(q,te)|0,y=Math.imul(q,Se),d=d+Math.imul(S,Me)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(L,Me)|0,y=y+Math.imul(L,Ae)|0,d=d+Math.imul(Ee,Re)|0,a=a+Math.imul(Ee,xe)|0,a=a+Math.imul(N,Re)|0,y=y+Math.imul(N,xe)|0,d=d+Math.imul(ge,ke)|0,a=a+Math.imul(ge,Ie)|0,a=a+Math.imul(_e,ke)|0,y=y+Math.imul(_e,Ie)|0,d=d+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Ne)|0,a=a+Math.imul(pe,Te)|0,y=y+Math.imul(pe,Ne)|0,d=d+Math.imul(me,Ce)|0,a=a+Math.imul(me,Oe)|0,a=a+Math.imul(ve,Ce)|0,y=y+Math.imul(ve,Oe)|0,d=d+Math.imul(de,Be)|0,a=a+Math.imul(de,Le)|0,a=a+Math.imul(we,Be)|0,y=y+Math.imul(we,Le)|0,d=d+Math.imul(fe,Pe)|0,a=a+Math.imul(fe,Ue)|0,a=a+Math.imul(he,Pe)|0,y=y+Math.imul(he,Ue)|0,d=d+Math.imul(J,De)|0,a=a+Math.imul(J,ze)|0,a=a+Math.imul(ee,De)|0,y=y+Math.imul(ee,ze)|0;var Kn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,d=Math.imul(z,Me),a=Math.imul(z,Ae),a=a+Math.imul(q,Me)|0,y=Math.imul(q,Ae),d=d+Math.imul(S,Re)|0,a=a+Math.imul(S,xe)|0,a=a+Math.imul(L,Re)|0,y=y+Math.imul(L,xe)|0,d=d+Math.imul(Ee,ke)|0,a=a+Math.imul(Ee,Ie)|0,a=a+Math.imul(N,ke)|0,y=y+Math.imul(N,Ie)|0,d=d+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Ne)|0,a=a+Math.imul(_e,Te)|0,y=y+Math.imul(_e,Ne)|0,d=d+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(pe,Ce)|0,y=y+Math.imul(pe,Oe)|0,d=d+Math.imul(me,Be)|0,a=a+Math.imul(me,Le)|0,a=a+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Le)|0,d=d+Math.imul(de,Pe)|0,a=a+Math.imul(de,Ue)|0,a=a+Math.imul(we,Pe)|0,y=y+Math.imul(we,Ue)|0,d=d+Math.imul(fe,De)|0,a=a+Math.imul(fe,ze)|0,a=a+Math.imul(he,De)|0,y=y+Math.imul(he,ze)|0;var jn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,d=Math.imul(z,Re),a=Math.imul(z,xe),a=a+Math.imul(q,Re)|0,y=Math.imul(q,xe),d=d+Math.imul(S,ke)|0,a=a+Math.imul(S,Ie)|0,a=a+Math.imul(L,ke)|0,y=y+Math.imul(L,Ie)|0,d=d+Math.imul(Ee,Te)|0,a=a+Math.imul(Ee,Ne)|0,a=a+Math.imul(N,Te)|0,y=y+Math.imul(N,Ne)|0,d=d+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(_e,Ce)|0,y=y+Math.imul(_e,Oe)|0,d=d+Math.imul(ye,Be)|0,a=a+Math.imul(ye,Le)|0,a=a+Math.imul(pe,Be)|0,y=y+Math.imul(pe,Le)|0,d=d+Math.imul(me,Pe)|0,a=a+Math.imul(me,Ue)|0,a=a+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,Ue)|0,d=d+Math.imul(de,De)|0,a=a+Math.imul(de,ze)|0,a=a+Math.imul(we,De)|0,y=y+Math.imul(we,ze)|0;var Vn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,d=Math.imul(z,ke),a=Math.imul(z,Ie),a=a+Math.imul(q,ke)|0,y=Math.imul(q,Ie),d=d+Math.imul(S,Te)|0,a=a+Math.imul(S,Ne)|0,a=a+Math.imul(L,Te)|0,y=y+Math.imul(L,Ne)|0,d=d+Math.imul(Ee,Ce)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(N,Ce)|0,y=y+Math.imul(N,Oe)|0,d=d+Math.imul(ge,Be)|0,a=a+Math.imul(ge,Le)|0,a=a+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Le)|0,d=d+Math.imul(ye,Pe)|0,a=a+Math.imul(ye,Ue)|0,a=a+Math.imul(pe,Pe)|0,y=y+Math.imul(pe,Ue)|0,d=d+Math.imul(me,De)|0,a=a+Math.imul(me,ze)|0,a=a+Math.imul(ve,De)|0,y=y+Math.imul(ve,ze)|0;var $n=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+($n>>>26)|0,$n&=67108863,d=Math.imul(z,Te),a=Math.imul(z,Ne),a=a+Math.imul(q,Te)|0,y=Math.imul(q,Ne),d=d+Math.imul(S,Ce)|0,a=a+Math.imul(S,Oe)|0,a=a+Math.imul(L,Ce)|0,y=y+Math.imul(L,Oe)|0,d=d+Math.imul(Ee,Be)|0,a=a+Math.imul(Ee,Le)|0,a=a+Math.imul(N,Be)|0,y=y+Math.imul(N,Le)|0,d=d+Math.imul(ge,Pe)|0,a=a+Math.imul(ge,Ue)|0,a=a+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,Ue)|0,d=d+Math.imul(ye,De)|0,a=a+Math.imul(ye,ze)|0,a=a+Math.imul(pe,De)|0,y=y+Math.imul(pe,ze)|0;var qn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(qn>>>26)|0,qn&=67108863,d=Math.imul(z,Ce),a=Math.imul(z,Oe),a=a+Math.imul(q,Ce)|0,y=Math.imul(q,Oe),d=d+Math.imul(S,Be)|0,a=a+Math.imul(S,Le)|0,a=a+Math.imul(L,Be)|0,y=y+Math.imul(L,Le)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ue)|0,a=a+Math.imul(N,Pe)|0,y=y+Math.imul(N,Ue)|0,d=d+Math.imul(ge,De)|0,a=a+Math.imul(ge,ze)|0,a=a+Math.imul(_e,De)|0,y=y+Math.imul(_e,ze)|0;var Gn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,d=Math.imul(z,Be),a=Math.imul(z,Le),a=a+Math.imul(q,Be)|0,y=Math.imul(q,Le),d=d+Math.imul(S,Pe)|0,a=a+Math.imul(S,Ue)|0,a=a+Math.imul(L,Pe)|0,y=y+Math.imul(L,Ue)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,ze)|0,a=a+Math.imul(N,De)|0,y=y+Math.imul(N,ze)|0;var Zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,d=Math.imul(z,Pe),a=Math.imul(z,Ue),a=a+Math.imul(q,Pe)|0,y=Math.imul(q,Ue),d=d+Math.imul(S,De)|0,a=a+Math.imul(S,ze)|0,a=a+Math.imul(L,De)|0,y=y+Math.imul(L,ze)|0;var Yn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,d=Math.imul(z,De),a=Math.imul(z,ze),a=a+Math.imul(q,De)|0,y=Math.imul(q,ze);var Xn=(E+d|0)+((a&8191)<<13)|0;return E=(y+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v[0]=On,v[1]=Bn,v[2]=Ln,v[3]=Pn,v[4]=Un,v[5]=Dn,v[6]=zn,v[7]=Fn,v[8]=Wn,v[9]=Hn,v[10]=Kn,v[11]=jn,v[12]=Vn,v[13]=$n,v[14]=qn,v[15]=Gn,v[16]=Zn,v[17]=Yn,v[18]=Xn,E!==0&&(v[19]=E,f.length++),f};Math.imul||(T=k);function I(m,s,l){l.negative=s.negative^m.negative,l.length=m.length+s.length;for(var f=0,p=0,g=0;g<l.length-1;g++){var v=p;p=0;for(var E=f&67108863,d=Math.min(g,s.length-1),a=Math.max(0,g-m.length+1);a<=d;a++){var y=g-a,W=m.words[y]|0,D=s.words[a]|0,K=W*D,ae=K&67108863;v=v+(K/67108864|0)|0,ae=ae+E|0,E=ae&67108863,v=v+(ae>>>26)|0,p+=v>>>26,v&=67108863}l.words[g]=E,f=v,v=p}return f!==0?l.words[g]=f:l.length--,l._strip()}function B(m,s,l){return I(m,s,l)}i.prototype.mulTo=function(s,l){var f,p=this.length+s.length;return this.length===10&&s.length===10?f=T(this,s,l):p<63?f=k(this,s,l):p<1024?f=I(this,s,l):f=B(this,s,l),f},i.prototype.mul=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),this.mulTo(s,l)},i.prototype.mulf=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),B(this,s,l)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var l=s<0;l&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var f=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*s,v=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=v>>>26,this.words[p]=v&67108863}return f!==0&&(this.words[p]=f,this.length++),this.length=s===0?1:this.length,l?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var l=O(s);if(l.length===0)return new i(1);for(var f=this,p=0;p<l.length&&l[p]===0;p++,f=f.sqr());if(++p<l.length)for(var g=f.sqr();p<l.length;p++,g=g.sqr())l[p]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=67108863>>>26-l<<26-l,g;if(l!==0){var v=0;for(g=0;g<this.length;g++){var E=this.words[g]&p,d=(this.words[g]|0)-E<<l;this.words[g]=d|v,v=E>>>26-l}v&&(this.words[g]=v,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,l,f){r(typeof s=="number"&&s>=0);var p;l?p=(l-l%26)/26:p=0;var g=s%26,v=Math.min((s-g)/26,this.length),E=67108863^67108863>>>g<<g,d=f;if(p-=v,p=Math.max(0,p),d){for(var a=0;a<v;a++)d.words[a]=this.words[a];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,a=0;a<this.length;a++)this.words[a]=this.words[a+v];else this.words[0]=0,this.length=1;var y=0;for(a=this.length-1;a>=0&&(y!==0||a>=p);a--){var W=this.words[a]|0;this.words[a]=y<<26-g|W>>>g,y=W&E}return d&&y!==0&&(d.words[d.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,l,f){return r(this.negative===0),this.iushrn(s,l,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return!1;var g=this.words[f];return!!(g&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var p=67108863^67108863>>>l<<l;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,l,f){var p=s.length+f,g;this._expand(p);var v,E=0;for(g=0;g<s.length;g++){v=(this.words[g+f]|0)+E;var d=(s.words[g]|0)*l;v-=d&67108863,E=(v>>26)-(d/67108864|0),this.words[g+f]=v&67108863}for(;g<this.length-f;g++)v=(this.words[g+f]|0)+E,E=v>>26,this.words[g+f]=v&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+E,E=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,l){var f=this.length-s.length,p=this.clone(),g=s,v=g.words[g.length-1]|0,E=this._countBits(v);f=26-E,f!==0&&(g=g.ushln(f),p.iushln(f),v=g.words[g.length-1]|0);var d=p.length-g.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var y=0;y<a.length;y++)a.words[y]=0}var W=p.clone()._ishlnsubmul(g,1,d);W.negative===0&&(p=W,a&&(a.words[d]=1));for(var D=d-1;D>=0;D--){var K=(p.words[g.length+D]|0)*67108864+(p.words[g.length+D-1]|0);for(K=Math.min(K/v|0,67108863),p._ishlnsubmul(g,K,D);p.negative!==0;)K--,p.negative=0,p._ishlnsubmul(g,1,D),p.isZero()||(p.negative^=1);a&&(a.words[D]=K)}return a&&a._strip(),p._strip(),l!=="div"&&f!==0&&p.iushrn(f),{div:a||null,mod:p}},i.prototype.divmod=function(s,l,f){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,l),l!=="mod"&&(p=v.div.neg()),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),l),l!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),l),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.isub(s)),{div:v.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?l==="div"?{div:this.divn(s.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,l)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var l=this.divmod(s);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(s):l.mod,p=s.ushrn(1),g=s.andln(1),v=f.cmp(p);return v<0||g===1&&v===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modrn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=(1<<26)%s,p=0,g=this.length-1;g>=0;g--)p=(f*p+(this.words[g]|0))%s;return l?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+f*67108864;this.words[p]=g/s|0,f=g%s}return this._strip(),l?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=new i(0),E=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),y=l.clone();!l.isZero();){for(var W=0,D=1;!(l.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(l.iushrn(W);W-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(a),g.isub(y)),p.iushrn(1),g.iushrn(1);for(var K=0,ae=1;!(f.words[0]&ae)&&K<26;++K,ae<<=1);if(K>0)for(f.iushrn(K);K-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(a),E.isub(y)),v.iushrn(1),E.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(v),g.isub(E)):(f.isub(l),v.isub(p),E.isub(g))}return{a:v,b:E,gcd:f.iushln(d)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,d=1;!(l.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(l.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var a=0,y=1;!(f.words[0]&y)&&a<26;++a,y<<=1);if(a>0)for(f.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(g)):(f.isub(l),g.isub(p))}var W;return l.cmpn(1)===0?W=p:W=g,W.cmpn(0)<0&&W.iadd(s),W},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var l=this.clone(),f=s.clone();l.negative=0,f.negative=0;for(var p=0;l.isEven()&&f.isEven();p++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=l.cmp(f);if(g<0){var v=l;l=f,f=v}else if(g===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var g=p,v=f;g!==0&&v<this.length;v++){var E=this.words[v]|0;E+=g,g=E>>>26,E&=67108863,this.words[v]=E}return g!==0&&(this.words[v]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var l=s<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var f;if(this.length>1)f=1;else{l&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;f=p===s?0:p<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var l=this.ucmp(s);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,g=s.words[f]|0;if(p!==g){p<g?l=-1:p>g&&(l=1);break}}return l},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new H(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var P={k256:null,p224:null,p192:null,p25519:null};function U(m,s){this.name=m,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},U.prototype.ireduce=function(s){var l=s,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var p=f<this.n?-1:l.ucmp(this.p);return p===0?(l.words[0]=0,l.length=1):p>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(s,l){s.iushrn(this.n,0,l)},U.prototype.imulK=function(s){return s.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,U),F.prototype.split=function(s,l){for(var f=4194303,p=Math.min(s.length,9),g=0;g<p;g++)l.words[g]=s.words[g];if(l.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(l.words[l.length++]=v&f,g=10;g<s.length;g++){var E=s.words[g]|0;s.words[g-10]=(E&f)<<4|v>>>22,v=E}v>>>=22,s.words[g-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},F.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var l=0,f=0;f<s.length;f++){var p=s.words[f]|0;l+=p*977,s.words[f]=l&67108863,l=p*64+(l/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,U);function V(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(G,U),G.prototype.imulK=function(s){for(var l=0,f=0;f<s.length;f++){var p=(s.words[f]|0)*19+l,g=p&67108863;p>>>=26,s.words[f]=g,l=p}return l!==0&&(s.words[s.length++]=l),s},i._prime=function(s){if(P[s])return P[s];var l;if(s==="k256")l=new F;else if(s==="p224")l=new j;else if(s==="p192")l=new V;else if(s==="p25519")l=new G;else throw new Error("Unknown prime "+s);return P[s]=l,l};function H(m){if(typeof m=="string"){var s=i._prime(m);this.m=s.p,this.prime=s}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}H.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},H.prototype._verify2=function(s,l){r((s.negative|l.negative)===0,"red works only with positives"),r(s.red&&s.red===l.red,"red works only with red numbers")},H.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},H.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},H.prototype.add=function(s,l){this._verify2(s,l);var f=s.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(s,l){this._verify2(s,l);var f=s.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(s,l){this._verify2(s,l);var f=s.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(s,l){this._verify2(s,l);var f=s.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(s,l){return this._verify1(s),this.imod(s.ushln(l))},H.prototype.imul=function(s,l){return this._verify2(s,l),this.imod(s.imul(l))},H.prototype.mul=function(s,l){return this._verify2(s,l),this.imod(s.mul(l))},H.prototype.isqr=function(s){return this.imul(s,s.clone())},H.prototype.sqr=function(s){return this.mul(s,s)},H.prototype.sqrt=function(s){if(s.isZero())return s.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),E=v.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(E)!==0;)a.redIAdd(E);for(var y=this.pow(a,p),W=this.pow(s,p.addn(1).iushrn(1)),D=this.pow(s,p),K=g;D.cmp(v)!==0;){for(var ae=D,J=0;ae.cmp(v)!==0;J++)ae=ae.redSqr();r(J<K);var ee=this.pow(y,new i(1).iushln(K-J-1));W=W.redMul(ee),y=ee.redSqr(),D=D.redMul(y),K=J}return W},H.prototype.invm=function(s){var l=s._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},H.prototype.pow=function(s,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return s.clone();var f=4,p=new Array(1<<f);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var v=p[0],E=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),g=l.length-1;g>=0;g--){for(var y=l.words[g],W=a-1;W>=0;W--){var D=y>>W&1;if(v!==p[0]&&(v=this.sqr(v)),D===0&&E===0){d=0;continue}E<<=1,E|=D,d++,!(d!==f&&(g!==0||W!==0))&&(v=this.mul(v,p[E]),d=0,E=0)}a=26}return v},H.prototype.convertTo=function(s){var l=s.umod(this.m);return l===s?l.clone():l},H.prototype.convertFrom=function(s){var l=s.clone();return l.red=null,l},i.mont=function(s){return new Z(s)};function Z(m){H.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Z,H),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var l=this.imod(s.mul(this.rinv));return l.red=null,l},Z.prototype.imul=function(s,l){if(s.isZero()||l.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.mul=function(s,l){if(s.isZero()||l.isZero())return new i(0)._forceRed(this);var f=s.mul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.invm=function(s){var l=this.imod(s._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(n,Tn)})(Vm);var Qk=Vm.exports;function Hi(n,e,t){return e<=n&&n<=t}function ph(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function Jk(n){for(var e=String(n),t=e.length,r=0,o=[];r<t;){var i=e.charCodeAt(r);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(r===t-1)o.push(65533);else{var u=n.charCodeAt(r+1);if(56320<=u&&u<=57343){var c=i&1023,h=u&1023;o.push(65536+(c<<10)+h),r+=1}else o.push(65533)}r+=1}return o}function eI(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var xf=-1;function $m(n){this.tokens=[].slice.call(n)}$m.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():xf},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var Ka=-1;function Ed(n,e){if(n)throw TypeError("Decoder error");return e||65533}var kf="utf-8";function If(n,e){if(!(this instanceof If))return new If(n,e);if(n=n!==void 0?String(n).toLowerCase():kf,n!==kf)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}If.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=ph(t),this._streaming||(this._decoder=new tI({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var o=new $m(r),i=[],u;!o.endOfStream()&&(u=this._decoder.handler(o,o.read()),u!==Ka);)u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u));if(!this._streaming){do{if(u=this._decoder.handler(o,o.read()),u===Ka)break;u!==null&&(Array.isArray(u)?i.push.apply(i,u):i.push(u))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),eI(i)}};function Tf(n,e){if(!(this instanceof Tf))return new Tf(n,e);if(n=n!==void 0?String(n).toLowerCase():kf,n!==kf)throw new Error("Encoding not supported. Only utf-8 is supported");e=ph(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Tf.prototype={encode:function(e,t){e=e?String(e):"",t=ph(t),this._streaming||(this._encoder=new nI(this._options)),this._streaming=!!t.stream;for(var r=[],o=new $m(Jk(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Ka);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Ka;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function tI(n){var e=n.fatal,t=0,r=0,o=0,i=128,u=191;this.handler=function(c,h){if(h===xf&&o!==0)return o=0,Ed(e);if(h===xf)return Ka;if(o===0){if(Hi(h,0,127))return h;if(Hi(h,194,223))o=1,t=h-192;else if(Hi(h,224,239))h===224&&(i=160),h===237&&(u=159),o=2,t=h-224;else if(Hi(h,240,244))h===240&&(i=144),h===244&&(u=143),o=3,t=h-240;else return Ed(e);return t=t<<6*o,null}if(!Hi(h,i,u))return t=o=r=0,i=128,u=191,c.prepend(h),Ed(e);if(i=128,u=191,r+=1,t+=h-128<<6*(o-r),r!==o)return null;var w=t;return t=o=r=0,w}}function nI(n){n.fatal,this.handler=function(e,t){if(t===xf)return Ka;if(Hi(t,0,127))return t;var r,o;Hi(t,128,2047)?(r=1,o=192):Hi(t,2048,65535)?(r=2,o=224):Hi(t,65536,1114111)&&(r=3,o=240);for(var i=[(t>>6*r)+o];r>0;){var u=t>>6*(r-1);i.push(128|u&63),r-=1}return i}}const rI=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:If,TextEncoder:Tf},Symbol.toStringTag,{value:"Module"})),iI=qf(rI);var oI=Tn&&Tn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),sI=Tn&&Tn.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),xi=Tn&&Tn.__decorate||function(n,e,t,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(i=(o<3?u(i):o>3?u(e,t,i):u(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i},aI=Tn&&Tn.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&oI(e,n,t);return sI(e,n),e},OE=Tn&&Tn.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gn,"__esModule",{value:!0});var BE=gn.deserializeUnchecked=FE=gn.deserialize=zE=gn.serialize=gn.BinaryReader=gn.BinaryWriter=gn.BorshError=gn.baseDecode=gn.baseEncode=void 0;const ko=OE(Qk),LE=OE(CE),uI=aI(iI),lI=typeof TextDecoder!="function"?uI.TextDecoder:TextDecoder,cI=new lI("utf-8",{fatal:!0});function fI(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),LE.default.encode(Buffer.from(n))}gn.baseEncode=fI;function hI(n){return Buffer.from(LE.default.decode(n))}gn.baseDecode=hI;const bd=1024;class Jn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}gn.BorshError=Jn;class PE{constructor(){this.buf=Buffer.alloc(bd),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(bd)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ko.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ko.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ko.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new ko.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(bd)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}gn.BinaryWriter=PE;function ki(n,e,t){const r=t.value;t.value=function(...o){try{return r.apply(this,o)}catch(i){if(i instanceof RangeError){const u=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(u)>=0)throw new Jn("Reached the end of buffer when deserializing")}throw i}}}class Nr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new ko.default(e,"le")}readU128(){const e=this.readBuffer(16);return new ko.default(e,"le")}readU256(){const e=this.readBuffer(32);return new ko.default(e,"le")}readU512(){const e=this.readBuffer(64);return new ko.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Jn(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return cI.decode(t)}catch(r){throw new Jn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let o=0;o<t;++o)r.push(e());return r}}xi([ki],Nr.prototype,"readU8",null);xi([ki],Nr.prototype,"readU16",null);xi([ki],Nr.prototype,"readU32",null);xi([ki],Nr.prototype,"readU64",null);xi([ki],Nr.prototype,"readU128",null);xi([ki],Nr.prototype,"readU256",null);xi([ki],Nr.prototype,"readU512",null);xi([ki],Nr.prototype,"readString",null);xi([ki],Nr.prototype,"readFixedArray",null);xi([ki],Nr.prototype,"readArray",null);gn.BinaryReader=Nr;function UE(n){return n.charAt(0).toUpperCase()+n.slice(1)}function as(n,e,t,r,o){try{if(typeof r=="string")o[`write${UE(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new Jn(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new Jn(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let i=0;i<r[1];i++)as(n,null,t[i],r[0],o)}else o.writeArray(t,i=>{as(n,e,i,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),as(n,e,t,r.type,o));break}case"map":{o.writeU32(t.size),t.forEach((i,u)=>{as(n,e,u,r.key,o),as(n,e,i,r.value,o)});break}default:throw new Jn(`FieldType ${r} unrecognized`)}else DE(n,t,o)}catch(i){throw i instanceof Jn&&i.addToFieldPath(e),i}}function DE(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new Jn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,i])=>{as(n,o,e[o],i,t)});else if(r.kind==="enum"){const o=e[r.field];for(let i=0;i<r.values.length;++i){const[u,c]=r.values[i];if(u===o){t.writeU8(i),as(n,u,e[u],c,t);break}}}else throw new Jn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function dI(n,e,t=PE){const r=new t;return DE(n,e,r),r.toArray()}var zE=gn.serialize=dI;function us(n,e,t,r){try{if(typeof t=="string")return r[`read${UE(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const o=[];for(let i=0;i<t[1];i++)o.push(us(n,null,t[0],r));return o}else return r.readArray(()=>us(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?us(n,e,t.type,r):void 0;if(t.kind==="map"){let o=new Map;const i=r.readU32();for(let u=0;u<i;u++){const c=us(n,e,t.key,r),h=us(n,e,t.value,r);o.set(c,h)}return o}return qm(n,t,r)}catch(o){throw o instanceof Jn&&o.addToFieldPath(e),o}}function qm(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new Jn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[i,u]of n.get(e).fields)o[i]=us(n,i,u,t);return new e(o)}if(r.kind==="enum"){const o=t.readU8();if(o>=r.values.length)throw new Jn(`Enum index: ${o} is out of range`);const[i,u]=r.values[o],c=us(n,i,u,t);return new e({[i]:c})}throw new Jn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function pI(n,e,t,r=Nr){const o=new r(t),i=qm(n,e,o);if(o.offset<t.length)throw new Jn(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return i}var FE=gn.deserialize=pI;function mI(n,e,t,r=Nr){const o=new r(t);return qm(n,e,o)}BE=gn.deserializeUnchecked=mI;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=dn=Q.nu64=Q.u48=Q.u40=qe=Q.u32=Q.u24=Lr=Q.u16=lt=Q.u8=Wo=Q.offset=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0;Q.constant=Q.utf8=Q.cstr=Rt=Q.blob=Q.unionLayoutDiscriminator=Q.union=yn=Q.seq=Q.bits=Ge=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=Mr=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;const Gm=$e;function ru(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=ru;function dt(n){return ru(n),Gm.Buffer.from(n.buffer,n.byteOffset,n.length)}Q.uint8ArrayToBuffer=dt;let wt=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};Q.Layout=wt;function Zm(n,e){return e.property?n+"["+e.property+"]":n}Q.nameWithProperty=Zm;function gI(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof wt))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}Q.bindConstructorLayout=gI;let ur=class extends wt{isCount(){throw new Error("ExternalLayout is abstract")}};Q.ExternalLayout=ur;let WE=class extends ur{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){ru(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};Q.GreedyCount=WE;let Ym=class extends ur{constructor(e,t=0,r){if(!(e instanceof wt))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Fr||this.layout instanceof ui}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};Q.OffsetLayout=Ym;let Fr=class extends wt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return dt(e).readUIntLE(t,this.span)}encode(e,t,r=0){return dt(t).writeUIntLE(e,r,this.span),this.span}};Q.UInt=Fr;let ui=class extends wt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return dt(e).readUIntBE(t,this.span)}encode(e,t,r=0){return dt(t).writeUIntBE(e,r,this.span),this.span}};Q.UIntBE=ui;let Fs=class extends wt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return dt(e).readIntLE(t,this.span)}encode(e,t,r=0){return dt(t).writeIntLE(e,r,this.span),this.span}};Q.Int=Fs;let iu=class extends wt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return dt(e).readIntBE(t,this.span)}encode(e,t,r=0){return dt(t).writeIntBE(e,r,this.span),this.span}};Q.IntBE=iu;const tp=Math.pow(2,32);function mh(n){const e=Math.floor(n/tp),t=n-e*tp;return{hi32:e,lo32:t}}function gh(n,e){return n*tp+e}let HE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){const r=dt(e),o=r.readUInt32LE(t),i=r.readUInt32LE(t+4);return gh(i,o)}encode(e,t,r=0){const o=mh(e),i=dt(t);return i.writeUInt32LE(o.lo32,r),i.writeUInt32LE(o.hi32,r+4),8}};Q.NearUInt64=HE;let KE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){const r=dt(e),o=r.readUInt32BE(t),i=r.readUInt32BE(t+4);return gh(o,i)}encode(e,t,r=0){const o=mh(e),i=dt(t);return i.writeUInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};Q.NearUInt64BE=KE;let jE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){const r=dt(e),o=r.readUInt32LE(t),i=r.readInt32LE(t+4);return gh(i,o)}encode(e,t,r=0){const o=mh(e),i=dt(t);return i.writeUInt32LE(o.lo32,r),i.writeInt32LE(o.hi32,r+4),8}};Q.NearInt64=jE;let VE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){const r=dt(e),o=r.readInt32BE(t),i=r.readUInt32BE(t+4);return gh(o,i)}encode(e,t,r=0){const o=mh(e),i=dt(t);return i.writeInt32BE(o.hi32,r),i.writeUInt32BE(o.lo32,r+4),8}};Q.NearInt64BE=VE;let $E=class extends wt{constructor(e){super(4,e)}decode(e,t=0){return dt(e).readFloatLE(t)}encode(e,t,r=0){return dt(t).writeFloatLE(e,r),4}};Q.Float=$E;let qE=class extends wt{constructor(e){super(4,e)}decode(e,t=0){return dt(e).readFloatBE(t)}encode(e,t,r=0){return dt(t).writeFloatBE(e,r),4}};Q.FloatBE=qE;let GE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){return dt(e).readDoubleLE(t)}encode(e,t,r=0){return dt(t).writeDoubleLE(e,r),8}};Q.Double=GE;let ZE=class extends wt{constructor(e){super(8,e)}decode(e,t=0){return dt(e).readDoubleBE(t)}encode(e,t,r=0){return dt(t).writeDoubleBE(e,r),8}};Q.DoubleBE=ZE;let YE=class extends wt{constructor(e,t,r){if(!(e instanceof wt))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ur&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof ur)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof ur&&(o=o.decode(e,t)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let o=0,i=this.count;for(i instanceof ur&&(i=i.decode(e,t));o<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return r}encode(e,t,r=0){const o=this.elementLayout,i=e.reduce((u,c)=>u+o.encode(c,t,r+u),0);return this.count instanceof ur&&this.count.encode(e.length,t,r),i}};Q.Sequence=YE;let XE=class extends wt{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((i,u)=>i&&u instanceof wt,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,u)=>i+u.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,i)=>{const u=i.getSpan(e,t);return t+=u,o+u},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){ru(e);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const o=r;let i=0,u=0;for(const c of this.fields){let h=c.span;if(u=0<h?h:0,c.property!==void 0){const w=e[c.property];w!==void 0&&(u=c.encode(w,t,r),0>h&&(h=c.getSpan(t,r)))}i=r,r+=h}return i+u-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};Q.Structure=XE;let Xm=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};Q.UnionDiscriminator=Xm;let Nf=class extends Xm{constructor(e,t){if(!(e instanceof ur&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};Q.UnionLayoutDiscriminator=Nf;let Qm=class extends wt{constructor(e,t,r){let o;if(e instanceof Fr||e instanceof ui)o=new Nf(new Ym(e));else if(e instanceof ur&&e.isCount())o=new Nf(e);else if(e instanceof Xm)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof wt))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof Fr||e instanceof ui)&&(i+=o.layout.span)),super(i,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Fr||e instanceof ui,this.defaultLayout=t,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return u(c)},this.configGetSourceVariant=function(c){u=c.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const o=this.discriminator,i=o.decode(e,t),u=this.registry[i];if(u===void 0){const c=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[c.property]=c.decode(e,t+h)}else r=u.decode(e,t);return r}encode(e,t,r=0){const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,u=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,r),c+u.encode(e[u.property],t,r+c)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new QE(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};Q.Union=Qm;let QE=class extends wt{constructor(e,t,r,o){if(!(e instanceof Qm))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof wt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+r)),r+o}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),i+=this.layout.getSpan(t,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Q.VariantLayout=QE;function Js(n){return 0>n&&(n+=4294967296),n}let Jm=class extends wt{constructor(e,t,r){if(!(e instanceof Fr||e instanceof ui))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Js(i),this},this._packedGetValue=function(){return o}}decode(e,t=0){const r=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(e));return r}encode(e,t,r=0){const o=this.word.decode(t,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const u=e[i.property];u!==void 0&&i.encode(u)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new eg(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new JE(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};Q.BitStructure=Jm;let eg=class{constructor(e,t,r){if(!(e instanceof Jm))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((u,c)=>u+c.bits,0);if(t+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-t),this.wordMask=Js(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return Js(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Js(e&this.valueMask))throw new TypeError(Zm("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=Js(e<<this.start);this.container._packedSetValue(Js(t&~this.wordMask)|r)}};Q.BitField=eg;let JE=class extends eg{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Q.Boolean=JE;let e2=class extends wt{constructor(e,t){if(!(e instanceof ur&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ur||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),dt(e).slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof ur&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Zm("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>t.length)throw new RangeError("encoding overruns Uint8Array");const i=dt(e);return dt(t).write(i.toString("hex"),r,o,"hex"),this.length instanceof ur&&this.length.encode(o,t,r),o}};Q.Blob=e2;let t2=class extends wt{constructor(e){super(-1,e)}getSpan(e,t=0){ru(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return dt(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const o=Gm.Buffer.from(e,"utf8"),i=o.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");const u=dt(t);return o.copy(u,r),u[r+i]=0,i+1}};Q.CString=t2;let n2=class extends wt{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return ru(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return dt(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const o=Gm.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(dt(t),r),i}};Q.UTF8=n2;let r2=class extends wt{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};Q.Constant=r2;Q.greedy=(n,e)=>new WE(n,e);var Wo=Q.offset=(n,e,t)=>new Ym(n,e,t),lt=Q.u8=n=>new Fr(1,n),Lr=Q.u16=n=>new Fr(2,n);Q.u24=n=>new Fr(3,n);var qe=Q.u32=n=>new Fr(4,n);Q.u40=n=>new Fr(5,n);Q.u48=n=>new Fr(6,n);var dn=Q.nu64=n=>new HE(n);Q.u16be=n=>new ui(2,n);Q.u24be=n=>new ui(3,n);Q.u32be=n=>new ui(4,n);Q.u40be=n=>new ui(5,n);Q.u48be=n=>new ui(6,n);Q.nu64be=n=>new KE(n);Q.s8=n=>new Fs(1,n);Q.s16=n=>new Fs(2,n);Q.s24=n=>new Fs(3,n);Q.s32=n=>new Fs(4,n);Q.s40=n=>new Fs(5,n);Q.s48=n=>new Fs(6,n);var Mr=Q.ns64=n=>new jE(n);Q.s16be=n=>new iu(2,n);Q.s24be=n=>new iu(3,n);Q.s32be=n=>new iu(4,n);Q.s40be=n=>new iu(5,n);Q.s48be=n=>new iu(6,n);Q.ns64be=n=>new VE(n);Q.f32=n=>new $E(n);Q.f32be=n=>new qE(n);Q.f64=n=>new GE(n);Q.f64be=n=>new ZE(n);var Ge=Q.struct=(n,e,t)=>new XE(n,e,t);Q.bits=(n,e,t)=>new Jm(n,e,t);var yn=Q.seq=(n,e,t)=>new YE(n,e,t);Q.union=(n,e,t)=>new Qm(n,e,t);Q.unionLayoutDiscriminator=(n,e)=>new Nf(n,e);var Rt=Q.blob=(n,e)=>new e2(n,e);Q.cstr=n=>new t2(n);Q.utf8=(n,e)=>new n2(n,e);Q.constant=(n,e)=>new r2(n,e);var yI=8078e3,wI=8078001,vI=8078004,_I=8078005,EI=8078006,bI=8078011;function i2(n){return Array.isArray(n)?"%5B"+n.map(i2).join("%2C%20")+"%5D":typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function SI([n,e]){return`${n}=${i2(e)}`}function MI(n){const e=Object.entries(n).map(SI).join("&");return btoa(e)}function AI(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${MI(e)}'`),`${t}\``}}var ka=class extends Error{constructor(...[e,t]){let r,o;if(t){const{cause:u,...c}=t;u&&(o={cause:u}),Object.keys(c).length>0&&(r=c)}const i=AI(e,r);super(i,o);Gt(this,"cause",this.cause);Gt(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function RI(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function xI(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(RI(e,n));return n.write(e,t,0),t}})}function kI(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function Xs(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function II(n,e){if(Xs(n)!==Xs(e))throw new ka(vI);if(Xs(n)&&Xs(e)&&n.fixedSize!==e.fixedSize)throw new ka(_I,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!Xs(n)&&!Xs(e)&&n.maxSize!==e.maxSize)throw new ka(EI,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function TI(n,e,t=0){if(e.length-t<=0)throw new ka(yI,{codecDescription:n})}function NI(n,e,t,r=0){const o=t.length-r;if(o<e)throw new ka(wI,{bytesLength:o,codecDescription:n,expected:e})}function CI(n,e,t,r){if(r<e||r>t)throw new ka(bI,{codecDescription:n,max:t,min:e,value:r})}function o2(n){return(n==null?void 0:n.endian)!==1}function OI(n){return xI({fixedSize:n.size,write(e,t,r){n.range&&CI(n.name,n.range[0],n.range[1],e);const o=new ArrayBuffer(n.size);return n.set(new DataView(o),e,o2(n.config)),t.set(new Uint8Array(o),r),r+n.size}})}function BI(n){return kI({fixedSize:n.size,read(e,t=0){TI(n.name,e,t),NI(n.name,n.size,e,t);const r=new DataView(LI(e,t,n.size));return[n.get(r,o2(n.config)),t+n.size]}})}function LI(n,e,t){const r=n.byteOffset+(e??0),o=t??n.byteLength;return n.buffer.slice(r,r+o)}var s2=(n={})=>OI({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),PI=(n={})=>BI({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),UI=(n={})=>II(s2(n),PI(n));let DI=class extends TypeError{constructor(e,t){let r;const{message:o,explanation:i,...u}=e,{path:c}=e,h=c.length===0?o:`At path: ${c.join(".")} -- ${o}`;super(i??h),i!=null&&(this.cause=h),Object.assign(this,u),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function zI(n){return Nl(n)&&typeof n[Symbol.iterator]=="function"}function Nl(n){return typeof n=="object"&&n!=null}function Cf(n){return Nl(n)&&!Array.isArray(n)}function ci(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function FI(n){const{done:e,value:t}=n.next();return e?void 0:t}function WI(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:i}=e,{type:u}=t,{refinement:c,message:h=`Expected a value of type \`${u}\`${c?` with refinement \`${c}\``:""}, but received: \`${ci(r)}\``}=n;return{value:r,type:u,refinement:c,key:o[o.length-1],path:o,branch:i,...n,message:h}}function*h1(n,e,t,r){zI(n)||(n=[n]);for(const o of n){const i=WI(o,e,t,r);i&&(yield i)}}function*tg(n,e,t={}){const{path:r=[],branch:o=[n],coerce:i=!1,mask:u=!1}=t,c={path:r,branch:o,mask:u};i&&(n=e.coercer(n,c));let h="valid";for(const w of e.validator(n,c))w.explanation=t.message,h="not_valid",yield[w,void 0];for(let[w,_,A]of e.entries(n,c)){const R=tg(_,A,{path:w===void 0?r:[...r,w],branch:w===void 0?o:[...o,_],coerce:i,mask:u,message:t.message});for(const b of R)b[0]?(h=b[0].refinement!=null?"not_refined":"not_valid",yield[b[0],void 0]):i&&(_=b[1],w===void 0?n=_:n instanceof Map?n.set(w,_):n instanceof Set?n.add(_):Nl(n)&&(_!==void 0||w in n)&&(n[w]=_))}if(h!=="not_valid")for(const w of e.refiner(n,c))w.explanation=t.message,h="not_refined",yield[w,void 0];h==="valid"&&(yield[void 0,n])}let Ii=class{constructor(e){const{type:t,schema:r,validator:o,refiner:i,coercer:u=h=>h,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=u,o?this.validator=(h,w)=>{const _=o(h,w);return h1(_,w,this,h)}:this.validator=()=>[],i?this.refiner=(h,w)=>{const _=i(h,w);return h1(_,w,this,h)}:this.refiner=()=>[]}assert(e,t){return a2(e,this,t)}create(e,t){return Fe(e,this,t)}is(e){return u2(e,this)}mask(e,t){return HI(e,this,t)}validate(e,t={}){return Cl(e,this,t)}};function a2(n,e,t){const r=Cl(n,e,{message:t});if(r[0])throw r[0]}function Fe(n,e,t){const r=Cl(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function HI(n,e,t){const r=Cl(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function u2(n,e){return!Cl(n,e)[0]}function Cl(n,e,t={}){const r=tg(n,e,t),o=FI(r);return o[0]?[new DI(o[0],function*(){for(const u of r)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function Ws(n,e){return new Ii({type:n,schema:null,validator:e})}function KI(){return Ws("any",()=>!0)}function He(n){return new Ii({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ci(e)}`}})}function Ri(){return Ws("boolean",n=>typeof n=="boolean")}function ng(n){return Ws("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ci(e)}`)}function Bt(n){const e=ci(n),t=typeof n;return new Ii({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ci(r)}`}})}function jI(){return Ws("never",()=>!1)}function Ke(n){return new Ii({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Y(){return Ws("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ci(n)}`)}function Xe(n){return new Ii({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function l2(n,e){return new Ii({type:"record",schema:null,*entries(t){if(Nl(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return Cf(t)||`Expected an object, but received: ${ci(t)}`},coercer(t){return Cf(t)?{...t}:t}})}function be(){return Ws("string",n=>typeof n=="string"||`Expected a string, but received: ${ci(n)}`)}function rg(n){const e=jI();return new Ii({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ci(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function se(n){const e=Object.keys(n);return new Ii({type:"type",schema:n,*entries(t){if(Nl(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Cf(t)||`Expected an object, but received: ${ci(t)}`},coercer(t){return Cf(t)?{...t}:t}})}function tr(n){const e=n.map(t=>t.type).join(" | ");return new Ii({type:"union",schema:null,coercer(t,r){for(const o of n){const[i,u]=o.validate(t,{coerce:!0,mask:r.mask});if(!i)return u}return t},validator(t,r){const o=[];for(const i of n){const[...u]=tg(t,i,r),[c]=u;if(c[0])for(const[h]of u)h&&o.push(h);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ci(t)}`,...o]}})}function ou(){return Ws("unknown",()=>!0)}function Ol(n,e,t){return new Ii({...n,coercer:(r,o)=>u2(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}var uc,VI=new Uint8Array(16);function c2(){if(!uc&&(uc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!uc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uc(VI)}const $I=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yh(n){return typeof n=="string"&&$I.test(n)}var hn=[];for(var Sd=0;Sd<256;++Sd)hn.push((Sd+256).toString(16).substr(1));function wh(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(hn[n[e+0]]+hn[n[e+1]]+hn[n[e+2]]+hn[n[e+3]]+"-"+hn[n[e+4]]+hn[n[e+5]]+"-"+hn[n[e+6]]+hn[n[e+7]]+"-"+hn[n[e+8]]+hn[n[e+9]]+"-"+hn[n[e+10]]+hn[n[e+11]]+hn[n[e+12]]+hn[n[e+13]]+hn[n[e+14]]+hn[n[e+15]]).toLowerCase();if(!yh(t))throw TypeError("Stringified UUID is invalid");return t}var d1,Md,Ad=0,Rd=0;function qI(n,e,t){var r=e&&t||0,o=e||new Array(16);n=n||{};var i=n.node||d1,u=n.clockseq!==void 0?n.clockseq:Md;if(i==null||u==null){var c=n.random||(n.rng||c2)();i==null&&(i=d1=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),u==null&&(u=Md=(c[6]<<8|c[7])&16383)}var h=n.msecs!==void 0?n.msecs:Date.now(),w=n.nsecs!==void 0?n.nsecs:Rd+1,_=h-Ad+(w-Rd)/1e4;if(_<0&&n.clockseq===void 0&&(u=u+1&16383),(_<0||h>Ad)&&n.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ad=h,Rd=w,Md=u,h+=122192928e5;var A=((h&268435455)*1e4+w)%4294967296;o[r++]=A>>>24&255,o[r++]=A>>>16&255,o[r++]=A>>>8&255,o[r++]=A&255;var R=h/4294967296*1e4&268435455;o[r++]=R>>>8&255,o[r++]=R&255,o[r++]=R>>>24&15|16,o[r++]=R>>>16&255,o[r++]=u>>>8|128,o[r++]=u&255;for(var b=0;b<6;++b)o[r+b]=i[b];return e||wh(o)}function f2(n){if(!yh(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function GI(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var ZI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",YI="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function h2(n,e,t){function r(o,i,u,c){if(typeof o=="string"&&(o=GI(o)),typeof i=="string"&&(i=f2(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+o.length);if(h.set(i),h.set(o,i.length),h=t(h),h[6]=h[6]&15|e,h[8]=h[8]&63|128,u){c=c||0;for(var w=0;w<16;++w)u[c+w]=h[w];return u}return wh(h)}try{r.name=n}catch{}return r.DNS=ZI,r.URL=YI,r}function XI(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return QI(JI(e3(n),n.length*8))}function QI(n){for(var e=[],t=n.length*32,r="0123456789abcdef",o=0;o<t;o+=8){var i=n[o>>5]>>>o%32&255,u=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);e.push(u)}return e}function d2(n){return(n+64>>>9<<4)+14+1}function JI(n,e){n[e>>5]|=128<<e%32,n[d2(e)-1]=e;for(var t=1732584193,r=-271733879,o=-1732584194,i=271733878,u=0;u<n.length;u+=16){var c=t,h=r,w=o,_=i;t=Mn(t,r,o,i,n[u],7,-680876936),i=Mn(i,t,r,o,n[u+1],12,-389564586),o=Mn(o,i,t,r,n[u+2],17,606105819),r=Mn(r,o,i,t,n[u+3],22,-1044525330),t=Mn(t,r,o,i,n[u+4],7,-176418897),i=Mn(i,t,r,o,n[u+5],12,1200080426),o=Mn(o,i,t,r,n[u+6],17,-1473231341),r=Mn(r,o,i,t,n[u+7],22,-45705983),t=Mn(t,r,o,i,n[u+8],7,1770035416),i=Mn(i,t,r,o,n[u+9],12,-1958414417),o=Mn(o,i,t,r,n[u+10],17,-42063),r=Mn(r,o,i,t,n[u+11],22,-1990404162),t=Mn(t,r,o,i,n[u+12],7,1804603682),i=Mn(i,t,r,o,n[u+13],12,-40341101),o=Mn(o,i,t,r,n[u+14],17,-1502002290),r=Mn(r,o,i,t,n[u+15],22,1236535329),t=An(t,r,o,i,n[u+1],5,-165796510),i=An(i,t,r,o,n[u+6],9,-1069501632),o=An(o,i,t,r,n[u+11],14,643717713),r=An(r,o,i,t,n[u],20,-373897302),t=An(t,r,o,i,n[u+5],5,-701558691),i=An(i,t,r,o,n[u+10],9,38016083),o=An(o,i,t,r,n[u+15],14,-660478335),r=An(r,o,i,t,n[u+4],20,-405537848),t=An(t,r,o,i,n[u+9],5,568446438),i=An(i,t,r,o,n[u+14],9,-1019803690),o=An(o,i,t,r,n[u+3],14,-187363961),r=An(r,o,i,t,n[u+8],20,1163531501),t=An(t,r,o,i,n[u+13],5,-1444681467),i=An(i,t,r,o,n[u+2],9,-51403784),o=An(o,i,t,r,n[u+7],14,1735328473),r=An(r,o,i,t,n[u+12],20,-1926607734),t=Rn(t,r,o,i,n[u+5],4,-378558),i=Rn(i,t,r,o,n[u+8],11,-2022574463),o=Rn(o,i,t,r,n[u+11],16,1839030562),r=Rn(r,o,i,t,n[u+14],23,-35309556),t=Rn(t,r,o,i,n[u+1],4,-1530992060),i=Rn(i,t,r,o,n[u+4],11,1272893353),o=Rn(o,i,t,r,n[u+7],16,-155497632),r=Rn(r,o,i,t,n[u+10],23,-1094730640),t=Rn(t,r,o,i,n[u+13],4,681279174),i=Rn(i,t,r,o,n[u],11,-358537222),o=Rn(o,i,t,r,n[u+3],16,-722521979),r=Rn(r,o,i,t,n[u+6],23,76029189),t=Rn(t,r,o,i,n[u+9],4,-640364487),i=Rn(i,t,r,o,n[u+12],11,-421815835),o=Rn(o,i,t,r,n[u+15],16,530742520),r=Rn(r,o,i,t,n[u+2],23,-995338651),t=xn(t,r,o,i,n[u],6,-198630844),i=xn(i,t,r,o,n[u+7],10,1126891415),o=xn(o,i,t,r,n[u+14],15,-1416354905),r=xn(r,o,i,t,n[u+5],21,-57434055),t=xn(t,r,o,i,n[u+12],6,1700485571),i=xn(i,t,r,o,n[u+3],10,-1894986606),o=xn(o,i,t,r,n[u+10],15,-1051523),r=xn(r,o,i,t,n[u+1],21,-2054922799),t=xn(t,r,o,i,n[u+8],6,1873313359),i=xn(i,t,r,o,n[u+15],10,-30611744),o=xn(o,i,t,r,n[u+6],15,-1560198380),r=xn(r,o,i,t,n[u+13],21,1309151649),t=xn(t,r,o,i,n[u+4],6,-145523070),i=xn(i,t,r,o,n[u+11],10,-1120210379),o=xn(o,i,t,r,n[u+2],15,718787259),r=xn(r,o,i,t,n[u+9],21,-343485551),t=Io(t,c),r=Io(r,h),o=Io(o,w),i=Io(i,_)}return[t,r,o,i]}function e3(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(d2(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function Io(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function t3(n,e){return n<<e|n>>>32-e}function vh(n,e,t,r,o,i){return Io(t3(Io(Io(e,n),Io(r,i)),o),t)}function Mn(n,e,t,r,o,i,u){return vh(e&t|~e&r,n,e,o,i,u)}function An(n,e,t,r,o,i,u){return vh(e&r|t&~r,n,e,o,i,u)}function Rn(n,e,t,r,o,i,u){return vh(e^t^r,n,e,o,i,u)}function xn(n,e,t,r,o,i,u){return vh(t^(e|~r),n,e,o,i,u)}var n3=h2("v3",48,XI);function r3(n,e,t){n=n||{};var r=n.random||(n.rng||c2)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return wh(r)}function i3(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function xd(n,e){return n<<e|n>>>32-e}function o3(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var i=n.length/4+2,u=Math.ceil(i/16),c=new Array(u),h=0;h<u;++h){for(var w=new Uint32Array(16),_=0;_<16;++_)w[_]=n[h*64+_*4]<<24|n[h*64+_*4+1]<<16|n[h*64+_*4+2]<<8|n[h*64+_*4+3];c[h]=w}c[u-1][14]=(n.length-1)*8/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=(n.length-1)*8&4294967295;for(var A=0;A<u;++A){for(var R=new Uint32Array(80),b=0;b<16;++b)R[b]=c[A][b];for(var x=16;x<80;++x)R[x]=xd(R[x-3]^R[x-8]^R[x-14]^R[x-16],1);for(var C=t[0],O=t[1],k=t[2],T=t[3],I=t[4],B=0;B<80;++B){var P=Math.floor(B/20),U=xd(C,5)+i3(P,O,k,T)+I+e[P]+R[B]>>>0;I=T,T=k,k=xd(O,30)>>>0,O=C,C=U}t[0]=t[0]+C>>>0,t[1]=t[1]+O>>>0,t[2]=t[2]+k>>>0,t[3]=t[3]+T>>>0,t[4]=t[4]+I>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var s3=h2("v5",80,o3);const a3="00000000-0000-0000-0000-000000000000";function u3(n){if(!yh(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const l3=Object.freeze(Object.defineProperty({__proto__:null,NIL:a3,parse:f2,stringify:wh,v1:qI,v3:n3,v4:r3,v5:s3,validate:yh,version:u3},Symbol.toStringTag,{value:"Module"})),p2=qf(l3),c3=p2.v4,f3=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:n};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const u=typeof r.generator=="function"?r.generator:function(){return c3()};i.id=u(i,r)}else o===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var h3=f3;const d3=p2.v4,p3=h3,pl=function(n,e){if(!(this instanceof pl))return new pl(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return d3()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var m3=pl;pl.prototype.request=function(n,e,t,r){const o=this;let i=null;const u=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const w=typeof r=="function";try{i=p3(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(w){r(_);return}throw _}if(!w)return i}let h;try{h=JSON.stringify(i,this.options.replacer)}catch(w){r(w);return}return this.callServer(h,function(w,_){o._parseResponse(w,_,r)}),i};pl.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e){t();return}let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){t(o);return}if(t.length===3)if(Array.isArray(r)){const o=function(u){return typeof u.error<"u"},i=function(u){return!o(u)};t(null,r.filter(o),r.filter(i));return}else{t(null,r.error,r.result);return}t(null,r)};const g3=oo(m3);var m2={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(h,w,_){this.fn=h,this.context=w,this.once=_||!1}function i(h,w,_,A,R){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new o(_,A||h,R),x=t?t+w:w;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],b]:h._events[x].push(b):(h._events[x]=b,h._eventsCount++),h}function u(h,w){--h._eventsCount===0?h._events=new r:delete h._events[w]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var w=[],_,A;if(this._eventsCount===0)return w;for(A in _=this._events)e.call(_,A)&&w.push(t?A.slice(1):A);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(_)):w},c.prototype.listeners=function(w){var _=t?t+w:w,A=this._events[_];if(!A)return[];if(A.fn)return[A.fn];for(var R=0,b=A.length,x=new Array(b);R<b;R++)x[R]=A[R].fn;return x},c.prototype.listenerCount=function(w){var _=t?t+w:w,A=this._events[_];return A?A.fn?1:A.length:0},c.prototype.emit=function(w,_,A,R,b,x){var C=t?t+w:w;if(!this._events[C])return!1;var O=this._events[C],k=arguments.length,T,I;if(O.fn){switch(O.once&&this.removeListener(w,O.fn,void 0,!0),k){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,_),!0;case 3:return O.fn.call(O.context,_,A),!0;case 4:return O.fn.call(O.context,_,A,R),!0;case 5:return O.fn.call(O.context,_,A,R,b),!0;case 6:return O.fn.call(O.context,_,A,R,b,x),!0}for(I=1,T=new Array(k-1);I<k;I++)T[I-1]=arguments[I];O.fn.apply(O.context,T)}else{var B=O.length,P;for(I=0;I<B;I++)switch(O[I].once&&this.removeListener(w,O[I].fn,void 0,!0),k){case 1:O[I].fn.call(O[I].context);break;case 2:O[I].fn.call(O[I].context,_);break;case 3:O[I].fn.call(O[I].context,_,A);break;case 4:O[I].fn.call(O[I].context,_,A,R);break;default:if(!T)for(P=1,T=new Array(k-1);P<k;P++)T[P-1]=arguments[P];O[I].fn.apply(O[I].context,T)}}return!0},c.prototype.on=function(w,_,A){return i(this,w,_,A,!1)},c.prototype.once=function(w,_,A){return i(this,w,_,A,!0)},c.prototype.removeListener=function(w,_,A,R){var b=t?t+w:w;if(!this._events[b])return this;if(!_)return u(this,b),this;var x=this._events[b];if(x.fn)x.fn===_&&(!R||x.once)&&(!A||x.context===A)&&u(this,b);else{for(var C=0,O=[],k=x.length;C<k;C++)(x[C].fn!==_||R&&!x[C].once||A&&x[C].context!==A)&&O.push(x[C]);O.length?this._events[b]=O.length===1?O[0]:O:u(this,b)}return this},c.prototype.removeAllListeners=function(w){var _;return w?(_=t?t+w:w,this._events[_]&&u(this,_)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(m2);var y3=m2.exports;const ig=oo(y3);var w3=class extends ig{constructor(e,t){super();Gt(this,"socket");this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,r){const o=r||t;try{this.socket.send(e),o()}catch(i){o(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function v3(n,e){return new w3(n,e)}var _3=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},E3=class extends ig{constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:o=!0,reconnect_interval:i=1e3,max_reconnects:u=5,...c}={},h,w){super();Gt(this,"address");Gt(this,"rpc_id");Gt(this,"queue");Gt(this,"options");Gt(this,"autoconnect");Gt(this,"ready");Gt(this,"reconnect");Gt(this,"reconnect_timer_id");Gt(this,"reconnect_interval");Gt(this,"max_reconnects");Gt(this,"rest_options");Gt(this,"current_reconnects");Gt(this,"generate_request_id");Gt(this,"socket");Gt(this,"webSocketFactory");Gt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=o,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=u,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=h||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),w?this.dataPack=w:this.dataPack=new _3,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,o){return!o&&typeof r=="object"&&(o=r,r=null),new Promise((i,u)=>{if(!this.ready)return u(new Error("socket not ready"));const c=this.generate_request_id(e,t),h={jsonrpc:"2.0",method:e,params:t||void 0,id:c};this.socket.send(this.dataPack.encode(h),o,w=>{if(w)return u(w);this.queue[c]={promise:[i,u]},r&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],u(new Error("reply timeout"))},r))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((r,o)=>{if(!this.ready)return o(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),u=>{if(u)return o(u);r()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=$e.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const o=[r.notification];if(r.params.constructor===Object)o.push(r.params);else for(let i=0;i<r.params.length;i++)o.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,o)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:o})=>{this.ready&&setTimeout(()=>this.emit("close",r,o),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,o),1))})}};const b3=BigInt(0),wu=BigInt(1),S3=BigInt(2),M3=BigInt(7),A3=BigInt(256),R3=BigInt(113),g2=[],y2=[],w2=[];for(let n=0,e=wu,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],g2.push(2*(5*r+t)),y2.push((n+1)*(n+2)/2%64);let o=b3;for(let i=0;i<7;i++)e=(e<<wu^(e>>M3)*R3)%A3,e&S3&&(o^=wu<<(wu<<BigInt(i))-wu);w2.push(o)}const v2=lE(w2,!0),x3=v2[0],k3=v2[1],p1=(n,e,t)=>t>32?ek(n,e,t):Qx(n,e,t),m1=(n,e,t)=>t>32?tk(n,e,t):Jx(n,e,t);function I3(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let u=0;u<10;u++)t[u]=n[u]^n[u+10]^n[u+20]^n[u+30]^n[u+40];for(let u=0;u<10;u+=2){const c=(u+8)%10,h=(u+2)%10,w=t[h],_=t[h+1],A=p1(w,_,1)^t[c],R=m1(w,_,1)^t[c+1];for(let b=0;b<50;b+=10)n[u+b]^=A,n[u+b+1]^=R}let o=n[2],i=n[3];for(let u=0;u<24;u++){const c=y2[u],h=p1(o,i,c),w=m1(o,i,c),_=g2[u];o=n[_],i=n[_+1],n[_]=h,n[_+1]=w}for(let u=0;u<50;u+=10){for(let c=0;c<10;c++)t[c]=n[u+c];for(let c=0;c<10;c++)n[u+c]^=~t[(c+2)%10]&t[(c+4)%10]}n[0]^=x3[r],n[1]^=k3[r]}$o(t)}class og extends Um{constructor(e,t,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=o,this.rounds=i,hl(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Hx(this.state)}clone(){return this._cloneInto()}keccak(){Xy(this.state32),I3(this.state32,this.rounds),Xy(this.state32),this.posOut=0,this.pos=0}update(e){Wa(this),e=fh(e),to(e);const{blockLen:t,state:r}=this,o=e.length;for(let i=0;i<o;){const u=Math.min(t-this.pos,o-i);for(let c=0;c<u;c++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:o}=this;e[r]^=t,t&128&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Wa(this,!1),to(e),this.finish();const t=this.state,{blockLen:r}=this;for(let o=0,i=e.length;o<i;){this.posOut>=r&&this.keccak();const u=Math.min(r-this.posOut,i-o);e.set(t.subarray(this.posOut,this.posOut+u),o),this.posOut+=u,o+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hl(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(sE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,$o(this.state)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:o,rounds:i,enableXOF:u}=this;return e||(e=new og(t,r,o,u,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=o,e.enableXOF=u,e.destroyed=this.destroyed,e}}const T3=(n,e,t)=>Dm(()=>new og(e,n,t)),g1=T3(1,136,256/8);class _2 extends Um{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,oE(e);const r=fh(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?e.create().update(r).digest():r);for(let u=0;u<i.length;u++)i[u]^=54;this.iHash.update(i),this.oHash=e.create();for(let u=0;u<i.length;u++)i[u]^=106;this.oHash.update(i),$o(i)}update(e){return Wa(this),this.iHash.update(e),this}digestInto(e){Wa(this),to(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:o,destroyed:i,blockLen:u,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=u,e.outputLen=c,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const E2=(n,e,t)=>new _2(n,e).update(t).digest();E2.create=(n,e)=>new _2(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const y1=(n,e)=>(n+(n>=0?e:-e)/b2)/e;function N3(n,e,t){const[[r,o],[i,u]]=e,c=y1(u*n,t),h=y1(-o*n,t);let w=n-c*r-h*i,_=-c*o-h*u;const A=w<Gi,R=_<Gi;A&&(w=-w),R&&(_=-_);const b=Il(Math.ceil(pE(t)/2))+Ia;if(w<Gi||w>=b||_<Gi||_>=b)throw new Error("splitScalar (endomorphism): failed, k="+n);return{k1neg:A,k1:w,k2neg:R,k2:_}}function np(n){if(!["compact","recovered","der"].includes(n))throw new Error('Signature format must be "compact", "recovered", or "der"');return n}function kd(n,e){const t={};for(let r of Object.keys(e))t[r]=n[r]===void 0?e[r]:n[r];return Os(t.lowS,"lowS"),Os(t.prehash,"prehash"),t.format!==void 0&&np(t.format),t}class C3 extends Error{constructor(e=""){super(e)}}const zi={Err:C3,_tlv:{encode:(n,e)=>{const{Err:t}=zi;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const r=e.length/2,o=sc(r);if(o.length/2&128)throw new t("tlv.encode: long form length too big");const i=r>127?sc(o.length/2|128):"";return sc(n)+i+o+e},decode(n,e){const{Err:t}=zi;let r=0;if(n<0||n>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[r++]!==n)throw new t("tlv.decode: wrong tlv");const o=e[r++],i=!!(o&128);let u=0;if(!i)u=o;else{const h=o&127;if(!h)throw new t("tlv.decode(long): indefinite length not supported");if(h>4)throw new t("tlv.decode(long): byte length is too big");const w=e.subarray(r,r+h);if(w.length!==h)throw new t("tlv.decode: length bytes not complete");if(w[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const _ of w)u=u<<8|_;if(r+=h,u<128)throw new t("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+u);if(c.length!==u)throw new t("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+u)}}},_int:{encode(n){const{Err:e}=zi;if(n<Gi)throw new e("integer: negative integers are not allowed");let t=sc(n);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(n){const{Err:e}=zi;if(n[0]&128)throw new e("invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return hh(n)}},toSig(n){const{Err:e,_int:t,_tlv:r}=zi,o=Ht("signature",n),{v:i,l:u}=r.decode(48,o);if(u.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:h}=r.decode(2,i),{v:w,l:_}=r.decode(2,h);if(_.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(c),s:t.decode(w)}},hexFromSig(n){const{_tlv:e,_int:t}=zi,r=e.encode(2,t.encode(n.r)),o=e.encode(2,t.encode(n.s)),i=r+o;return e.encode(48,i)}},Gi=BigInt(0),Ia=BigInt(1),b2=BigInt(2),lc=BigInt(3),O3=BigInt(4);function wa(n,e){const{BYTES:t}=n;let r;if(typeof e=="bigint")r=e;else{let o=Ht("private key",e);try{r=n.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${t}, got ${typeof e}`)}}if(!n.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function B3(n,e={}){const t=TE("weierstrass",n,e),{Fp:r,Fn:o}=t;let i=t.CURVE;const{h:u,n:c}=i;Tl(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:h}=e;if(h&&(!r.is0(i.a)||typeof h.beta!="bigint"||!Array.isArray(h.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const w=M2(r,o);function _(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function A(Z,m,s){const{x:l,y:f}=m.toAffine(),p=r.toBytes(l);if(Os(s,"isCompressed"),s){_();const g=!r.isOdd(f);return vi(S2(g),p)}else return vi(Uint8Array.of(4),p,r.toBytes(f))}function R(Z){ii(Z,void 0,"Point");const{publicKey:m,publicKeyUncompressed:s}=w,l=Z.length,f=Z[0],p=Z.subarray(1);if(l===m&&(f===2||f===3)){const g=r.fromBytes(p);if(!r.isValid(g))throw new Error("bad point: is not on curve, wrong x");const v=C(g);let E;try{E=r.sqrt(v)}catch(y){const W=y instanceof Error?": "+y.message:"";throw new Error("bad point: is not on curve, sqrt error"+W)}_();const d=r.isOdd(E);return(f&1)===1!==d&&(E=r.neg(E)),{x:g,y:E}}else if(l===s&&f===4){const g=r.BYTES,v=r.fromBytes(p.subarray(0,g)),E=r.fromBytes(p.subarray(g,g*2));if(!O(v,E))throw new Error("bad point: is not on curve");return{x:v,y:E}}else throw new Error(`bad point: got length ${l}, expected compressed=${m} or uncompressed=${s}`)}const b=e.toBytes||A,x=e.fromBytes||R;function C(Z){const m=r.sqr(Z),s=r.mul(m,Z);return r.add(r.add(s,r.mul(Z,i.a)),i.b)}function O(Z,m){const s=r.sqr(m),l=C(Z);return r.eql(s,l)}if(!O(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const k=r.mul(r.pow(i.a,lc),O3),T=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(k,T)))throw new Error("bad curve params: a or b");function I(Z,m,s=!1){if(!r.isValid(m)||s&&r.is0(m))throw new Error(`bad point coordinate ${Z}`);return m}function B(Z){if(!(Z instanceof V))throw new Error("ProjectivePoint expected")}function P(Z){if(!h||!h.basises)throw new Error("no endo");return N3(Z,h.basises,o.ORDER)}const U=Af((Z,m)=>{const{X:s,Y:l,Z:f}=Z;if(r.eql(f,r.ONE))return{x:s,y:l};const p=Z.is0();m==null&&(m=p?r.ONE:r.inv(f));const g=r.mul(s,m),v=r.mul(l,m),E=r.mul(f,m);if(p)return{x:r.ZERO,y:r.ZERO};if(!r.eql(E,r.ONE))throw new Error("invZ was invalid");return{x:g,y:v}}),F=Af(Z=>{if(Z.is0()){if(e.allowInfinityPoint&&!r.is0(Z.Y))return;throw new Error("bad point: ZERO")}const{x:m,y:s}=Z.toAffine();if(!r.isValid(m)||!r.isValid(s))throw new Error("bad point: x or y not field elements");if(!O(m,s))throw new Error("bad point: equation left != right");if(!Z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function j(Z,m,s,l,f){return s=new V(r.mul(s.X,Z),s.Y,s.Z),m=Rf(l,m),s=Rf(f,s),m.add(s)}class V{constructor(m,s,l){this.X=I("x",m),this.Y=I("y",s,!0),this.Z=I("z",l),Object.freeze(this)}static CURVE(){return i}static fromAffine(m){const{x:s,y:l}=m||{};if(!m||!r.isValid(s)||!r.isValid(l))throw new Error("invalid affine point");if(m instanceof V)throw new Error("projective point not allowed");return r.is0(s)&&r.is0(l)?V.ZERO:new V(s,l,r.ONE)}static fromBytes(m){const s=V.fromAffine(x(ii(m,void 0,"point")));return s.assertValidity(),s}static fromHex(m){return V.fromBytes(Ht("pointHex",m))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(m=8,s=!0){return H.createCache(this,m),s||this.multiply(lc),this}assertValidity(){F(this)}hasEvenY(){const{y:m}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(m)}equals(m){B(m);const{X:s,Y:l,Z:f}=this,{X:p,Y:g,Z:v}=m,E=r.eql(r.mul(s,v),r.mul(p,f)),d=r.eql(r.mul(l,v),r.mul(g,f));return E&&d}negate(){return new V(this.X,r.neg(this.Y),this.Z)}double(){const{a:m,b:s}=i,l=r.mul(s,lc),{X:f,Y:p,Z:g}=this;let v=r.ZERO,E=r.ZERO,d=r.ZERO,a=r.mul(f,f),y=r.mul(p,p),W=r.mul(g,g),D=r.mul(f,p);return D=r.add(D,D),d=r.mul(f,g),d=r.add(d,d),v=r.mul(m,d),E=r.mul(l,W),E=r.add(v,E),v=r.sub(y,E),E=r.add(y,E),E=r.mul(v,E),v=r.mul(D,v),d=r.mul(l,d),W=r.mul(m,W),D=r.sub(a,W),D=r.mul(m,D),D=r.add(D,d),d=r.add(a,a),a=r.add(d,a),a=r.add(a,W),a=r.mul(a,D),E=r.add(E,a),W=r.mul(p,g),W=r.add(W,W),a=r.mul(W,D),v=r.sub(v,a),d=r.mul(W,y),d=r.add(d,d),d=r.add(d,d),new V(v,E,d)}add(m){B(m);const{X:s,Y:l,Z:f}=this,{X:p,Y:g,Z:v}=m;let E=r.ZERO,d=r.ZERO,a=r.ZERO;const y=i.a,W=r.mul(i.b,lc);let D=r.mul(s,p),K=r.mul(l,g),ae=r.mul(f,v),J=r.add(s,l),ee=r.add(p,g);J=r.mul(J,ee),ee=r.add(D,K),J=r.sub(J,ee),ee=r.add(s,f);let pt=r.add(p,v);return ee=r.mul(ee,pt),pt=r.add(D,ae),ee=r.sub(ee,pt),pt=r.add(l,f),E=r.add(g,v),pt=r.mul(pt,E),E=r.add(K,ae),pt=r.sub(pt,E),a=r.mul(y,ee),E=r.mul(W,ae),a=r.add(E,a),E=r.sub(K,a),a=r.add(K,a),d=r.mul(E,a),K=r.add(D,D),K=r.add(K,D),ae=r.mul(y,ae),ee=r.mul(W,ee),K=r.add(K,ae),ae=r.sub(D,ae),ae=r.mul(y,ae),ee=r.add(ee,ae),D=r.mul(K,ee),d=r.add(d,D),D=r.mul(pt,ee),E=r.mul(J,E),E=r.sub(E,D),D=r.mul(J,K),a=r.mul(pt,a),a=r.add(a,D),new V(E,d,a)}subtract(m){return this.add(m.negate())}is0(){return this.equals(V.ZERO)}multiply(m){const{endo:s}=e;if(!o.isValidNot0(m))throw new Error("invalid scalar: out of range");let l,f;const p=g=>H.cached(this,g,v=>ms(V,v));if(s){const{k1neg:g,k1:v,k2neg:E,k2:d}=P(m),{p:a,f:y}=p(v),{p:W,f:D}=p(d);f=y.add(D),l=j(s.beta,a,W,g,E)}else{const{p:g,f:v}=p(m);l=g,f=v}return ms(V,[l,f])[0]}multiplyUnsafe(m){const{endo:s}=e,l=this;if(!o.isValid(m))throw new Error("invalid scalar: out of range");if(m===Gi||l.is0())return V.ZERO;if(m===Ia)return l;if(H.hasCache(this))return this.multiply(m);if(s){const{k1neg:f,k1:p,k2neg:g,k2:v}=P(m),{p1:E,p2:d}=kk(V,l,p,v);return j(s.beta,E,d,f,g)}else return H.unsafe(l,m)}multiplyAndAddUnsafe(m,s,l){const f=this.multiplyUnsafe(s).add(m.multiplyUnsafe(l));return f.is0()?void 0:f}toAffine(m){return U(this,m)}isTorsionFree(){const{isTorsionFree:m}=e;return u===Ia?!0:m?m(V,this):H.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:m}=e;return u===Ia?this:m?m(V,this):this.multiplyUnsafe(u)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}toBytes(m=!0){return Os(m,"isCompressed"),this.assertValidity(),b(V,this,m)}toHex(m=!0){return Rs(this.toBytes(m))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(m=!0){return this.toBytes(m)}_setWindowSize(m){this.precompute(m)}static normalizeZ(m){return ms(V,m)}static msm(m,s){return IE(V,o,m,s)}static fromPrivateKey(m){return V.BASE.multiply(wa(o,m))}}V.BASE=new V(i.Gx,i.Gy,r.ONE),V.ZERO=new V(r.ZERO,r.ONE,r.ZERO),V.Fp=r,V.Fn=o;const G=o.BITS,H=new kE(V,e.endo?Math.ceil(G/2):G);return V.BASE.precompute(8),V}function S2(n){return Uint8Array.of(n?2:3)}function M2(n,e){return{secretKey:e.BYTES,publicKey:1+n.BYTES,publicKeyUncompressed:1+2*n.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function L3(n,e={}){const{Fn:t}=n,r=e.randomBytes||zm,o=Object.assign(M2(n.Fp,t),{seed:AE(t.ORDER)});function i(b){try{return!!wa(t,b)}catch{return!1}}function u(b,x){const{publicKey:C,publicKeyUncompressed:O}=o;try{const k=b.length;return x===!0&&k!==C||x===!1&&k!==O?!1:!!n.fromBytes(b)}catch{return!1}}function c(b=r(o.seed)){return Ak(ii(b,o.seed,"seed"),t.ORDER)}function h(b,x=!0){return n.BASE.multiply(wa(t,b)).toBytes(x)}function w(b){const x=c(b);return{secretKey:x,publicKey:h(x)}}function _(b){if(typeof b=="bigint")return!1;if(b instanceof n)return!0;const{secretKey:x,publicKey:C,publicKeyUncompressed:O}=o;if(t.allowedLengths||x===C)return;const k=Ht("key",b).length;return k===C||k===O}function A(b,x,C=!0){if(_(b)===!0)throw new Error("first arg must be private key");if(_(x)===!1)throw new Error("second arg must be public key");const O=wa(t,b);return n.fromHex(x).multiply(O).toBytes(C)}return Object.freeze({getPublicKey:h,getSharedSecret:A,keygen:w,Point:n,utils:{isValidSecretKey:i,isValidPublicKey:u,randomSecretKey:c,isValidPrivateKey:i,randomPrivateKey:c,normPrivateKeyToScalar:b=>wa(t,b),precompute(b=8,x=n.BASE){return x.precompute(b,!1)}},lengths:o})}function P3(n,e,t={}){oE(e),Tl(t,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||zm,o=t.hmac||((s,...l)=>E2(e,s,vi(...l))),{Fp:i,Fn:u}=n,{ORDER:c,BITS:h}=u,{keygen:w,getPublicKey:_,getSharedSecret:A,utils:R,lengths:b}=L3(n,t),x={prehash:!1,lowS:typeof t.lowS=="boolean"?t.lowS:!1,format:void 0,extraEntropy:!1},C="compact";function O(s){const l=c>>Ia;return s>l}function k(s,l){if(!u.isValidNot0(l))throw new Error(`invalid signature ${s}: out of range 1..Point.Fn.ORDER`);return l}function T(s,l){np(l);const f=b.signature,p=l==="compact"?f:l==="recovered"?f+1:void 0;return ii(s,p,`${l} signature`)}class I{constructor(l,f,p){this.r=k("r",l),this.s=k("s",f),p!=null&&(this.recovery=p),Object.freeze(this)}static fromBytes(l,f=C){T(l,f);let p;if(f==="der"){const{r:d,s:a}=zi.toSig(ii(l));return new I(d,a)}f==="recovered"&&(p=l[0],f="compact",l=l.subarray(1));const g=u.BYTES,v=l.subarray(0,g),E=l.subarray(g,g*2);return new I(u.fromBytes(v),u.fromBytes(E),p)}static fromHex(l,f){return this.fromBytes(Mf(l),f)}addRecoveryBit(l){return new I(this.r,this.s,l)}recoverPublicKey(l){const f=i.ORDER,{r:p,s:g,recovery:v}=this;if(v==null||![0,1,2,3].includes(v))throw new Error("recovery id invalid");if(c*b2<f&&v>1)throw new Error("recovery id is ambiguous for h>1 curve");const d=v===2||v===3?p+c:p;if(!i.isValid(d))throw new Error("recovery id 2 or 3 invalid");const a=i.toBytes(d),y=n.fromBytes(vi(S2((v&1)===0),a)),W=u.inv(d),D=P(Ht("msgHash",l)),K=u.create(-D*W),ae=u.create(g*W),J=n.BASE.multiplyUnsafe(K).add(y.multiplyUnsafe(ae));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return O(this.s)}toBytes(l=C){if(np(l),l==="der")return Mf(zi.hexFromSig(this));const f=u.toBytes(this.r),p=u.toBytes(this.s);if(l==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return vi(Uint8Array.of(this.recovery),f,p)}return vi(f,p)}toHex(l){return Rs(this.toBytes(l))}assertValidity(){}static fromCompact(l){return I.fromBytes(Ht("sig",l),"compact")}static fromDER(l){return I.fromBytes(Ht("sig",l),"der")}normalizeS(){return this.hasHighS()?new I(this.r,u.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Rs(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Rs(this.toBytes("compact"))}}const B=t.bits2int||function(l){if(l.length>8192)throw new Error("input is too large");const f=hh(l),p=l.length*8-h;return p>0?f>>BigInt(p):f},P=t.bits2int_modN||function(l){return u.create(B(l))},U=Il(h);function F(s){return J0("num < 2^"+h,s,Gi,U),u.toBytes(s)}function j(s,l){return ii(s,void 0,"message"),l?ii(e(s),void 0,"prehashed message"):s}function V(s,l,f){if(["recovered","canonical"].some(K=>K in f))throw new Error("sign() legacy options not supported");const{lowS:p,prehash:g,extraEntropy:v}=kd(f,x);s=j(s,g);const E=P(s),d=wa(u,l),a=[F(d),F(E)];if(v!=null&&v!==!1){const K=v===!0?r(b.secretKey):v;a.push(Ht("extraEntropy",K))}const y=vi(...a),W=E;function D(K){const ae=B(K);if(!u.isValidNot0(ae))return;const J=u.inv(ae),ee=n.BASE.multiply(ae).toAffine(),pt=u.create(ee.x);if(pt===Gi)return;const fe=u.create(J*u.create(W+pt*d));if(fe===Gi)return;let he=(ee.x===pt?0:2)|Number(ee.y&Ia),jt=fe;return p&&O(fe)&&(jt=u.neg(fe),he^=1),new I(pt,jt,he)}return{seed:y,k2sig:D}}function G(s,l,f={}){s=Ht("message",s);const{seed:p,k2sig:g}=V(s,l,f);return mk(e.outputLen,u.BYTES,o)(p,g)}function H(s){let l;const f=typeof s=="string"||kl(s),p=!f&&s!==null&&typeof s=="object"&&typeof s.r=="bigint"&&typeof s.s=="bigint";if(!f&&!p)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(p)l=new I(s.r,s.s);else if(f){try{l=I.fromBytes(Ht("sig",s),"der")}catch(g){if(!(g instanceof zi.Err))throw g}if(!l)try{l=I.fromBytes(Ht("sig",s),"compact")}catch{return!1}}return l||!1}function Z(s,l,f,p={}){const{lowS:g,prehash:v,format:E}=kd(p,x);if(f=Ht("publicKey",f),l=j(Ht("message",l),v),"strict"in p)throw new Error("options.strict was renamed to lowS");const d=E===void 0?H(s):I.fromBytes(Ht("sig",s),E);if(d===!1)return!1;try{const a=n.fromBytes(f);if(g&&d.hasHighS())return!1;const{r:y,s:W}=d,D=P(l),K=u.inv(W),ae=u.create(D*K),J=u.create(y*K),ee=n.BASE.multiplyUnsafe(ae).add(a.multiplyUnsafe(J));return ee.is0()?!1:u.create(ee.x)===y}catch{return!1}}function m(s,l,f={}){const{prehash:p}=kd(f,x);return l=j(l,p),I.fromBytes(s,"recovered").recoverPublicKey(l).toBytes()}return Object.freeze({keygen:w,getPublicKey:_,getSharedSecret:A,utils:R,lengths:b,Point:n,sign:G,verify:Z,recoverPublicKey:m,Signature:I,hash:e})}function U3(n){const e={a:n.a,b:n.b,p:n.Fp.ORDER,n:n.n,h:n.h,Gx:n.Gx,Gy:n.Gy},t=n.Fp;let r=n.allowedPrivateKeyLengths?Array.from(new Set(n.allowedPrivateKeyLengths.map(u=>Math.ceil(u/2)))):void 0;const o=zs(e.n,{BITS:n.nBitLength,allowedLengths:r,modFromBytes:n.wrapPrivateKey}),i={Fp:t,Fn:o,allowInfinityPoint:n.allowInfinityPoint,endo:n.endo,isTorsionFree:n.isTorsionFree,clearCofactor:n.clearCofactor,fromBytes:n.fromBytes,toBytes:n.toBytes};return{CURVE:e,curveOpts:i}}function D3(n){const{CURVE:e,curveOpts:t}=U3(n),r={hmac:n.hmac,randomBytes:n.randomBytes,lowS:n.lowS,bits2int:n.bits2int,bits2int_modN:n.bits2int_modN};return{CURVE:e,curveOpts:t,hash:n.hash,ecdsaOpts:r}}function z3(n,e){const t=e.Point;return Object.assign({},e,{ProjectivePoint:t,CURVE:Object.assign({},n,SE(t.Fn.ORDER,t.Fn.BITS))})}function F3(n){const{CURVE:e,curveOpts:t,hash:r,ecdsaOpts:o}=D3(n),i=B3(e,t),u=P3(i,r,o);return z3(n,u)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function W3(n,e){const t=r=>F3({...n,hash:r});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sg={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},H3={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},w1=BigInt(2);function K3(n){const e=sg.p,t=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),u=BigInt(23),c=BigInt(44),h=BigInt(88),w=n*n*n%e,_=w*w*n%e,A=Wt(_,t,e)*_%e,R=Wt(A,t,e)*_%e,b=Wt(R,w1,e)*w%e,x=Wt(b,o,e)*b%e,C=Wt(x,i,e)*x%e,O=Wt(C,c,e)*C%e,k=Wt(O,h,e)*O%e,T=Wt(k,c,e)*C%e,I=Wt(T,t,e)*_%e,B=Wt(I,u,e)*x%e,P=Wt(B,r,e)*w%e,U=Wt(P,w1,e);if(!rp.eql(rp.sqr(U),n))throw new Error("Cannot find square root");return U}const rp=zs(sg.p,{sqrt:K3}),ag=W3({...sg,Fp:rp,lowS:!0,endo:H3},fE),j3=nu.utils.randomPrivateKey,v1=()=>{const n=nu.utils.randomPrivateKey(),e=Of(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Of=nu.getPublicKey;function _1(n){try{return nu.ExtendedPoint.fromHex(n),!0}catch{return!1}}const ug=(n,e)=>nu.sign(n,e.slice(0,32)),V3=nu.verify,nt=n=>$e.Buffer.isBuffer(n)?n:n instanceof Uint8Array?$e.Buffer.from(n.buffer,n.byteOffset,n.byteLength):$e.Buffer.from(n);let lg=class{constructor(e){Object.assign(this,e)}encode(){return $e.Buffer.from(zE(Hu,this))}static decode(e){return FE(Hu,this,e)}static decodeUnchecked(e){return BE(Hu,this,e)}};class $3 extends lg{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const Hu=new Map;var A2;const R2=32,Ai=32;function q3(n){return n._bn!==void 0}let E1=1;class re extends lg{constructor(e){if(super({}),this._bn=void 0,q3(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Qt.decode(e);if(t.length!=Ai)throw new Error("Invalid public key input");this._bn=new c1(t)}else this._bn=new c1(e);if(this._bn.byteLength()>Ai)throw new Error("Invalid public key input")}}static unique(){const e=new re(E1);return E1+=1,new re(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Qt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike($e.Buffer);if(e.length===Ai)return e;const t=$e.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=$e.Buffer.concat([e.toBuffer(),$e.Buffer.from(t),r.toBuffer()]),i=f1(o);return new re(i)}static createProgramAddressSync(e,t){let r=$e.Buffer.alloc(0);e.forEach(function(i){if(i.length>R2)throw new TypeError("Max seed length exceeded");r=$e.Buffer.concat([r,nt(i)])}),r=$e.Buffer.concat([r,t.toBuffer(),$e.Buffer.from("ProgramDerivedAddress")]);const o=f1(r);if(_1(o))throw new Error("Invalid seeds, address must fall off the curve");return new re(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const i=e.concat($e.Buffer.from([r]));o=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new re(e);return _1(t.toBytes())}}A2=re;re.default=new A2("11111111111111111111111111111111");Hu.set(re,{kind:"struct",fields:[["_bn","u256"]]});class G3{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=nt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=nt(j3()),this._publicKey=nt(Of(this._secretKey))}get publicKey(){return new re(this._publicKey)}get secretKey(){return $e.Buffer.concat([this._secretKey,this._publicKey],64)}}const Z3=new re("BPFLoader1111111111111111111111111111111111"),Ho=1232,_h=127,ml=64;class cg extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cg.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fg extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fg.prototype,"name",{value:"TransactionExpiredTimeoutError"});class va extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(va.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class gl{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,u)=>{r.set(i.toBase58(),u)});const o=i=>{const u=r.get(i.toBase58());if(u===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return u};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(u=>o(u.pubkey)),data:i.data}))}}const rt=(n="publicKey")=>Rt(32,n),Y3=(n="signature")=>Rt(64,n),gs=(n="string")=>{const e=Ge([qe("length"),qe("lengthPadding"),Rt(Wo(qe(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(i,u)=>t(i,u).chars.toString(),o.encode=(i,u,c)=>{const h={chars:$e.Buffer.from(i,"utf8")};return r(h,u,c)},o.alloc=i=>qe().span+qe().span+$e.Buffer.from(i,"utf8").length,o},X3=(n="authorized")=>Ge([rt("staker"),rt("withdrawer")],n),Q3=(n="lockup")=>Ge([Mr("unixTimestamp"),Mr("epoch"),rt("custodian")],n),J3=(n="voteInit")=>Ge([rt("nodePubkey"),rt("authorizedVoter"),rt("authorizedWithdrawer"),lt("commission")],n),eT=(n="voteAuthorizeWithSeedArgs")=>Ge([qe("voteAuthorizationType"),rt("currentAuthorityDerivedKeyOwnerPubkey"),gs("currentAuthorityDerivedKeySeed"),rt("newAuthorized")],n);function x2(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const i=e[o.property];if(Array.isArray(i))return i.length*t(o.elementLayout)}else if("fields"in o)return x2({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function or(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function Ar(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function ht(n,e){if(!n)throw new Error(e||"Assertion failed")}class Eh{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=u=>{const c=u.toBase58();let h=r.get(c);return h===void 0&&(h={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(c,h)),h},i=o(t);i.isSigner=!0,i.isWritable=!0;for(const u of e){o(u.programId).isInvoked=!0;for(const c of u.keys){const h=o(c.pubkey);h.isSigner||(h.isSigner=c.isSigner),h.isWritable||(h.isWritable=c.isWritable)}}return new Eh(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];ht(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,h])=>h.isSigner&&h.isWritable),r=e.filter(([,h])=>h.isSigner&&!h.isWritable),o=e.filter(([,h])=>!h.isSigner&&h.isWritable),i=e.filter(([,h])=>!h.isSigner&&!h.isWritable),u={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{ht(t.length>0,"Expected at least one writable signer key");const[h]=t[0];ht(h===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const c=[...t.map(([h])=>new re(h)),...r.map(([h])=>new re(h)),...o.map(([h])=>new re(h)),...i.map(([h])=>new re(h))];return[u,c]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&u.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,u=>!u.isSigner&&!u.isInvoked&&!u.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[i,u]of this.keyMetaMap.entries())if(t(u)){const c=new re(i),h=e.findIndex(w=>w.equals(c));h>=0&&(ht(h<256,"Max lookup table index exceeded"),r.push(h),o.push(c),this.keyMetaMap.delete(i))}return[r,o]}}const k2="Reached end of buffer unexpectedly";function _i(n){if(n.length===0)throw new Error(k2);return n.shift()}function sr(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(k2);return n.splice(...e)}class fi{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new re(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Qt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gl(this.staticAccountKeys)}static compile(e){const t=Eh.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),u=new gl(o).compileInstructions(e.instructions).map(c=>({programIdIndex:c.programIdIndex,accounts:c.accountKeyIndexes,data:Qt.encode(c.data)}));return new fi({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:u})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ar(t,e);const r=this.instructions.map(A=>{const{accounts:R,programIdIndex:b}=A,x=Array.from(Qt.decode(A.data));let C=[];Ar(C,R.length);let O=[];return Ar(O,x.length),{programIdIndex:b,keyIndicesCount:$e.Buffer.from(C),keyIndices:R,dataLength:$e.Buffer.from(O),data:x}});let o=[];Ar(o,r.length);let i=$e.Buffer.alloc(Ho);$e.Buffer.from(o).copy(i);let u=o.length;r.forEach(A=>{const b=Ge([lt("programIdIndex"),Rt(A.keyIndicesCount.length,"keyIndicesCount"),yn(lt("keyIndex"),A.keyIndices.length,"keyIndices"),Rt(A.dataLength.length,"dataLength"),yn(lt("userdatum"),A.data.length,"data")]).encode(A,i,u);u+=b}),i=i.slice(0,u);const c=Ge([Rt(1,"numRequiredSignatures"),Rt(1,"numReadonlySignedAccounts"),Rt(1,"numReadonlyUnsignedAccounts"),Rt(t.length,"keyCount"),yn(rt("key"),e,"keys"),rt("recentBlockhash")]),h={numRequiredSignatures:$e.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:$e.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:$e.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:$e.Buffer.from(t),keys:this.accountKeys.map(A=>nt(A.toBytes())),recentBlockhash:Qt.decode(this.recentBlockhash)};let w=$e.Buffer.alloc(2048);const _=c.encode(h,w);return i.copy(w,_),w.slice(0,_+i.length)}static from(e){let t=[...e];const r=_i(t);if(r!==(r&_h))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=_i(t),i=_i(t),u=or(t);let c=[];for(let R=0;R<u;R++){const b=sr(t,0,Ai);c.push(new re($e.Buffer.from(b)))}const h=sr(t,0,Ai),w=or(t);let _=[];for(let R=0;R<w;R++){const b=_i(t),x=or(t),C=sr(t,0,x),O=or(t),k=sr(t,0,O),T=Qt.encode($e.Buffer.from(k));_.push({programIdIndex:b,accounts:C,data:T})}const A={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Qt.encode($e.Buffer.from(h)),accountKeys:c,instructions:_};return new fi(A)}}class Bs{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gl(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,i=this.addressTableLookups.reduce((u,c)=>u+c.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){const o=e-t,u=r-t-this.header.numReadonlyUnsignedAccounts;return o<u}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(i=>i.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<o.state.addresses.length)t.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<o.state.addresses.length)t.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Eh.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const _ of i){const A=t.extractTableLookup(_);if(A!==void 0){const[R,{writable:b,readonly:x}]=A;r.push(R),o.writable.push(...b),o.readonly.push(...x)}}const[u,c]=t.getMessageComponents(),w=new gl(c,o).compileInstructions(e.instructions);return new Bs({header:u,staticAccountKeys:c,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:r})}serialize(){const e=Array();Ar(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Ar(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();Ar(i,this.addressTableLookups.length);const u=Ge([lt("prefix"),Ge([lt("numRequiredSignatures"),lt("numReadonlySignedAccounts"),lt("numReadonlyUnsignedAccounts")],"header"),Rt(e.length,"staticAccountKeysLength"),yn(rt(),this.staticAccountKeys.length,"staticAccountKeys"),rt("recentBlockhash"),Rt(r.length,"instructionsLength"),Rt(t.length,"serializedInstructions"),Rt(i.length,"addressTableLookupsLength"),Rt(o.length,"serializedAddressTableLookups")]),c=new Uint8Array(Ho),w=u.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:Qt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},c);return c.slice(0,w)}serializeInstructions(){let e=0;const t=new Uint8Array(Ho);for(const r of this.compiledInstructions){const o=Array();Ar(o,r.accountKeyIndexes.length);const i=Array();Ar(i,r.data.length);const u=Ge([lt("programIdIndex"),Rt(o.length,"encodedAccountKeyIndexesLength"),yn(lt(),r.accountKeyIndexes.length,"accountKeyIndexes"),Rt(i.length,"encodedDataLength"),Rt(r.data.length,"data")]);e+=u.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ho);for(const r of this.addressTableLookups){const o=Array();Ar(o,r.writableIndexes.length);const i=Array();Ar(i,r.readonlyIndexes.length);const u=Ge([rt("accountKey"),Rt(o.length,"encodedWritableIndexesLength"),yn(lt(),r.writableIndexes.length,"writableIndexes"),Rt(i.length,"encodedReadonlyIndexesLength"),yn(lt(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=u.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=_i(t),o=r&_h;ht(r!==o,"Expected versioned message but received legacy message");const i=o;ht(i===0,`Expected versioned message with version 0 but found version ${i}`);const u={numRequiredSignatures:_i(t),numReadonlySignedAccounts:_i(t),numReadonlyUnsignedAccounts:_i(t)},c=[],h=or(t);for(let x=0;x<h;x++)c.push(new re(sr(t,0,Ai)));const w=Qt.encode(sr(t,0,Ai)),_=or(t),A=[];for(let x=0;x<_;x++){const C=_i(t),O=or(t),k=sr(t,0,O),T=or(t),I=new Uint8Array(sr(t,0,T));A.push({programIdIndex:C,accountKeyIndexes:k,data:I})}const R=or(t),b=[];for(let x=0;x<R;x++){const C=new re(sr(t,0,Ai)),O=or(t),k=sr(t,0,O),T=or(t),I=sr(t,0,T);b.push({accountKey:C,writableIndexes:k,readonlyIndexes:I})}return new Bs({header:u,staticAccountKeys:c,recentBlockhash:w,compiledInstructions:A,addressTableLookups:b})}}const bh={deserializeMessageVersion(n){const e=n[0],t=e&_h;return t===e?"legacy":t},deserialize:n=>{const e=bh.deserializeMessageVersion(n);if(e==="legacy")return fi.from(n);if(e===0)return Bs.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Li=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const tT=$e.Buffer.alloc(ml).fill(0);class _t{constructor(e){this.keys=void 0,this.programId=void 0,this.data=$e.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class ot{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new _t(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let C=0;C<t.length;C++)if(t[C].programId===void 0)throw new Error(`Transaction instruction index ${C} has undefined program id`);const o=[],i=[];t.forEach(C=>{C.keys.forEach(k=>{i.push({...k})});const O=C.programId.toString();o.includes(O)||o.push(O)}),o.forEach(C=>{i.push({pubkey:new re(C),isSigner:!1,isWritable:!1})});const u=[];i.forEach(C=>{const O=C.pubkey.toString(),k=u.findIndex(T=>T.pubkey.toString()===O);k>-1?(u[k].isWritable=u[k].isWritable||C.isWritable,u[k].isSigner=u[k].isSigner||C.isSigner):u.push(C)}),u.sort(function(C,O){if(C.isSigner!==O.isSigner)return C.isSigner?-1:1;if(C.isWritable!==O.isWritable)return C.isWritable?-1:1;const k={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return C.pubkey.toBase58().localeCompare(O.pubkey.toBase58(),"en",k)});const c=u.findIndex(C=>C.pubkey.equals(r));if(c>-1){const[C]=u.splice(c,1);C.isSigner=!0,C.isWritable=!0,u.unshift(C)}else u.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const C of this.signatures){const O=u.findIndex(k=>k.pubkey.equals(C.publicKey));if(O>-1)u[O].isSigner||(u[O].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${C.publicKey.toString()}`)}let h=0,w=0,_=0;const A=[],R=[];u.forEach(({pubkey:C,isSigner:O,isWritable:k})=>{O?(A.push(C.toString()),h+=1,k||(w+=1)):(R.push(C.toString()),k||(_+=1))});const b=A.concat(R),x=t.map(C=>{const{data:O,programId:k}=C;return{programIdIndex:b.indexOf(k.toString()),accounts:C.keys.map(T=>b.indexOf(T.pubkey.toString())),data:Qt.encode(O)}});return x.forEach(C=>{ht(C.programIdIndex>=0),C.accounts.forEach(O=>ht(O>=0))}),new fi({header:{numRequiredSignatures:h,numReadonlySignedAccounts:w,numReadonlyUnsignedAccounts:_},accountKeys:b,recentBlockhash:e,instructions:x})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,i)=>t[i].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const u=i.publicKey.toString();t.has(u)||(t.add(u),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const u=i.publicKey.toString();t.has(u)||(t.add(u),r.push(i))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const i=ug(r,o.secretKey);this._addSignature(o.publicKey,nt(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){ht(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=$e.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:o,publicKey:i}of this.signatures)o===null?t&&(r.missing||(r.missing=[])).push(i):V3(o,e,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(o,t);if(i){let u="Signature verification failed.";throw i.invalid&&(u+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(c=>c.toBase58()).join("`, `")}\`].`),i.missing&&(u+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(c=>c.toBase58()).join("`, `")}\`].`),new Error(u)}}return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];Ar(r,t.length);const o=r.length+t.length*64+e.length,i=$e.Buffer.alloc(o);return ht(t.length<256),$e.Buffer.from(r).copy(i,0),t.forEach(({signature:u},c)=>{u!==null&&(ht(u.length===64,"signature has invalid length"),$e.Buffer.from(u).copy(i,r.length+c*64))}),e.copy(i,r.length+t.length*64),ht(i.length<=Ho,`Transaction too large: ${i.length} > ${Ho}`),i}get keys(){return ht(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return ht(this.instructions.length===1),this.instructions[0].programId}get data(){return ht(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=or(t);let o=[];for(let i=0;i<r;i++){const u=sr(t,0,ml);o.push(Qt.encode($e.Buffer.from(u)))}return ot.populate(fi.from(t),o)}static populate(e,t=[]){const r=new ot;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,i)=>{const u={signature:o==Qt.encode(tT)?null:Qt.decode(o),publicKey:e.accountKeys[i]};r.signatures.push(u)}),e.instructions.forEach(o=>{const i=o.accounts.map(u=>{const c=e.accountKeys[u];return{pubkey:c,isSigner:r.signatures.some(h=>h.publicKey.toString()===c.toString())||e.isAccountSigner(u),isWritable:e.isAccountWritable(u)}});r.instructions.push(new _t({keys:i,programId:e.accountKeys[o.programIdIndex],data:Qt.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class hg{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:i}=e,{numRequiredSignatures:u,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:h}=r,w=u-c;ht(w>0,"Message header is invalid");const _=e.staticAccountKeys.length-u-h;ht(_>=0,"Message header is invalid");const A=e.getAccountKeys(t),R=A.get(0);if(R===void 0)throw new Error("Failed to decompile message because no account keys were found");const b=[];for(const x of o){const C=[];for(const k of x.accountKeyIndexes){const T=A.get(k);if(T===void 0)throw new Error(`Failed to find key for account key index ${k}`);const I=k<u;let B;I?B=k<w:k<A.staticAccountKeys.length?B=k-u<_:B=k-A.staticAccountKeys.length<A.accountKeysFromLookups.writable.length,C.push({pubkey:T,isSigner:k<r.numRequiredSignatures,isWritable:B})}const O=A.get(x.programIdIndex);if(O===void 0)throw new Error(`Failed to find program id for program id index ${x.programIdIndex}`);b.push(new _t({programId:O,data:nt(x.data),keys:C}))}return new hg({payerKey:R,instructions:b,recentBlockhash:i})}compileToLegacyMessage(){return fi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Bs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ja{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)ht(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(ml));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ar(t,this.signatures.length);const r=Ge([Rt(t.length,"encodedSignaturesLength"),yn(Y3(),this.signatures.length,"signatures"),Rt(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let t=[...e];const r=[],o=or(t);for(let u=0;u<o;u++)r.push(new Uint8Array(sr(t,0,ml)));const i=bh.deserialize(new Uint8Array(t));return new ja(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const i=r.findIndex(u=>u.equals(o.publicKey));ht(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=ug(t,o.secretKey)}}addSignature(e,t){ht(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));ht(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const nT=160,rT=64,iT=nT/rT,I2=1e3/iT,gi=new re("SysvarC1ock11111111111111111111111111111111"),oT=new re("SysvarEpochSchedu1e111111111111111111111111"),sT=new re("Sysvar1nstructions1111111111111111111111111"),Oc=new re("SysvarRecentB1ockHashes11111111111111111111"),Va=new re("SysvarRent111111111111111111111111111111111"),aT=new re("SysvarRewards111111111111111111111111111111"),uT=new re("SysvarS1otHashes111111111111111111111111111"),lT=new re("SysvarS1otHistory11111111111111111111111111"),Bc=new re("SysvarStakeHistory1111111111111111111111111");class qo extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:o}){const i=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",u="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let c;switch(e){case"send":c=`Transaction ${t} resulted in an error. 
${r}. `+i+u;break;case"simulate":c=`Simulation failed. 
Message: ${r}. 
`+i+u;break;default:c=`Unknown action '${(h=>h)(e)}'`}super(c),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const i=o.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const cT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ye extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function ip(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,o);let u;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)u=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:c}=e.nonceInfo,h=c.keys[0].pubkey;u=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:h,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),u=(await n.confirmTransaction(i,r&&r.commitment)).value;if(u.err)throw i!=null?new qo({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(u)})`);return i}function ls(n){return new Promise(e=>setTimeout(e,n))}function ut(n,e){const t=n.layout.span>=0?n.layout.span:x2(n,e),r=$e.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function gt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const T2=dn("lamportsPerSignature"),N2=Ge([qe("version"),qe("state"),rt("authorizedPubkey"),rt("nonce"),Ge([T2],"feeCalculator")]),op=N2.span;class Sh{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=N2.decode(nt(e),0);return new Sh({authorizedPubkey:new re(t.authorizedPubkey),nonce:new re(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function $a(n){const e=Rt(8,n),t=e.decode.bind(e),r=e.encode.bind(e),o=e,i=UI();return o.decode=(u,c)=>{const h=t(u,c);return i.decode(h)},o.encode=(u,c,h)=>{const w=i.encode(u);return r(w,c,h)},o}class fT{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=qe("instruction").decode(e.data);let o;for(const[i,u]of Object.entries(St))if(u.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:o}=gt(St.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new re(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=gt(St.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:o}=gt(St.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new re(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=gt(St.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:o,programId:i}=gt(St.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new re(t),seed:r,space:o,programId:new re(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=gt(St.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new re(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:o}=gt(St.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new re(t),seed:r,programId:new re(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:o,space:i,programId:u}=gt(St.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new re(t),seed:r,lamports:o,space:i,programId:new re(u)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=gt(St.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new re(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gt(St.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gt(St.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=gt(St.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new re(t)}}static checkProgramId(e){if(!e.equals(rn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const St=Object.freeze({Create:{index:0,layout:Ge([qe("instruction"),Mr("lamports"),Mr("space"),rt("programId")])},Assign:{index:1,layout:Ge([qe("instruction"),rt("programId")])},Transfer:{index:2,layout:Ge([qe("instruction"),$a("lamports")])},CreateWithSeed:{index:3,layout:Ge([qe("instruction"),rt("base"),gs("seed"),Mr("lamports"),Mr("space"),rt("programId")])},AdvanceNonceAccount:{index:4,layout:Ge([qe("instruction")])},WithdrawNonceAccount:{index:5,layout:Ge([qe("instruction"),Mr("lamports")])},InitializeNonceAccount:{index:6,layout:Ge([qe("instruction"),rt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ge([qe("instruction"),rt("authorized")])},Allocate:{index:8,layout:Ge([qe("instruction"),Mr("space")])},AllocateWithSeed:{index:9,layout:Ge([qe("instruction"),rt("base"),gs("seed"),Mr("space"),rt("programId")])},AssignWithSeed:{index:10,layout:Ge([qe("instruction"),rt("base"),gs("seed"),rt("programId")])},TransferWithSeed:{index:11,layout:Ge([qe("instruction"),$a("lamports"),gs("seed"),rt("programId")])},UpgradeNonceAccount:{index:12,layout:Ge([qe("instruction")])}});class rn{constructor(){}static createAccount(e){const t=St.Create,r=ut(t,{lamports:e.lamports,space:e.space,programId:nt(e.programId.toBuffer())});return new _t({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=St.TransferWithSeed;t=ut(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:nt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=St.Transfer;t=ut(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new _t({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=St.AssignWithSeed;t=ut(o,{base:nt(e.basePubkey.toBuffer()),seed:e.seed,programId:nt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=St.Assign;t=ut(o,{programId:nt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _t({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=St.CreateWithSeed,r=ut(t,{base:nt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nt(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new _t({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new ot;"basePubkey"in e&&"seed"in e?t.add(rn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:op,programId:this.programId})):t.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:op,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=St.InitializeNonceAccount,r=ut(t,{authorized:nt(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:Va,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new _t(o)}static nonceAdvance(e){const t=St.AdvanceNonceAccount,r=ut(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new _t(o)}static nonceWithdraw(e){const t=St.WithdrawNonceAccount,r=ut(t,{lamports:e.lamports});return new _t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Oc,isSigner:!1,isWritable:!1},{pubkey:Va,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=St.AuthorizeNonceAccount,r=ut(t,{authorized:nt(e.newAuthorizedPubkey.toBuffer())});return new _t({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=St.AllocateWithSeed;t=ut(o,{base:nt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=St.Allocate;t=ut(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new _t({keys:r,programId:this.programId,data:t})}}rn.programId=new re("11111111111111111111111111111111");const hT=Ho-300;class Ls{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Ls.chunkSize)+1+1)}static async load(e,t,r,o,i){{const A=await e.getMinimumBalanceForRentExemption(i.length),R=await e.getAccountInfo(r.publicKey,"confirmed");let b=null;if(R!==null){if(R.executable)return console.error("Program load failed, account is already executable"),!1;R.data.length!==i.length&&(b=b||new ot,b.add(rn.allocate({accountPubkey:r.publicKey,space:i.length}))),R.owner.equals(o)||(b=b||new ot,b.add(rn.assign({accountPubkey:r.publicKey,programId:o}))),R.lamports<A&&(b=b||new ot,b.add(rn.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:A-R.lamports})))}else b=new ot().add(rn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:A>0?A:1,space:i.length,programId:o}));b!==null&&await ip(e,b,[t,r],{commitment:"confirmed"})}const u=Ge([qe("instruction"),qe("offset"),qe("bytesLength"),qe("bytesLengthPadding"),yn(lt("byte"),Wo(qe(),-8),"bytes")]),c=Ls.chunkSize;let h=0,w=i,_=[];for(;w.length>0;){const A=w.slice(0,c),R=$e.Buffer.alloc(c+16);u.encode({instruction:0,offset:h,bytes:A,bytesLength:0,bytesLengthPadding:0},R);const b=new ot().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:R});_.push(ip(e,b,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ls(1e3/4),h+=c,w=w.slice(c)}await Promise.all(_);{const A=Ge([qe("instruction")]),R=$e.Buffer.alloc(A.span);A.encode({instruction:1},R);const b=new ot().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Va,isSigner:!1,isWritable:!1}],programId:o,data:R}),x="processed",C=await e.sendTransaction(b,[t,r],{preflightCommitment:x}),{context:O,value:k}=await e.confirmTransaction({signature:C,lastValidBlockHeight:b.lastValidBlockHeight,blockhash:b.recentBlockhash},x);if(k.err)throw new Error(`Transaction ${C} failed (${JSON.stringify(k)})`);for(;;){try{if(await e.getSlot({commitment:x})>O.slot)break}catch{}await new Promise(T=>setTimeout(T,Math.round(I2/2)))}}return!0}}Ls.chunkSize=hT;const dT=new re("BPFLoader2111111111111111111111111111111111");class pT{static getMinNumSignatures(e){return Ls.getMinNumSignatures(e)}static load(e,t,r,o,i){return Ls.load(e,t,r,i,o)}}function mT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Id,b1;function gT(){if(b1)return Id;b1=1;var n=Object.prototype.toString,e=Object.keys||function(r){var o=[];for(var i in r)o.push(i);return o};function t(r,o){var i,u,c,h,w,_,A;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),o);if(A=n.call(r),A==="[object Array]"){for(c="[",u=r.length-1,i=0;i<u;i++)c+=t(r[i],!0)+",";return u>-1&&(c+=t(r[i],!0)),c+"]"}else if(A==="[object Object]"){for(h=e(r).sort(),u=h.length,c="",i=0;i<u;)w=h[i],_=t(r[w],!1),_!==void 0&&(c&&(c+=","),c+=JSON.stringify(w)+":"+_),i++;return"{"+c+"}"}else return JSON.stringify(r);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Id=function(r){var o=t(r,!1);if(o!==void 0)return""+o},Id}var yT=gT(),S1=mT(yT);const vu=32;function Td(n){let e=0;for(;n>1;)n/=2,e++;return e}function wT(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class C2{constructor(e,t,r,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Td(wT(e+vu+1))-Td(vu)-1,r=this.getSlotsInEpoch(t),o=e-(r-vu);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*vu:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Td(vu)):this.slotsPerEpoch}}var vT=globalThis.fetch;class _T extends E3{constructor(e,t,r){const o=i=>{const u=v3(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in u?this.underlyingSocket=u.socket:this.underlyingSocket=u,u};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function ET(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const M1=56;class sp{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=ET(bT,e),r=e.length-M1;ht(r>=0,"lookup table is invalid"),ht(r%32===0,"lookup table is invalid");const o=r/32,{addresses:i}=Ge([yn(rt(),o,"addresses")]).decode(e.slice(M1));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new re(t.authority[0]):void 0,addresses:i.map(u=>new re(u))}}}const bT={index:1,layout:Ge([qe("typeIndex"),$a("deactivationSlot"),dn("lastExtendedSlot"),lt("lastExtendedStartIndex"),lt(),yn(rt(),Wo(lt(),-1),"authority")])},ST=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function MT(n){const e=n.match(ST);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,i]=e,u=n.startsWith("https:")?"wss:":"ws:",c=o==null?null:parseInt(o.slice(1),10),h=c==null?"":`:${c+1}`;return`${u}//${r}${h}${i}`}const Ut=Ol(ng(re),be(),n=>new re(n)),O2=rg([be(),Bt("base64")]),dg=Ol(ng($e.Buffer),O2,n=>$e.Buffer.from(n[0],"base64")),B2=30*1e3;function AT(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Et(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function A1(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function L2(n){return tr([se({jsonrpc:Bt("2.0"),id:be(),result:n}),se({jsonrpc:Bt("2.0"),id:be(),error:se({code:ou(),message:be(),data:Xe(KI())})})])}const RT=L2(ou());function tt(n){return Ol(L2(n),RT,e=>"error"in e?e:{...e,result:Fe(e.result,n)})}function Vt(n){return tt(se({context:se({slot:Y()}),value:n}))}function Mh(n){return se({context:se({slot:Y()}),value:n})}function Nd(n,e){return n===0?new Bs({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new re(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Qt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new fi(e)}const xT=se({foundation:Y(),foundationTerm:Y(),initial:Y(),taper:Y(),terminal:Y()}),kT=tt(He(Ke(se({epoch:Y(),effectiveSlot:Y(),amount:Y(),postBalance:Y(),commission:Xe(Ke(Y()))})))),IT=He(se({slot:Y(),prioritizationFee:Y()})),TT=se({total:Y(),validator:Y(),foundation:Y(),epoch:Y()}),NT=se({epoch:Y(),slotIndex:Y(),slotsInEpoch:Y(),absoluteSlot:Y(),blockHeight:Xe(Y()),transactionCount:Xe(Y())}),CT=se({slotsPerEpoch:Y(),leaderScheduleSlotOffset:Y(),warmup:Ri(),firstNormalEpoch:Y(),firstNormalSlot:Y()}),OT=l2(be(),He(Y())),Hs=Ke(tr([se({}),be()])),BT=se({err:Hs}),LT=Bt("receivedSignature"),PT=se({"solana-core":be(),"feature-set":Xe(Y())}),UT=se({program:be(),programId:Ut,parsed:ou()}),DT=se({programId:Ut,accounts:He(Ut),data:be()}),R1=Vt(se({err:Ke(tr([se({}),be()])),logs:Ke(He(be())),accounts:Xe(Ke(He(Ke(se({executable:Ri(),owner:be(),lamports:Y(),data:He(be()),rentEpoch:Xe(Y())}))))),unitsConsumed:Xe(Y()),returnData:Xe(Ke(se({programId:be(),data:rg([be(),Bt("base64")])}))),innerInstructions:Xe(Ke(He(se({index:Y(),instructions:He(tr([UT,DT]))}))))})),zT=Vt(se({byIdentity:l2(be(),He(Y())),range:se({firstSlot:Y(),lastSlot:Y()})}));function FT(n,e,t,r,o,i){const u=t||vT;let c;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let h;return r&&(h=async(_,A)=>{const R=await new Promise((b,x)=>{try{r(_,A,(C,O)=>b([C,O]))}catch(C){x(C)}});return await u(...R)}),new g3(async(_,A)=>{const R={method:"POST",body:_,agent:c,headers:Object.assign({"Content-Type":"application/json"},e||{},F6)};try{let b=5,x,C=500;for(;h?x=await h(n,R):x=await u(n,R),!(x.status!==429||o===!0||(b-=1,b===0));)console.error(`Server responded with ${x.status} ${x.statusText}.  Retrying after ${C}ms delay...`),await ls(C),C*=2;const O=await x.text();x.ok?A(null,O):A(new Error(`${x.status} ${x.statusText}: ${O}`))}catch(b){b instanceof Error&&A(b)}},{})}function WT(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(i,u)=>{if(i){o(i);return}r(u)})})}function HT(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(i=>n.request(i.methodName,i.args));n.request(o,(i,u)=>{if(i){r(i);return}t(u)})})}const KT=tt(xT),jT=tt(TT),VT=tt(IT),$T=tt(NT),qT=tt(CT),GT=tt(OT),ZT=tt(Y()),YT=Vt(se({total:Y(),circulating:Y(),nonCirculating:Y(),nonCirculatingAccounts:He(Ut)})),ap=se({amount:be(),uiAmount:Ke(Y()),decimals:Y(),uiAmountString:Xe(be())}),XT=Vt(He(se({address:Ut,amount:be(),uiAmount:Ke(Y()),decimals:Y(),uiAmountString:Xe(be())}))),QT=Vt(He(se({pubkey:Ut,account:se({executable:Ri(),owner:Ut,lamports:Y(),data:dg,rentEpoch:Y()})}))),up=se({program:be(),parsed:ou(),space:Y()}),JT=Vt(He(se({pubkey:Ut,account:se({executable:Ri(),owner:Ut,lamports:Y(),data:up,rentEpoch:Y()})}))),e6=Vt(He(se({lamports:Y(),address:Ut}))),yl=se({executable:Ri(),owner:Ut,lamports:Y(),data:dg,rentEpoch:Y()}),t6=se({pubkey:Ut,account:yl}),n6=Ol(tr([ng($e.Buffer),up]),tr([O2,up]),n=>Array.isArray(n)?Fe(n,dg):n),lp=se({executable:Ri(),owner:Ut,lamports:Y(),data:n6,rentEpoch:Y()}),r6=se({pubkey:Ut,account:lp}),i6=se({state:tr([Bt("active"),Bt("inactive"),Bt("activating"),Bt("deactivating")]),active:Y(),inactive:Y()}),o6=tt(He(se({signature:be(),slot:Y(),err:Hs,memo:Ke(be()),blockTime:Xe(Ke(Y()))}))),s6=tt(He(se({signature:be(),slot:Y(),err:Hs,memo:Ke(be()),blockTime:Xe(Ke(Y()))}))),a6=se({subscription:Y(),result:Mh(yl)}),u6=se({pubkey:Ut,account:yl}),l6=se({subscription:Y(),result:Mh(u6)}),c6=se({parent:Y(),slot:Y(),root:Y()}),f6=se({subscription:Y(),result:c6}),h6=tr([se({type:tr([Bt("firstShredReceived"),Bt("completed"),Bt("optimisticConfirmation"),Bt("root")]),slot:Y(),timestamp:Y()}),se({type:Bt("createdBank"),parent:Y(),slot:Y(),timestamp:Y()}),se({type:Bt("frozen"),slot:Y(),timestamp:Y(),stats:se({numTransactionEntries:Y(),numSuccessfulTransactions:Y(),numFailedTransactions:Y(),maxTransactionsPerEntry:Y()})}),se({type:Bt("dead"),slot:Y(),timestamp:Y(),err:be()})]),d6=se({subscription:Y(),result:h6}),p6=se({subscription:Y(),result:Mh(tr([BT,LT]))}),m6=se({subscription:Y(),result:Y()}),g6=se({pubkey:be(),gossip:Ke(be()),tpu:Ke(be()),rpc:Ke(be()),version:Ke(be())}),x1=se({votePubkey:be(),nodePubkey:be(),activatedStake:Y(),epochVoteAccount:Ri(),epochCredits:He(rg([Y(),Y(),Y()])),commission:Y(),lastVote:Y(),rootSlot:Ke(Y())}),y6=tt(se({current:He(x1),delinquent:He(x1)})),w6=tr([Bt("processed"),Bt("confirmed"),Bt("finalized")]),v6=se({slot:Y(),confirmations:Ke(Y()),err:Hs,confirmationStatus:Xe(w6)}),_6=Vt(He(Ke(v6))),E6=tt(Y()),P2=se({accountKey:Ut,writableIndexes:He(Y()),readonlyIndexes:He(Y())}),pg=se({signatures:He(be()),message:se({accountKeys:He(be()),header:se({numRequiredSignatures:Y(),numReadonlySignedAccounts:Y(),numReadonlyUnsignedAccounts:Y()}),instructions:He(se({accounts:He(Y()),data:be(),programIdIndex:Y()})),recentBlockhash:be(),addressTableLookups:Xe(He(P2))})}),U2=se({pubkey:Ut,signer:Ri(),writable:Ri(),source:Xe(tr([Bt("transaction"),Bt("lookupTable")]))}),D2=se({accountKeys:He(U2),signatures:He(be())}),z2=se({parsed:ou(),program:be(),programId:Ut}),F2=se({accounts:He(Ut),data:be(),programId:Ut}),b6=tr([F2,z2]),S6=tr([se({parsed:ou(),program:be(),programId:be()}),se({accounts:He(be()),data:be(),programId:be()})]),W2=Ol(b6,S6,n=>"accounts"in n?Fe(n,F2):Fe(n,z2)),H2=se({signatures:He(be()),message:se({accountKeys:He(U2),instructions:He(W2),recentBlockhash:be(),addressTableLookups:Xe(Ke(He(P2)))})}),Bf=se({accountIndex:Y(),mint:be(),owner:Xe(be()),programId:Xe(be()),uiTokenAmount:ap}),K2=se({writable:He(Ut),readonly:He(Ut)}),Ah=se({err:Hs,fee:Y(),innerInstructions:Xe(Ke(He(se({index:Y(),instructions:He(se({accounts:He(Y()),data:be(),programIdIndex:Y()}))})))),preBalances:He(Y()),postBalances:He(Y()),logMessages:Xe(Ke(He(be()))),preTokenBalances:Xe(Ke(He(Bf))),postTokenBalances:Xe(Ke(He(Bf))),loadedAddresses:Xe(K2),computeUnitsConsumed:Xe(Y()),costUnits:Xe(Y())}),mg=se({err:Hs,fee:Y(),innerInstructions:Xe(Ke(He(se({index:Y(),instructions:He(W2)})))),preBalances:He(Y()),postBalances:He(Y()),logMessages:Xe(Ke(He(be()))),preTokenBalances:Xe(Ke(He(Bf))),postTokenBalances:Xe(Ke(He(Bf))),loadedAddresses:Xe(K2),computeUnitsConsumed:Xe(Y()),costUnits:Xe(Y())}),su=tr([Bt(0),Bt("legacy")]),Ks=se({pubkey:be(),lamports:Y(),postBalance:Ke(Y()),rewardType:Ke(be()),commission:Xe(Ke(Y()))}),M6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),transactions:He(se({transaction:pg,meta:Ke(Ah),version:Xe(su)})),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),A6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),R6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),transactions:He(se({transaction:D2,meta:Ke(Ah),version:Xe(su)})),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),x6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),transactions:He(se({transaction:H2,meta:Ke(mg),version:Xe(su)})),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),k6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),transactions:He(se({transaction:D2,meta:Ke(mg),version:Xe(su)})),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),I6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),rewards:Xe(He(Ks)),blockTime:Ke(Y()),blockHeight:Ke(Y())}))),T6=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),transactions:He(se({transaction:pg,meta:Ke(Ah)})),rewards:Xe(He(Ks)),blockTime:Ke(Y())}))),k1=tt(Ke(se({blockhash:be(),previousBlockhash:be(),parentSlot:Y(),signatures:He(be()),blockTime:Ke(Y())}))),Cd=tt(Ke(se({slot:Y(),meta:Ke(Ah),blockTime:Xe(Ke(Y())),transaction:pg,version:Xe(su)}))),cc=tt(Ke(se({slot:Y(),transaction:H2,meta:Ke(mg),blockTime:Xe(Ke(Y())),version:Xe(su)}))),N6=Vt(se({blockhash:be(),lastValidBlockHeight:Y()})),C6=Vt(Ri()),O6=se({slot:Y(),numTransactions:Y(),numSlots:Y(),samplePeriodSecs:Y()}),B6=tt(He(O6)),L6=Vt(Ke(se({feeCalculator:se({lamportsPerSignature:Y()})}))),P6=tt(be()),U6=tt(be()),D6=se({err:Hs,logs:He(be()),signature:be()}),z6=se({result:Mh(D6),subscription:Y()}),F6={"solana-client":"js/1.0.0-maintenance"};class gg{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const w={};return async _=>{const{commitment:A,config:R}=Et(_),b=this._buildArgs([],A,void 0,R),x=S1(b);return w[x]=w[x]??(async()=>{try{const C=await this._rpcRequest("getBlockHeight",b),O=Fe(C,tt(Y()));if("error"in O)throw new Ye(O.error,"failed to get block height information");return O.result}finally{delete w[x]}})(),await w[x]}})();let r,o,i,u,c,h;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,i=t.fetch,u=t.fetchMiddleware,c=t.disableRetryOnRateLimit,h=t.httpAgent),this._rpcEndpoint=AT(e),this._rpcWsEndpoint=r||MT(e),this._rpcClient=FT(e,o,i,u,c,h),this._rpcRequest=WT(this._rpcClient),this._rpcBatchRequest=HT(this._rpcClient),this._rpcWebSocket=new _T(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgs([e.toBase58()],r,void 0,o),u=await this._rpcRequest("getBalance",i),c=Fe(u,Vt(Y()));if("error"in c)throw new Ye(c.error,`failed to get balance for ${e.toBase58()}`);return c.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=Fe(t,tt(Ke(Y())));if("error"in r)throw new Ye(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Fe(e,tt(Y()));if("error"in t)throw new Ye(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Fe(e,ZT);if("error"in t)throw new Ye(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=Fe(r,YT);if("error"in o)throw new Ye(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),i=Fe(o,Vt(ap));if("error"in i)throw new Ye(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),i=Fe(o,Vt(ap));if("error"in i)throw new Ye(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:i}=Et(r);let u=[e.toBase58()];"mint"in t?u.push({mint:t.mint.toBase58()}):u.push({programId:t.programId.toBase58()});const c=this._buildArgs(u,o,"base64",i),h=await this._rpcRequest("getTokenAccountsByOwner",c),w=Fe(h,QT);if("error"in w)throw new Ye(w.error,`failed to get token accounts owned by account ${e.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const i=this._buildArgs(o,r,"jsonParsed"),u=await this._rpcRequest("getTokenAccountsByOwner",i),c=Fe(u,JT);if("error"in c)throw new Ye(c.error,`failed to get token accounts owned by account ${e.toBase58()}`);return c.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),i=Fe(o,e6);if("error"in i)throw new Ye(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),i=Fe(o,XT);if("error"in i)throw new Ye(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgs([e.toBase58()],r,"base64",o),u=await this._rpcRequest("getAccountInfo",i),c=Fe(u,Vt(Ke(yl)));if("error"in c)throw new Ye(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),u=await this._rpcRequest("getAccountInfo",i),c=Fe(u,Vt(Ke(lp)));if("error"in c)throw new Ye(c.error,`failed to get info about account ${e.toBase58()}`);return c.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=Et(t),i=e.map(w=>w.toBase58()),u=this._buildArgs([i],r,"jsonParsed",o),c=await this._rpcRequest("getMultipleAccounts",u),h=Fe(c,Vt(He(Ke(lp))));if("error"in h)throw new Ye(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=Et(t),i=e.map(w=>w.toBase58()),u=this._buildArgs([i],r,"base64",o),c=await this._rpcRequest("getMultipleAccounts",u),h=Fe(c,Vt(He(Ke(yl))));if("error"in h)throw new Ye(h.error,`failed to get info for accounts ${i}`);return h.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:i}=Et(t),u=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getStakeActivation",u),h=Fe(c,tt(i6));if("error"in h)throw new Ye(h.error,`failed to get Stake Activation ${e.toBase58()}`);return h.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=Et(t),{encoding:i,...u}=o||{},c=this._buildArgs([e.toBase58()],r,i||"base64",{...u,...u.filters?{filters:A1(u.filters)}:null}),h=await this._rpcRequest("getProgramAccounts",c),w=He(t6),_=u.withContext===!0?Fe(h,Vt(w)):Fe(h,tt(w));if("error"in _)throw new Ye(_.error,`failed to get accounts owned by program ${e.toBase58()}`);return _.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",o),u=await this._rpcRequest("getProgramAccounts",i),c=Fe(u,tt(He(r6)));if("error"in c)throw new Ye(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const u=e;if((i=u.abortSignal)!=null&&i.aborted)return Promise.reject(u.abortSignal.reason);r=u.signature}let o;try{o=Qt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return ht(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,i=!1;const u=new Promise((h,w)=>{try{r=this.onSignature(t,(A,R)=>{r=void 0;const b={context:R,value:A};h({__type:Li.PROCESSED,response:b})},e);const _=new Promise(A=>{r==null?A():o=this._onSubscriptionStateChange(r,R=>{R==="subscribed"&&A()})});(async()=>{if(await _,i)return;const A=await this.getSignatureStatus(t);if(i||A==null)return;const{context:R,value:b}=A;if(b!=null)if(b!=null&&b.err)w(b.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(b.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(b.confirmationStatus==="processed"||b.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,h({__type:Li.PROCESSED,response:{context:R,value:b}})}})()}catch(_){w(_)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:u}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let i=!1;const u=new Promise(A=>{const R=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let b=await R();if(!i){for(;b<=r;)if(await ls(1e3),i||(b=await R(),i))return;A({__type:Li.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:c,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),w=this.getCancellationPromise(t);let _;try{const A=await Promise.race([w,h,u]);if(A.__type===Li.PROCESSED)_=A.response;else throw new cg(o)}finally{i=!0,c()}return _}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:i,signature:u}}){let c=!1;const h=new Promise(b=>{let x=i,C=null;const O=async()=>{try{const{context:k,value:T}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return C=k.slot,T==null?void 0:T.nonce}catch{return x}};(async()=>{if(x=await O(),!c)for(;;){if(i!==x){b({__type:Li.NONCE_INVALID,slotInWhichNonceDidAdvance:C});return}if(await ls(2e3),c||(x=await O(),c))return}})()}),{abortConfirmation:w,confirmationPromise:_}=this.getTransactionConfirmationPromise({commitment:e,signature:u}),A=this.getCancellationPromise(t);let R;try{const b=await Promise.race([A,_,h]);if(b.__type===Li.PROCESSED)R=b.response;else{let x;for(;;){const C=await this.getSignatureStatus(u);if(C==null)break;if(C.context.slot<(b.slotInWhichNonceDidAdvance??r)){await ls(400);continue}x=C;break}if(x!=null&&x.value){const C=e||"finalized",{confirmationStatus:O}=x.value;switch(C){case"processed":case"recent":if(O!=="processed"&&O!=="confirmed"&&O!=="finalized")throw new va(u);break;case"confirmed":case"single":case"singleGossip":if(O!=="confirmed"&&O!=="finalized")throw new va(u);break;case"finalized":case"max":case"root":if(O!=="finalized")throw new va(u);break;default:}R={context:x.context,value:{err:x.value.err}}}else throw new va(u)}}finally{c=!0,w()}return R}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(h=>{let w=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{w=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>h({__type:Li.TIMED_OUT,timeoutMs:w}),w)}),{abortConfirmation:i,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let c;try{const h=await Promise.race([u,o]);if(h.__type===Li.PROCESSED)c=h.response;else throw new fg(t,h.timeoutMs/1e3)}finally{clearTimeout(r),i()}return c}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Fe(e,tt(He(g6)));if("error"in t)throw new Ye(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=Fe(r,y6);if("error"in o)throw new Ye(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",o),u=Fe(i,tt(Y()));if("error"in u)throw new Ye(u.error,"failed to get slot");return u.result}async getSlotLeader(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",o),u=Fe(i,tt(be()));if("error"in u)throw new Ye(u.error,"failed to get slot leader");return u.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),i=Fe(o,tt(He(Ut)));if("error"in i)throw new Ye(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);ht(o.length===1);const i=o[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),i=Fe(o,_6);if("error"in i)throw new Ye(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",o),u=Fe(i,tt(Y()));if("error"in u)throw new Ye(u.error,"failed to get transaction count");return u.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=Fe(r,KT);if("error"in o)throw new Ye(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:i}=Et(r),u=this._buildArgs([e.map(w=>w.toBase58())],o,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),c=await this._rpcRequest("getInflationReward",u),h=Fe(c,kT);if("error"in h)throw new Ye(h.error,"failed to get inflation reward");return h.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Fe(e,jT);if("error"in t)throw new Ye(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",o),u=Fe(i,$T);if("error"in u)throw new Ye(u.error,"failed to get epoch info");return u.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Fe(e,qT);if("error"in t)throw new Ye(t.error,"failed to get epoch schedule");const r=t.result;return new C2(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Fe(e,GT);if("error"in t)throw new Ye(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=Fe(o,E6);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Fe(t,B6);if("error"in r)throw new Ye(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=Fe(o,L6);if("error"in i)throw new Ye(i.error,"failed to get fee calculator");const{context:u,value:c}=i.result;return{context:u,value:c!==null?c.feeCalculator:null}}async getFeeForMessage(e,t){const r=nt(e.serialize()).toString("base64"),o=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",o),u=Fe(i,Vt(Ke(Y())));if("error"in u)throw new Ye(u.error,"failed to get fee for message");if(u.result===null)throw new Error("invalid blockhash");return u.result}async getRecentPrioritizationFees(e){var u;const t=(u=e==null?void 0:e.lockedWritableAccounts)==null?void 0:u.map(c=>c.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),i=Fe(o,VT);if("error"in i)throw new Ye(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",o),u=Fe(i,N6);if("error"in u)throw new Ye(u.error,"failed to get latest blockhash");return u.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgs([e],r,void 0,o),u=await this._rpcRequest("isBlockhashValid",i),c=Fe(u,C6);if("error"in c)throw new Ye(c.error,"failed to determine if the blockhash `"+e+"`is valid");return c.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Fe(e,tt(PT));if("error"in t)throw new Ye(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Fe(e,tt(be()));if("error"in t)throw new Ye(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),u=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=Fe(u,R6);if("error"in c)throw c.error;return c.result}case"none":{const c=Fe(u,A6);if("error"in c)throw c.error;return c.result}default:{const c=Fe(u,M6);if("error"in c)throw c.error;const{result:h}=c;return h?{...h,transactions:h.transactions.map(({transaction:w,meta:_,version:A})=>({meta:_,transaction:{...w,message:Nd(A,w.message)},version:A}))}:null}}}catch(c){throw new Ye(c,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),u=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const c=Fe(u,k6);if("error"in c)throw c.error;return c.result}case"none":{const c=Fe(u,I6);if("error"in c)throw c.error;return c.result}default:{const c=Fe(u,x6);if("error"in c)throw c.error;return c.result}}}catch(c){throw new Ye(c,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:c,...h}=e;r=c,t=h}const o=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",o),u=Fe(i,zT);if("error"in u)throw new Ye(u.error,"failed to get block production information");return u.result}async getTransaction(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,o),u=await this._rpcRequest("getTransaction",i),c=Fe(u,Cd);if("error"in c)throw new Ye(c.error,"failed to get transaction");const h=c.result;return h&&{...h,transaction:{...h.transaction,message:Nd(h.version,h.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=Et(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),u=await this._rpcRequest("getTransaction",i),c=Fe(u,cc);if("error"in c)throw new Ye(c.error,"failed to get transaction");return c.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=Et(t),i=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(h=>{const w=Fe(h,cc);if("error"in w)throw new Ye(w.error,"failed to get transactions");return w.result})}async getTransactions(e,t){const{commitment:r,config:o}=Et(t),i=e.map(h=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([h],r,void 0,o)}));return(await this._rpcBatchRequest(i)).map(h=>{const w=Fe(h,Cd);if("error"in w)throw new Ye(w.error,"failed to get transactions");const _=w.result;return _&&{..._,transaction:{..._.transaction,message:Nd(_.version,_.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getBlock",r),i=Fe(o,T6);if("error"in i)throw new Ye(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+e+" not found");const c={...u,transactions:u.transactions.map(({transaction:h,meta:w})=>{const _=new fi(h.message);return{meta:w,transaction:{...h,message:_}}})};return{...c,transactions:c.transactions.map(({transaction:h,meta:w})=>({meta:w,transaction:ot.populate(h.message,h.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",o),u=Fe(i,tt(He(Y())));if("error"in u)throw new Ye(u.error,"failed to get blocks");return u.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=Fe(o,k1);if("error"in i)throw new Ye(i.error,"failed to get block");const u=i.result;if(!u)throw new Error("Block "+e+" not found");return u}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),i=Fe(o,k1);if("error"in i)throw new Ye(i.error,"failed to get confirmed block");const u=i.result;if(!u)throw new Error("Confirmed block "+e+" not found");return u}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getTransaction",r),i=Fe(o,Cd);if("error"in i)throw new Ye(i.error,"failed to get transaction");const u=i.result;if(!u)return u;const c=new fi(u.transaction.message),h=u.transaction.signatures;return{...u,transaction:ot.populate(c,h)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getTransaction",r),i=Fe(o,cc);if("error"in i)throw new Ye(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(u=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([u],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(u=>{const c=Fe(u,cc);if("error"in c)throw new Ye(c.error,"failed to get confirmed transactions");return c.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<i));)try{const h=await this.getConfirmedBlockSignatures(t,"finalized");h.signatures.length>0&&(o.until=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}let u=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>u));)try{const h=await this.getConfirmedBlockSignatures(r);h.signatures.length>0&&(o.before=h.signatures[h.signatures.length-1].toString())}catch(h){if(h instanceof Error&&h.message.includes("skipped"))continue;throw h}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(h=>h.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),u=Fe(i,o6);if("error"in u)throw new Ye(u.error,"failed to get confirmed signatures for address");return u.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",o),u=Fe(i,s6);if("error"in u)throw new Ye(u.error,"failed to get signatures for address");return u.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=new sp({key:e,state:sp.deserialize(o.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let i=null;return o!==null&&(i=Sh.fromAccountData(o.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=Fe(r,P6);if("error"in o)throw new Ye(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ls(100);const r=Date.now()-this._blockhashInfo.lastFetch>=B2;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await ls(I2/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Et(e),o=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",o),u=Fe(i,Vt(Y()));if("error"in u)throw new Ye(u.error,"failed to get stake minimum delegation");return u.result}async simulateTransaction(e,t,r){if("message"in e){const C=e.serialize(),O=$e.Buffer.from(C).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const k=t||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(k.innerInstructions=t.innerInstructions);const T=[O,k],I=await this._rpcRequest("simulateTransaction",T),B=Fe(I,R1);if("error"in B)throw new Error("failed to simulate transaction: "+B.error.message);return B.result}let o;if(e instanceof ot){let x=e;o=new ot,o.feePayer=x.feePayer,o.instructions=e.instructions,o.nonceInfo=x.nonceInfo,o.signatures=x.signatures}else o=ot.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(o.nonceInfo&&i)o.sign(...i);else{let x=this._disableBlockhashCaching;for(;;){const C=await this._blockhashWithExpiryBlockHeight(x);if(o.lastValidBlockHeight=C.lastValidBlockHeight,o.recentBlockhash=C.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const O=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(O)&&!this._blockhashInfo.transactionSignatures.includes(O)){this._blockhashInfo.simulatedSignatures.push(O);break}else x=!0}}const u=o._compile(),c=u.serialize(),w=o._serialize(c).toString("base64"),_={encoding:"base64",commitment:this.commitment};if(r){const x=(Array.isArray(r)?r:u.nonProgramIds()).map(C=>C.toBase58());_.accounts={encoding:"base64",addresses:x}}i&&(_.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(_.innerInstructions=t.innerInstructions);const A=[w,_],R=await this._rpcRequest("simulateTransaction",A),b=Fe(R,R1);if("error"in b){let x;if("data"in b.error&&(x=b.error.data.logs,x&&Array.isArray(x))){const C=`
    `,O=C+x.join(C);console.error(b.error.message,O)}throw new qo({action:"simulate",signature:"",transactionMessage:b.error.message,logs:x})}return b.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const u=e.serialize();return await this.sendRawTransaction(u,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let u=this._disableBlockhashCaching;for(;;){const c=await this._blockhashWithExpiryBlockHeight(u);if(e.lastValidBlockHeight=c.lastValidBlockHeight,e.recentBlockhash=c.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const h=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(h))u=!0;else{this._blockhashInfo.transactionSignatures.push(h);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=nt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,i=o===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),i&&(r.preflightCommitment=i);const u=[e,r],c=await this._rpcRequest("sendTransaction",u),h=Fe(c,U6);if("error"in h){let w;throw"data"in h.error&&(w=h.error.data.logs),new qo({action:o?"send":"simulate",signature:"",transactionMessage:h.error.message,logs:w})}return h.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(u=>{try{u(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var i;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:u}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const c=await this._rpcWebSocket.call(u,i);this._setSubscription(r,{...o,serverSubscriptionId:c,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[c]=o.callbacks,await this._updateSubscriptions()}catch(c){if(console.error(`Received ${c instanceof Error?"":"JSON-RPC "}error calling \`${u}\``,{args:i,error:c}),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:u}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(u,[i])}catch(c){if(c instanceof Error&&console.error(`${u} error:`,c.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=Fe(e,a6);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=S1([e.method,t]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const u=this._subscriptionsByHash[o];ht(u!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),u.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:o,config:i}=Et(r),u=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},u)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Fe(e,l6);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const{commitment:i,config:u}=Et(r),c=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",u||(o?{filters:A1(o)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},c)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Fe(e,z6);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Fe(e,f6);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Fe(e,d6);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const i=t||this._commitment;if(i||r||o){let u={};r&&(u.encoding=r),i&&(u.commitment=i),o&&(u=Object.assign(u,o)),e.push(u)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Fe(e,p6);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(u,c)=>{if(u.type==="status"){t(u.result,c);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,t,r){const{commitment:o,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},u=this._buildArgs([e],o,void 0,i),c=this._makeSubscription({callback:(h,w)=>{t(h,w);try{this.removeSignatureListener(c)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Fe(e,m6);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ta{constructor(e){this._keypair=void 0,this._keypair=e??v1()}static generate(){return new Ta(v1())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),i=Of(o);for(let u=0;u<32;u++)if(r[u]!==i[u])throw new Error("provided secretKey is invalid")}return new Ta({publicKey:r,secretKey:e})}static fromSeed(e){const t=Of(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Ta({publicKey:t,secretKey:r})}get publicKey(){return new re(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ki=Object.freeze({CreateLookupTable:{index:0,layout:Ge([qe("instruction"),$a("recentSlot"),lt("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ge([qe("instruction")])},ExtendLookupTable:{index:2,layout:Ge([qe("instruction"),$a(),yn(rt(),Wo(qe(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ge([qe("instruction")])},CloseLookupTable:{index:4,layout:Ge([qe("instruction")])}});class W6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=qe("instruction").decode(e.data);let o;for(const[i,u]of Object.entries(Ki))if(u.index==r){o=i;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=gt(Ki.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=gt(Ki.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new re(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(yg.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class yg{constructor(){}static createLookupTable(e){const[t,r]=re.findProgramAddressSync([e.authority.toBuffer(),s2().encode(e.recentSlot)],this.programId),o=Ki.CreateLookupTable,i=ut(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rn.programId,isSigner:!1,isWritable:!1}];return[new _t({programId:this.programId,keys:u,data:i}),t]}static freezeLookupTable(e){const t=Ki.FreezeLookupTable,r=ut(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _t({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const t=Ki.ExtendLookupTable,r=ut(t,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:rn.programId,isSigner:!1,isWritable:!1}),new _t({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const t=Ki.DeactivateLookupTable,r=ut(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new _t({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const t=Ki.CloseLookupTable,r=ut(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new _t({programId:this.programId,keys:o,data:r})}}yg.programId=new re("AddressLookupTab1e1111111111111111111111111");class H6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=lt("instruction").decode(e.data);let o;for(const[i,u]of Object.entries(Ei))if(u.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=gt(Ei.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=gt(Ei.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=gt(Ei.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=gt(Ei.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(wg.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Ei=Object.freeze({RequestUnits:{index:0,layout:Ge([lt("instruction"),qe("units"),qe("additionalFee")])},RequestHeapFrame:{index:1,layout:Ge([lt("instruction"),qe("bytes")])},SetComputeUnitLimit:{index:2,layout:Ge([lt("instruction"),qe("units")])},SetComputeUnitPrice:{index:3,layout:Ge([lt("instruction"),$a("microLamports")])}});class wg{constructor(){}static requestUnits(e){const t=Ei.RequestUnits,r=ut(t,e);return new _t({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ei.RequestHeapFrame,r=ut(t,e);return new _t({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ei.SetComputeUnitLimit,r=ut(t,e);return new _t({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ei.SetComputeUnitPrice,r=ut(t,{microLamports:BigInt(e.microLamports)});return new _t({keys:[],programId:this.programId,data:r})}}wg.programId=new re("ComputeBudget111111111111111111111111111111");const I1=64,T1=32,N1=64,C1=Ge([lt("numSignatures"),lt("padding"),Lr("signatureOffset"),Lr("signatureInstructionIndex"),Lr("publicKeyOffset"),Lr("publicKeyInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),Lr("messageInstructionIndex")]);class Rh{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,instructionIndex:i}=e;ht(t.length===T1,`Public Key must be ${T1} bytes but received ${t.length} bytes`),ht(o.length===N1,`Signature must be ${N1} bytes but received ${o.length} bytes`);const u=C1.span,c=u+t.length,h=c+o.length,w=1,_=$e.Buffer.alloc(h+r.length),A=i??65535;return C1.encode({numSignatures:w,padding:0,signatureOffset:c,signatureInstructionIndex:A,publicKeyOffset:u,publicKeyInstructionIndex:A,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:A},_),_.fill(t,u),_.fill(o,c),_.fill(r,h),new _t({keys:[],programId:Rh.programId,data:_})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;ht(t.length===I1,`Private key must be ${I1} bytes but received ${t.length} bytes`);try{const i=Ta.fromSecretKey(t),u=i.publicKey.toBytes(),c=ug(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:u,message:r,signature:c,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Rh.programId=new re("Ed25519SigVerify111111111111111111111111111");const K6=(n,e)=>{const t=ag.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ag.utils.isValidPrivateKey;const j6=ag.getPublicKey,O1=32,Od=20,B1=64,V6=11,Bd=Ge([lt("numSignatures"),Lr("signatureOffset"),lt("signatureInstructionIndex"),Lr("ethAddressOffset"),lt("ethAddressInstructionIndex"),Lr("messageDataOffset"),Lr("messageDataSize"),lt("messageInstructionIndex"),Rt(20,"ethAddress"),Rt(64,"signature"),lt("recoveryId")]);class Na{constructor(){}static publicKeyToEthAddress(e){ht(e.length===B1,`Public key must be ${B1} bytes but received ${e.length} bytes`);try{return $e.Buffer.from(g1(nt(e))).slice(-Od)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,recoveryId:i,instructionIndex:u}=e;return Na.createInstructionWithEthAddress({ethAddress:Na.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:i,instructionIndex:u})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:o,recoveryId:i,instructionIndex:u=0}=e;let c;typeof t=="string"?t.startsWith("0x")?c=$e.Buffer.from(t.substr(2),"hex"):c=$e.Buffer.from(t,"hex"):c=t,ht(c.length===Od,`Address must be ${Od} bytes but received ${c.length} bytes`);const h=1+V6,w=h,_=h+c.length,A=_+o.length+1,R=1,b=$e.Buffer.alloc(Bd.span+r.length);return Bd.encode({numSignatures:R,signatureOffset:_,signatureInstructionIndex:u,ethAddressOffset:w,ethAddressInstructionIndex:u,messageDataOffset:A,messageDataSize:r.length,messageInstructionIndex:u,signature:nt(o),ethAddress:nt(c),recoveryId:i},b),b.fill(nt(r),Bd.span),new _t({keys:[],programId:Na.programId,data:b})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;ht(t.length===O1,`Private key must be ${O1} bytes but received ${t.length} bytes`);try{const i=nt(t),u=j6(i,!1).slice(1),c=$e.Buffer.from(g1(nt(r))),[h,w]=K6(c,i);return this.createInstructionWithPublicKey({publicKey:u,message:r,signature:h,recoveryId:w,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Na.programId=new re("KeccakSecp256k11111111111111111111111111111");var j2;const V2=new re("StakeConfig11111111111111111111111111111111");class $2{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Bl{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}j2=Bl;Bl.default=new j2(0,0,re.default);class $6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=qe("instruction").decode(e.data);let o;for(const[i,u]of Object.entries(ln))if(u.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=gt(ln.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new $2(new re(t.staker),new re(t.withdrawer)),lockup:new Bl(r.unixTimestamp,r.epoch,new re(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),gt(ln.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=gt(ln.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new re(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:i}=gt(ln.AuthorizeWithSeed,e.data),u={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new re(i),newAuthorizedPubkey:new re(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(u.custodianPubkey=e.keys[3].pubkey),u}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=gt(ln.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gt(ln.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gt(ln.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gt(ln.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(xh.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ln=Object.freeze({Initialize:{index:0,layout:Ge([qe("instruction"),X3(),Q3()])},Authorize:{index:1,layout:Ge([qe("instruction"),rt("newAuthorized"),qe("stakeAuthorizationType")])},Delegate:{index:2,layout:Ge([qe("instruction")])},Split:{index:3,layout:Ge([qe("instruction"),Mr("lamports")])},Withdraw:{index:4,layout:Ge([qe("instruction"),Mr("lamports")])},Deactivate:{index:5,layout:Ge([qe("instruction")])},Merge:{index:7,layout:Ge([qe("instruction")])},AuthorizeWithSeed:{index:8,layout:Ge([qe("instruction"),rt("newAuthorized"),qe("stakeAuthorizationType"),gs("authoritySeed"),rt("authorityOwner")])}}),q6=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class xh{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:o}=e,i=o||Bl.default,u=ln.Initialize,c=ut(u,{authorized:{staker:nt(r.staker.toBuffer()),withdrawer:nt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nt(i.custodian.toBuffer())}}),h={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Va,isSigner:!1,isWritable:!1}],programId:this.programId,data:c};return new _t(h)}static createAccountWithSeed(e){const t=new ot;t.add(rn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static createAccount(e){const t=new ot;t.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,i=ln.Delegate,u=ut(i);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:V2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:u}=e,c=ln.Authorize,h=ut(c,{newAuthorized:nt(o.toBuffer()),stakeAuthorizationType:i.index}),w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new ot().add({keys:w,programId:this.programId,data:h})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:u,stakeAuthorizationType:c,custodianPubkey:h}=e,w=ln.AuthorizeWithSeed,_=ut(w,{newAuthorized:nt(u.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:o,authorityOwner:nt(i.toBuffer())}),A=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:gi,isSigner:!1,isWritable:!1}];return h&&A.push({pubkey:h,isSigner:!0,isWritable:!1}),new ot().add({keys:A,programId:this.programId,data:_})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:i}=e,u=ln.Split,c=ut(u,{lamports:i});return new _t({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static split(e,t){const r=new ot;return r.add(rn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,basePubkey:u,seed:c,lamports:h}=e,w=new ot;return w.add(rn.allocate({accountPubkey:i,basePubkey:u,seed:c,space:this.space,programId:this.programId})),t&&t>0&&w.add(rn.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),w.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:i,lamports:h}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,i=ln.Merge,u=ut(i);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:i,custodianPubkey:u}=e,c=ln.Withdraw,h=ut(c,{lamports:i}),w=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:Bc,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return u&&w.push({pubkey:u,isSigner:!0,isWritable:!1}),new ot().add({keys:w,programId:this.programId,data:h})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,o=ln.Deactivate,i=ut(o);return new ot().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}xh.programId=new re("Stake11111111111111111111111111111111111111");xh.space=200;class q2{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}}class G6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=qe("instruction").decode(e.data);let o;for(const[i,u]of Object.entries(bi))if(u.index==r){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=gt(bi.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new q2(new re(t.nodePubkey),new re(t.authorizedVoter),new re(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=gt(bi.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new re(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:i}}=gt(bi.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new re(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new re(o),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=gt(bi.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(au.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const bi=Object.freeze({InitializeAccount:{index:0,layout:Ge([qe("instruction"),J3()])},Authorize:{index:1,layout:Ge([qe("instruction"),rt("newAuthorized"),qe("voteAuthorizationType")])},Withdraw:{index:3,layout:Ge([qe("instruction"),Mr("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ge([qe("instruction")])},AuthorizeWithSeed:{index:10,layout:Ge([qe("instruction"),eT()])}}),Z6=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class au{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:o}=e,i=bi.InitializeAccount,u=ut(i,{voteInit:{nodePubkey:nt(o.nodePubkey.toBuffer()),authorizedVoter:nt(o.authorizedVoter.toBuffer()),authorizedWithdrawer:nt(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Va,isSigner:!1,isWritable:!1},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u};return new _t(c)}static createAccount(e){const t=new ot;return t.add(rn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,u=bi.Authorize,c=ut(u,{newAuthorized:nt(o.toBuffer()),voteAuthorizationType:i.index}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ot().add({keys:h,programId:this.programId,data:c})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:u,votePubkey:c}=e,h=bi.AuthorizeWithSeed,w=ut(h,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nt(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:nt(i.toBuffer()),voteAuthorizationType:u.index}}),_=[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:gi,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new ot().add({keys:_,programId:this.programId,data:w})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:i}=e,u=bi.Withdraw,c=ut(u,{lamports:o}),h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new ot().add({keys:h,programId:this.programId,data:c})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return au.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:o}=e,i=bi.UpdateValidatorIdentity,u=ut(i),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new ot().add({keys:c,programId:this.programId,data:u})}}au.programId=new re("Vote111111111111111111111111111111111111111");au.space=3762;const G2=new re("Va1idator1nfo111111111111111111111111111111"),Y6=se({name:be(),website:Xe(be()),details:Xe(be()),iconUrl:Xe(be()),keybaseUsername:Xe(be())});class vg{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(or(t)!==2)return null;const o=[];for(let i=0;i<2;i++){const u=new re(sr(t,0,Ai)),c=_i(t)===1;o.push({publicKey:u,isSigner:c})}if(o[0].publicKey.equals(G2)&&o[1].isSigner){const i=gs().decode($e.Buffer.from(t)),u=JSON.parse(i);return a2(u,Y6),new vg(o[1].publicKey,u)}return null}}const X6=new re("Vote111111111111111111111111111111111111111"),Q6=Ge([rt("nodePubkey"),rt("authorizedWithdrawer"),lt("commission"),dn(),yn(Ge([dn("slot"),qe("confirmationCount")]),Wo(qe(),-8),"votes"),lt("rootSlotValid"),dn("rootSlot"),dn(),yn(Ge([dn("epoch"),rt("authorizedVoter")]),Wo(qe(),-8),"authorizedVoters"),Ge([yn(Ge([rt("authorizedPubkey"),dn("epochOfLastAuthorizedSwitch"),dn("targetEpoch")]),32,"buf"),dn("idx"),lt("isEmpty")],"priorVoters"),dn(),yn(Ge([dn("epoch"),dn("credits"),dn("prevCredits")]),Wo(qe(),-8),"epochCredits"),Ge([dn("slot"),dn("timestamp")],"lastTimestamp")]);class _g{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Q6.decode(nt(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new _g({nodePubkey:new re(r.nodePubkey),authorizedWithdrawer:new re(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(J6),priorVoters:eN(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function J6({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new re(n)}}function L1({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new re(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function eN({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(L1),...n.slice(0,e).map(L1)]}const P1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function tN(n,e){const t=e===!1?"http":"https";if(!n)return P1[t].devnet;const r=P1[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function nN(n,e,t,r){let o,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,i=r):i=t;const u=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},c=await n.sendRawTransaction(e,u),h=i&&i.commitment,_=(await(o?n.confirmTransaction(o,h):n.confirmTransaction(c,h))).value;if(_.err)throw c!=null?new qo({action:u!=null&&u.skipPreflight?"send":"simulate",signature:c,transactionMessage:`Status: (${JSON.stringify(_)})`}):new Error(`Raw transaction ${c} failed (${JSON.stringify(_)})`);return c}const rN=1e9,iN=Object.freeze(Object.defineProperty({__proto__:null,Account:G3,AddressLookupTableAccount:sp,AddressLookupTableInstruction:W6,AddressLookupTableProgram:yg,Authorized:$2,BLOCKHASH_CACHE_TIMEOUT_MS:B2,BPF_LOADER_DEPRECATED_PROGRAM_ID:Z3,BPF_LOADER_PROGRAM_ID:dT,BpfLoader:pT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ei,ComputeBudgetInstruction:H6,ComputeBudgetProgram:wg,Connection:gg,Ed25519Program:Rh,Enum:$3,EpochSchedule:C2,FeeCalculatorLayout:T2,Keypair:Ta,LAMPORTS_PER_SOL:rN,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ki,Loader:Ls,Lockup:Bl,MAX_SEED_LENGTH:R2,Message:fi,MessageAccountKeys:gl,MessageV0:Bs,NONCE_ACCOUNT_LENGTH:op,NonceAccount:Sh,PACKET_DATA_SIZE:Ho,PUBLIC_KEY_LENGTH:Ai,PublicKey:re,SIGNATURE_LENGTH_IN_BYTES:ml,SOLANA_SCHEMA:Hu,STAKE_CONFIG_ID:V2,STAKE_INSTRUCTION_LAYOUTS:ln,SYSTEM_INSTRUCTION_LAYOUTS:St,SYSVAR_CLOCK_PUBKEY:gi,SYSVAR_EPOCH_SCHEDULE_PUBKEY:oT,SYSVAR_INSTRUCTIONS_PUBKEY:sT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Oc,SYSVAR_RENT_PUBKEY:Va,SYSVAR_REWARDS_PUBKEY:aT,SYSVAR_SLOT_HASHES_PUBKEY:uT,SYSVAR_SLOT_HISTORY_PUBKEY:lT,SYSVAR_STAKE_HISTORY_PUBKEY:Bc,Secp256k1Program:Na,SendTransactionError:qo,SolanaJSONRPCError:Ye,SolanaJSONRPCErrorCode:cT,StakeAuthorizationLayout:q6,StakeInstruction:$6,StakeProgram:xh,Struct:lg,SystemInstruction:fT,SystemProgram:rn,Transaction:ot,TransactionExpiredBlockheightExceededError:cg,TransactionExpiredNonceInvalidError:va,TransactionExpiredTimeoutError:fg,TransactionInstruction:_t,TransactionMessage:hg,TransactionStatus:Li,VALIDATOR_INFO_KEY:G2,VERSION_PREFIX_MASK:_h,VOTE_PROGRAM_ID:X6,ValidatorInfo:vg,VersionedMessage:bh,VersionedTransaction:ja,VoteAccount:_g,VoteAuthorizationLayout:Z6,VoteInit:q2,VoteInstruction:G6,VoteProgram:au,clusterApiUrl:tN,sendAndConfirmRawTransaction:nN,sendAndConfirmTransaction:ip},Symbol.toStringTag,{value:"Module"})),Z2=ce.createContext({});function oN(){return ce.useContext(Z2)}const sN=({children:n,endpoint:e,config:t={commitment:"confirmed"}})=>{const r=ce.useMemo(()=>new gg(e,t),[e,t]);return le.createElement(Z2.Provider,{value:{connection:r}},n)};class Cn extends Error{constructor(e,t){super(e),this.error=t}}class qa extends Cn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Ru extends Cn{constructor(){super(...arguments),this.name="WalletConfigError"}}class wl extends Cn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Y2 extends Cn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class X2 extends Cn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class ys extends Cn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Lf extends Cn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class dr extends Cn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class To extends Cn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Zi extends Cn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Eg extends Cn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class U1 extends Cn{constructor(){super(...arguments),this.name="WalletSignInError"}}var mt;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(mt||(mt={}));class Q2 extends ig{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const o=this.publicKey;if(!o)throw new dr;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function aN(n){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(n())for(const i of e)i()}const r=setInterval(t,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function uN(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),e=n.includes("iphone")||n.includes("ipad"),t=n.includes("safari");return e&&t}function No(n){return"version"in n}class lN extends Q2{async sendTransaction(e,t,r={}){let o=!0;try{if(No(e)){if(!this.supportedTransactionVersions)throw new To("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new To(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const i=e.serialize();return await t.sendRawTransaction(i,r)}catch(i){throw i instanceof Zi?(o=!1,i):new To(i==null?void 0:i.message,i)}}else try{const{signers:i,...u}=r;e=await this.prepareTransaction(e,t,u),i!=null&&i.length&&e.partialSign(...i),e=await this.signTransaction(e);const c=e.serialize();return await t.sendRawTransaction(c,u)}catch(i){throw i instanceof Zi?(o=!1,i):new To(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(e){for(const r of e)if(No(r)){if(!this.supportedTransactionVersions)throw new Zi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Zi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class J2 extends lN{}class cN extends J2{}const lr="solana:signAndSendTransaction",xs="solana:signIn",Mo="solana:signMessage",Ct="solana:signTransaction",bg="standard:connect",cp="standard:disconnect",Sg="standard:events";function fN(n){return bg in n.features&&Sg in n.features&&(lr in n.features||Ct in n.features)}class D1 extends Cn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const hN=[],kh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){ti("call","select")},connect(){return Promise.reject(ti("call","connect"))},disconnect(){return Promise.reject(ti("call","disconnect"))},sendTransaction(){return Promise.reject(ti("call","sendTransaction"))},signTransaction(){return Promise.reject(ti("call","signTransaction"))},signAllTransactions(){return Promise.reject(ti("call","signAllTransactions"))},signMessage(){return Promise.reject(ti("call","signMessage"))},signIn(){return Promise.reject(ti("call","signIn"))}};Object.defineProperty(kh,"wallets",{get(){return ti("read","wallets"),hN}});Object.defineProperty(kh,"wallet",{get(){return ti("read","wallet"),null}});Object.defineProperty(kh,"publicKey",{get(){return ti("read","publicKey"),null}});function ti(n,e){const t=new Error(`You have tried to ${n} "${e}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(t),t}const eb=ce.createContext(kh);function Mg(){return ce.useContext(eb)}function dN(){const{publicKey:n,signTransaction:e,signAllTransactions:t}=Mg();return ce.useMemo(()=>n&&e&&t?{publicKey:n,signTransaction:e,signAllTransactions:t}:void 0,[n,e,t])}function pN(n,e){const t=ce.useState(()=>{try{const i=localStorage.getItem(n);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return e}),r=t[0],o=ce.useRef(!0);return ce.useEffect(()=>{if(o.current){o.current=!1;return}try{r===null?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,n]),t}var mN=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},tb={},Cr={};let Ag;const gN=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Cr.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Cr.getSymbolTotalCodewords=function(e){return gN[e]};Cr.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Cr.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Ag=e};Cr.isKanjiModeEnabled=function(){return typeof Ag<"u"};Cr.toSJIS=function(e){return Ag(e)};var Ih={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},n.from=function(r,o){if(n.isValid(r))return r;try{return e(r)}catch{return o}}})(Ih);function nb(){this.buffer=[],this.length=0}nb.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var yN=nb;function Ll(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}Ll.prototype.set=function(n,e,t,r){const o=n*this.size+e;this.data[o]=t,r&&(this.reservedBit[o]=!0)};Ll.prototype.get=function(n,e){return this.data[n*this.size+e]};Ll.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};Ll.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var wN=Ll,rb={};(function(n){const e=Cr.getSymbolSize;n.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,i=e(r),u=i===145?26:Math.ceil((i-13)/(2*o-2))*2,c=[i-7];for(let h=1;h<o-1;h++)c[h]=c[h-1]-u;return c.push(6),c.reverse()},n.getPositions=function(r){const o=[],i=n.getRowColCoords(r),u=i.length;for(let c=0;c<u;c++)for(let h=0;h<u;h++)c===0&&h===0||c===0&&h===u-1||c===u-1&&h===0||o.push([i[c],i[h]]);return o}})(rb);var ib={};const vN=Cr.getSymbolSize,z1=7;ib.getPositions=function(e){const t=vN(e);return[[0,0],[t-z1,0],[0,t-z1]]};var ob={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},n.from=function(o){return n.isValid(o)?parseInt(o,10):void 0},n.getPenaltyN1=function(o){const i=o.size;let u=0,c=0,h=0,w=null,_=null;for(let A=0;A<i;A++){c=h=0,w=_=null;for(let R=0;R<i;R++){let b=o.get(A,R);b===w?c++:(c>=5&&(u+=e.N1+(c-5)),w=b,c=1),b=o.get(R,A),b===_?h++:(h>=5&&(u+=e.N1+(h-5)),_=b,h=1)}c>=5&&(u+=e.N1+(c-5)),h>=5&&(u+=e.N1+(h-5))}return u},n.getPenaltyN2=function(o){const i=o.size;let u=0;for(let c=0;c<i-1;c++)for(let h=0;h<i-1;h++){const w=o.get(c,h)+o.get(c,h+1)+o.get(c+1,h)+o.get(c+1,h+1);(w===4||w===0)&&u++}return u*e.N2},n.getPenaltyN3=function(o){const i=o.size;let u=0,c=0,h=0;for(let w=0;w<i;w++){c=h=0;for(let _=0;_<i;_++)c=c<<1&2047|o.get(w,_),_>=10&&(c===1488||c===93)&&u++,h=h<<1&2047|o.get(_,w),_>=10&&(h===1488||h===93)&&u++}return u*e.N3},n.getPenaltyN4=function(o){let i=0;const u=o.data.length;for(let h=0;h<u;h++)i+=o.data[h];return Math.abs(Math.ceil(i*100/u/5)-10)*e.N4};function t(r,o,i){switch(r){case n.Patterns.PATTERN000:return(o+i)%2===0;case n.Patterns.PATTERN001:return o%2===0;case n.Patterns.PATTERN010:return i%3===0;case n.Patterns.PATTERN011:return(o+i)%3===0;case n.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(i/3))%2===0;case n.Patterns.PATTERN101:return o*i%2+o*i%3===0;case n.Patterns.PATTERN110:return(o*i%2+o*i%3)%2===0;case n.Patterns.PATTERN111:return(o*i%3+(o+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(o,i){const u=i.size;for(let c=0;c<u;c++)for(let h=0;h<u;h++)i.isReserved(h,c)||i.xor(h,c,t(o,h,c))},n.getBestMask=function(o,i){const u=Object.keys(n.Patterns).length;let c=0,h=1/0;for(let w=0;w<u;w++){i(w),n.applyMask(w,o);const _=n.getPenaltyN1(o)+n.getPenaltyN2(o)+n.getPenaltyN3(o)+n.getPenaltyN4(o);n.applyMask(w,o),_<h&&(h=_,c=w)}return c}})(ob);var Th={};const Co=Ih,fc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],hc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Th.getBlocksCount=function(e,t){switch(t){case Co.L:return fc[(e-1)*4+0];case Co.M:return fc[(e-1)*4+1];case Co.Q:return fc[(e-1)*4+2];case Co.H:return fc[(e-1)*4+3];default:return}};Th.getTotalCodewordsCount=function(e,t){switch(t){case Co.L:return hc[(e-1)*4+0];case Co.M:return hc[(e-1)*4+1];case Co.Q:return hc[(e-1)*4+2];case Co.H:return hc[(e-1)*4+3];default:return}};var sb={},Nh={};const Ku=new Uint8Array(512),Pf=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)Ku[t]=e,Pf[e]=t,e<<=1,e&256&&(e^=285);for(let t=255;t<512;t++)Ku[t]=Ku[t-255]})();Nh.log=function(e){if(e<1)throw new Error("log("+e+")");return Pf[e]};Nh.exp=function(e){return Ku[e]};Nh.mul=function(e,t){return e===0||t===0?0:Ku[Pf[e]+Pf[t]]};(function(n){const e=Nh;n.mul=function(r,o){const i=new Uint8Array(r.length+o.length-1);for(let u=0;u<r.length;u++)for(let c=0;c<o.length;c++)i[u+c]^=e.mul(r[u],o[c]);return i},n.mod=function(r,o){let i=new Uint8Array(r);for(;i.length-o.length>=0;){const u=i[0];for(let h=0;h<o.length;h++)i[h]^=e.mul(o[h],u);let c=0;for(;c<i.length&&i[c]===0;)c++;i=i.slice(c)}return i},n.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let i=0;i<r;i++)o=n.mul(o,new Uint8Array([1,e.exp(i)]));return o}})(sb);const ab=sb;function Rg(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Rg.prototype.initialize=function(e){this.degree=e,this.genPoly=ab.generateECPolynomial(this.degree)};Rg.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const r=ab.mod(t,this.genPoly),o=this.degree-r.length;if(o>0){const i=new Uint8Array(this.degree);return i.set(r,o),i}return r};var _N=Rg,ub={},Qo={},xg={};xg.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Ti={};const lb="[0-9]+",EN="[A-Z $%*+\\-./:]+";let vl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";vl=vl.replace(/u/g,"\\u");const bN="(?:(?![A-Z0-9 $%*+\\-./:]|"+vl+`)(?:.|[\r
]))+`;Ti.KANJI=new RegExp(vl,"g");Ti.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ti.BYTE=new RegExp(bN,"g");Ti.NUMERIC=new RegExp(lb,"g");Ti.ALPHANUMERIC=new RegExp(EN,"g");const SN=new RegExp("^"+vl+"$"),MN=new RegExp("^"+lb+"$"),AN=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ti.testKanji=function(e){return SN.test(e)};Ti.testNumeric=function(e){return MN.test(e)};Ti.testAlphanumeric=function(e){return AN.test(e)};(function(n){const e=xg,t=Ti;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,u){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?i.ccBits[0]:u<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return t.testNumeric(i)?n.NUMERIC:t.testAlphanumeric(i)?n.ALPHANUMERIC:t.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+o)}}n.from=function(i,u){if(n.isValid(i))return i;try{return r(i)}catch{return u}}})(Qo);(function(n){const e=Cr,t=Th,r=Ih,o=Qo,i=xg,u=7973,c=e.getBCHDigit(u);function h(R,b,x){for(let C=1;C<=40;C++)if(b<=n.getCapacity(C,x,R))return C}function w(R,b){return o.getCharCountIndicator(R,b)+4}function _(R,b){let x=0;return R.forEach(function(C){const O=w(C.mode,b);x+=O+C.getBitsLength()}),x}function A(R,b){for(let x=1;x<=40;x++)if(_(R,x)<=n.getCapacity(x,b,o.MIXED))return x}n.from=function(b,x){return i.isValid(b)?parseInt(b,10):x},n.getCapacity=function(b,x,C){if(!i.isValid(b))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=o.BYTE);const O=e.getSymbolTotalCodewords(b),k=t.getTotalCodewordsCount(b,x),T=(O-k)*8;if(C===o.MIXED)return T;const I=T-w(C,b);switch(C){case o.NUMERIC:return Math.floor(I/10*3);case o.ALPHANUMERIC:return Math.floor(I/11*2);case o.KANJI:return Math.floor(I/13);case o.BYTE:default:return Math.floor(I/8)}},n.getBestVersionForData=function(b,x){let C;const O=r.from(x,r.M);if(Array.isArray(b)){if(b.length>1)return A(b,O);if(b.length===0)return 1;C=b[0]}else C=b;return h(C.mode,C.getLength(),O)},n.getEncodedBits=function(b){if(!i.isValid(b)||b<7)throw new Error("Invalid QR Code version");let x=b<<12;for(;e.getBCHDigit(x)-c>=0;)x^=u<<e.getBCHDigit(x)-c;return b<<12|x}})(ub);var cb={};const fp=Cr,fb=1335,RN=21522,F1=fp.getBCHDigit(fb);cb.getEncodedBits=function(e,t){const r=e.bit<<3|t;let o=r<<10;for(;fp.getBCHDigit(o)-F1>=0;)o^=fb<<fp.getBCHDigit(o)-F1;return(r<<10|o)^RN};var hb={};const xN=Qo;function Ga(n){this.mode=xN.NUMERIC,this.data=n.toString()}Ga.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Ga.prototype.getLength=function(){return this.data.length};Ga.prototype.getBitsLength=function(){return Ga.getBitsLength(this.data.length)};Ga.prototype.write=function(e){let t,r,o;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),o=parseInt(r,10),e.put(o,10);const i=this.data.length-t;i>0&&(r=this.data.substr(t),o=parseInt(r,10),e.put(o,i*3+1))};var kN=Ga;const IN=Qo,Ld=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Za(n){this.mode=IN.ALPHANUMERIC,this.data=n}Za.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Za.prototype.getLength=function(){return this.data.length};Za.prototype.getBitsLength=function(){return Za.getBitsLength(this.data.length)};Za.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=Ld.indexOf(this.data[t])*45;r+=Ld.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(Ld.indexOf(this.data[t]),6)};var TN=Za;const NN=Qo;function Ya(n){this.mode=NN.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}Ya.getBitsLength=function(e){return e*8};Ya.prototype.getLength=function(){return this.data.length};Ya.prototype.getBitsLength=function(){return Ya.getBitsLength(this.data.length)};Ya.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var CN=Ya;const ON=Qo,BN=Cr;function Xa(n){this.mode=ON.KANJI,this.data=n}Xa.getBitsLength=function(e){return e*13};Xa.prototype.getLength=function(){return this.data.length};Xa.prototype.getBitsLength=function(){return Xa.getBitsLength(this.data.length)};Xa.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=BN.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var LN=Xa,db={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,o){var i={},u={};u[r]=0;var c=e.PriorityQueue.make();c.push(r,0);for(var h,w,_,A,R,b,x,C,O;!c.empty();){h=c.pop(),w=h.value,A=h.cost,R=t[w]||{};for(_ in R)R.hasOwnProperty(_)&&(b=R[_],x=A+b,C=u[_],O=typeof u[_]>"u",(O||C>x)&&(u[_]=x,c.push(_,x),i[_]=w))}if(typeof o<"u"&&typeof u[o]>"u"){var k=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(k)}return i},extract_shortest_path_from_predecessor_list:function(t,r){for(var o=[],i=r;i;)o.push(i),t[i],i=t[i];return o.reverse(),o},find_path:function(t,r,o){var i=e.single_source_shortest_paths(t,r,o);return e.extract_shortest_path_from_predecessor_list(i,o)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,o={},i;t=t||{};for(i in r)r.hasOwnProperty(i)&&(o[i]=r[i]);return o.queue=[],o.sorter=t.sorter||r.default_sorter,o},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var o={value:t,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(db);var PN=db.exports;(function(n){const e=Qo,t=kN,r=TN,o=CN,i=LN,u=Ti,c=Cr,h=PN;function w(k){return unescape(encodeURIComponent(k)).length}function _(k,T,I){const B=[];let P;for(;(P=k.exec(I))!==null;)B.push({data:P[0],index:P.index,mode:T,length:P[0].length});return B}function A(k){const T=_(u.NUMERIC,e.NUMERIC,k),I=_(u.ALPHANUMERIC,e.ALPHANUMERIC,k);let B,P;return c.isKanjiModeEnabled()?(B=_(u.BYTE,e.BYTE,k),P=_(u.KANJI,e.KANJI,k)):(B=_(u.BYTE_KANJI,e.BYTE,k),P=[]),T.concat(I,B,P).sort(function(F,j){return F.index-j.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function R(k,T){switch(T){case e.NUMERIC:return t.getBitsLength(k);case e.ALPHANUMERIC:return r.getBitsLength(k);case e.KANJI:return i.getBitsLength(k);case e.BYTE:return o.getBitsLength(k)}}function b(k){return k.reduce(function(T,I){const B=T.length-1>=0?T[T.length-1]:null;return B&&B.mode===I.mode?(T[T.length-1].data+=I.data,T):(T.push(I),T)},[])}function x(k){const T=[];for(let I=0;I<k.length;I++){const B=k[I];switch(B.mode){case e.NUMERIC:T.push([B,{data:B.data,mode:e.ALPHANUMERIC,length:B.length},{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.ALPHANUMERIC:T.push([B,{data:B.data,mode:e.BYTE,length:B.length}]);break;case e.KANJI:T.push([B,{data:B.data,mode:e.BYTE,length:w(B.data)}]);break;case e.BYTE:T.push([{data:B.data,mode:e.BYTE,length:w(B.data)}])}}return T}function C(k,T){const I={},B={start:{}};let P=["start"];for(let U=0;U<k.length;U++){const F=k[U],j=[];for(let V=0;V<F.length;V++){const G=F[V],H=""+U+V;j.push(H),I[H]={node:G,lastCount:0},B[H]={};for(let Z=0;Z<P.length;Z++){const m=P[Z];I[m]&&I[m].node.mode===G.mode?(B[m][H]=R(I[m].lastCount+G.length,G.mode)-R(I[m].lastCount,G.mode),I[m].lastCount+=G.length):(I[m]&&(I[m].lastCount=G.length),B[m][H]=R(G.length,G.mode)+4+e.getCharCountIndicator(G.mode,T))}}P=j}for(let U=0;U<P.length;U++)B[P[U]].end=0;return{map:B,table:I}}function O(k,T){let I;const B=e.getBestModeForData(k);if(I=e.from(T,B),I!==e.BYTE&&I.bit<B.bit)throw new Error('"'+k+'" cannot be encoded with mode '+e.toString(I)+`.
 Suggested mode is: `+e.toString(B));switch(I===e.KANJI&&!c.isKanjiModeEnabled()&&(I=e.BYTE),I){case e.NUMERIC:return new t(k);case e.ALPHANUMERIC:return new r(k);case e.KANJI:return new i(k);case e.BYTE:return new o(k)}}n.fromArray=function(T){return T.reduce(function(I,B){return typeof B=="string"?I.push(O(B,null)):B.data&&I.push(O(B.data,B.mode)),I},[])},n.fromString=function(T,I){const B=A(T,c.isKanjiModeEnabled()),P=x(B),U=C(P,I),F=h.find_path(U.map,"start","end"),j=[];for(let V=1;V<F.length-1;V++)j.push(U.table[F[V]].node);return n.fromArray(b(j))},n.rawSplit=function(T){return n.fromArray(A(T,c.isKanjiModeEnabled()))}})(hb);const Ch=Cr,Pd=Ih,UN=yN,DN=wN,zN=rb,FN=ib,hp=ob,dp=Th,WN=_N,Uf=ub,HN=cb,KN=Qo,Ud=hb;function jN(n,e){const t=n.size,r=FN.getPositions(e);for(let o=0;o<r.length;o++){const i=r[o][0],u=r[o][1];for(let c=-1;c<=7;c++)if(!(i+c<=-1||t<=i+c))for(let h=-1;h<=7;h++)u+h<=-1||t<=u+h||(c>=0&&c<=6&&(h===0||h===6)||h>=0&&h<=6&&(c===0||c===6)||c>=2&&c<=4&&h>=2&&h<=4?n.set(i+c,u+h,!0,!0):n.set(i+c,u+h,!1,!0))}}function VN(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function $N(n,e){const t=zN.getPositions(e);for(let r=0;r<t.length;r++){const o=t[r][0],i=t[r][1];for(let u=-2;u<=2;u++)for(let c=-2;c<=2;c++)u===-2||u===2||c===-2||c===2||u===0&&c===0?n.set(o+u,i+c,!0,!0):n.set(o+u,i+c,!1,!0)}}function qN(n,e){const t=n.size,r=Uf.getEncodedBits(e);let o,i,u;for(let c=0;c<18;c++)o=Math.floor(c/3),i=c%3+t-8-3,u=(r>>c&1)===1,n.set(o,i,u,!0),n.set(i,o,u,!0)}function Dd(n,e,t){const r=n.size,o=HN.getEncodedBits(e,t);let i,u;for(i=0;i<15;i++)u=(o>>i&1)===1,i<6?n.set(i,8,u,!0):i<8?n.set(i+1,8,u,!0):n.set(r-15+i,8,u,!0),i<8?n.set(8,r-i-1,u,!0):i<9?n.set(8,15-i-1+1,u,!0):n.set(8,15-i-1,u,!0);n.set(r-8,8,1,!0)}function GN(n,e){const t=n.size;let r=-1,o=t-1,i=7,u=0;for(let c=t-1;c>0;c-=2)for(c===6&&c--;;){for(let h=0;h<2;h++)if(!n.isReserved(o,c-h)){let w=!1;u<e.length&&(w=(e[u]>>>i&1)===1),n.set(o,c-h,w),i--,i===-1&&(u++,i=7)}if(o+=r,o<0||t<=o){o-=r,r=-r;break}}}function ZN(n,e,t){const r=new UN;t.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),KN.getCharCountIndicator(h.mode,n)),h.write(r)});const o=Ch.getSymbolTotalCodewords(n),i=dp.getTotalCodewordsCount(n,e),u=(o-i)*8;for(r.getLengthInBits()+4<=u&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const c=(u-r.getLengthInBits())/8;for(let h=0;h<c;h++)r.put(h%2?17:236,8);return YN(r,n,e)}function YN(n,e,t){const r=Ch.getSymbolTotalCodewords(e),o=dp.getTotalCodewordsCount(e,t),i=r-o,u=dp.getBlocksCount(e,t),c=r%u,h=u-c,w=Math.floor(r/u),_=Math.floor(i/u),A=_+1,R=w-_,b=new WN(R);let x=0;const C=new Array(u),O=new Array(u);let k=0;const T=new Uint8Array(n.buffer);for(let F=0;F<u;F++){const j=F<h?_:A;C[F]=T.slice(x,x+j),O[F]=b.encode(C[F]),x+=j,k=Math.max(k,j)}const I=new Uint8Array(r);let B=0,P,U;for(P=0;P<k;P++)for(U=0;U<u;U++)P<C[U].length&&(I[B++]=C[U][P]);for(P=0;P<R;P++)for(U=0;U<u;U++)I[B++]=O[U][P];return I}function XN(n,e,t,r){let o;if(Array.isArray(n))o=Ud.fromArray(n);else if(typeof n=="string"){let w=e;if(!w){const _=Ud.rawSplit(n);w=Uf.getBestVersionForData(_,t)}o=Ud.fromString(n,w||40)}else throw new Error("Invalid data");const i=Uf.getBestVersionForData(o,t);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const u=ZN(e,t,o),c=Ch.getSymbolSize(e),h=new DN(c);return jN(h,e),VN(h),$N(h,e),Dd(h,t,0),e>=7&&qN(h,e),GN(h,u),isNaN(r)&&(r=hp.getBestMask(h,Dd.bind(null,h,t))),hp.applyMask(r,h),Dd(h,t,r),{modules:h,version:e,errorCorrectionLevel:t,maskPattern:r,segments:o}}tb.create=function(e,t){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Pd.M,o,i;return typeof t<"u"&&(r=Pd.from(t.errorCorrectionLevel,Pd.M),o=Uf.from(t.version),i=hp.from(t.maskPattern),t.toSJISFunc&&Ch.setToSJISFunction(t.toSJISFunc)),XN(e,o,r,i)};var pb={},kg={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:i,scale:i?4:u,margin:o,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},n.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},n.getImageWidth=function(r,o){const i=n.getScale(r,o);return Math.floor((r+o.margin*2)*i)},n.qrToImageData=function(r,o,i){const u=o.modules.size,c=o.modules.data,h=n.getScale(u,i),w=Math.floor((u+i.margin*2)*h),_=i.margin*h,A=[i.color.light,i.color.dark];for(let R=0;R<w;R++)for(let b=0;b<w;b++){let x=(R*w+b)*4,C=i.color.light;if(R>=_&&b>=_&&R<w-_&&b<w-_){const O=Math.floor((R-_)/h),k=Math.floor((b-_)/h);C=A[c[O*u+k]?1:0]}r[x++]=C.r,r[x++]=C.g,r[x++]=C.b,r[x]=C.a}}})(kg);(function(n){const e=kg;function t(o,i,u){o.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=u,i.width=u,i.style.height=u+"px",i.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,u,c){let h=c,w=u;typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),u||(w=r()),h=e.getOptions(h);const _=e.getImageWidth(i.modules.size,h),A=w.getContext("2d"),R=A.createImageData(_,_);return e.qrToImageData(R.data,i,h),t(A,w,_),A.putImageData(R,0,0),w},n.renderToDataURL=function(i,u,c){let h=c;typeof h>"u"&&(!u||!u.getContext)&&(h=u,u=void 0),h||(h={});const w=n.render(i,u,h),_=h.type||"image/png",A=h.rendererOpts||{};return w.toDataURL(_,A.quality)}})(pb);var mb={};const QN=kg;function W1(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function zd(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function JN(n,e,t){let r="",o=0,i=!1,u=0;for(let c=0;c<n.length;c++){const h=Math.floor(c%e),w=Math.floor(c/e);!h&&!i&&(i=!0),n[c]?(u++,c>0&&h>0&&n[c-1]||(r+=i?zd("M",h+t,.5+w+t):zd("m",o,0),o=0,i=!1),h+1<e&&n[c+1]||(r+=zd("h",u),u=0)):o++}return r}mb.render=function(e,t,r){const o=QN.getOptions(t),i=e.modules.size,u=e.modules.data,c=i+o.margin*2,h=o.color.light.a?"<path "+W1(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",w="<path "+W1(o.color.dark,"stroke")+' d="'+JN(u,i,o.margin)+'"/>',_='viewBox="0 0 '+c+" "+c+'"',R='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+_+' shape-rendering="crispEdges">'+h+w+`</svg>
`;return typeof r=="function"&&r(null,R),R};const eC=mN,pp=tb,gb=pb,tC=mb;function Ig(n,e,t,r,o){const i=[].slice.call(arguments,1),u=i.length,c=typeof i[u-1]=="function";if(!c&&!eC())throw new Error("Callback required as last argument");if(c){if(u<2)throw new Error("Too few arguments provided");u===2?(o=t,t=e,e=r=void 0):u===3&&(e.getContext&&typeof o>"u"?(o=r,r=void 0):(o=r,r=t,t=e,e=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(t=e,e=r=void 0):u===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(h,w){try{const _=pp.create(t,r);h(n(_,e,r))}catch(_){w(_)}})}try{const h=pp.create(t,r);o(null,n(h,e,r))}catch(h){o(h)}}pp.create;Ig.bind(null,gb.render);Ig.bind(null,gb.renderToDataURL);Ig.bind(null,function(n,e,t){return tC.render(n,t)});function Fd(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Df="solana:mainnet",nC="solana:devnet",rC="solana:testnet",iC="solana:localnet",oC="https://api.mainnet-beta.solana.com";function sC(n){return n.includes(oC)?Df:/\bdevnet\b/i.test(n)?nC:/\btestnet\b/i.test(n)?rC:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?iC:Df}function aC(n){let e=`${n.domain} wants you to sign in with your Solana account:
`;e+=`${n.address}`,n.statement&&(e+=`

${n.statement}`);const t=[];if(n.uri&&t.push(`URI: ${n.uri}`),n.version&&t.push(`Version: ${n.version}`),n.chainId&&t.push(`Chain ID: ${n.chainId}`),n.nonce&&t.push(`Nonce: ${n.nonce}`),n.issuedAt&&t.push(`Issued At: ${n.issuedAt}`),n.expirationTime&&t.push(`Expiration Time: ${n.expirationTime}`),n.notBefore&&t.push(`Not Before: ${n.notBefore}`),n.requestId&&t.push(`Request ID: ${n.requestId}`),n.resources){t.push("Resources:");for(const r of n.resources)t.push(`- ${r}`)}return t.length&&(e+=`

${t.join(`
`)}`),e}function uC(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}var lC=n=>uC({read(e,t){const r=t===0?e:e.slice(t);if(r.length===0)return["",0];let o=r.findIndex(h=>h!==0);o=o===-1?r.length:o;const i=n[0].repeat(o);if(o===r.length)return[i,e.length];const u=r.slice(o).reduce((h,w)=>h*256n+BigInt(w),0n),c=cC(u,n);return[i+c,e.length]}});function cC(n,e){const t=BigInt(e.length),r=[];for(;n>0n;)r.unshift(e[Number(n%t)]),n/=t;return r.join("")}var fC="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",hC=()=>lC(fC);const no={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ro extends Error{constructor(...e){const[t,r,o]=e;super(r),this.code=t,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class yb extends Error{constructor(...e){const[t,r,o,i]=e;super(o),this.code=r,this.data=i,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Jt(n,e,t,r){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(_){try{w(r.next(_))}catch(A){u(A)}}function h(_){try{w(r.throw(_))}catch(A){u(A)}}function w(_){_.done?i(_.value):o(_.value).then(c,h)}w((r=r.apply(n,[])).next())})}function dC(n){return window.btoa(n)}function H1(n,e){return window.btoa(String.fromCharCode.call(null,...n))}function wb(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function Wd(n,e){return Jt(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),o=new Uint8Array(t.byteLength+r.byteLength);return o.set(new Uint8Array(t),0),o.set(new Uint8Array(r),t.byteLength),o})}function pC(n){return aC(n)}function mC(n){return dC(pC(n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const gC="solana:signTransactions",K1="solana:cloneAuthorization";function yC(n){return hC().decode(n)}function wC(n){return yC(wb(n))}function vC(n,e){return new Proxy({},{get(t,r){return r==="then"?null:(t[r]==null&&(t[r]=function(o){return Jt(this,void 0,void 0,function*(){const{method:i,params:u}=_C(r,o,n),c=yield e(i,u);return i==="authorize"&&u.sign_in_payload&&!c.sign_in_result&&(c.sign_in_result=yield bC(u.sign_in_payload,c,e)),EC(r,c,n)})}),t[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function _C(n,e,t){let r=e,o=n.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(n){case"authorize":{let{chain:i}=r;if(t==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:u}=r;if(i)switch(t){case"legacy":{o="reauthorize",r={auth_token:i,identity:u};break}default:{o="authorize";break}}break}}return{method:o,params:r}}function EC(n,e,t){switch(n){case"getCapabilities":{const r=e;switch(t){case"legacy":{const o=[gC];return r.supports_clone_authorization===!0&&o.push(K1),Object.assign(Object.assign({},r),{features:o})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(K1)})}}}return e}function bC(n,e,t){var r;return Jt(this,void 0,void 0,function*(){const o=(r=n.domain)!==null&&r!==void 0?r:window.location.host,i=e.accounts[0].address,u=mC(Object.assign(Object.assign({},n),{domain:o,address:wC(i)})),c=yield t("sign_messages",{addresses:[i],payloads:[u]}),h=wb(c.signed_payloads[0]),w=H1(h.slice(0,h.length-64)),_=H1(h.slice(h.length-64));return{address:i,signed_message:w.length==0?u:w,signature:_}})}const ws=4;function SC(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(ws);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}const mp=12,vb=65;function MC(n,e,t){return Jt(this,void 0,void 0,function*(){const r=SC(e),o=new Uint8Array(mp);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(Eb(r,o),t,new TextEncoder().encode(n)),u=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return u.set(new Uint8Array(r),0),u.set(new Uint8Array(o),r.byteLength),u.set(new Uint8Array(i),r.byteLength+o.byteLength),u})}function _b(n,e){return Jt(this,void 0,void 0,function*(){const t=n.slice(0,ws),r=n.slice(ws,ws+mp),o=n.slice(ws+mp),i=yield crypto.subtle.decrypt(Eb(t,r),e,o);return AC().decode(i)})}function Eb(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let Hd;function AC(){return Hd===void 0&&(Hd=new TextDecoder("utf-8")),Hd}function RC(){return Jt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Kd(){return Jt(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function xC(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let o=0;o<r;o++)e+=String.fromCharCode(t[o]);return window.btoa(e)}function kC(){return bb(49152+Math.floor(Math.random()*16384))}function bb(n){if(n<49152||n>65535)throw new ro(no.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function IC(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const TC="solana-wallet";function j1(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function NC(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${TC}:/`));const r=n.startsWith("/")?n:[...j1(t.pathname),...j1(n)].join("/");return new URL(r,t)}function CC(n,e,t,r=["v1"]){return Jt(this,void 0,void 0,function*(){const o=bb(e),i=yield crypto.subtle.exportKey("raw",n),u=xC(i),c=NC("v1/associate/local",t);return c.searchParams.set("association",IC(u)),c.searchParams.set("port",`${o}`),r.forEach(h=>{c.searchParams.set("v",h)}),c})}function OC(n,e){return Jt(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=n.id;return MC(t,r,e)})}function BC(n,e){return Jt(this,void 0,void 0,function*(){const t=yield _b(n,e),r=JSON.parse(t);if(Object.hasOwnProperty.call(r,"error"))throw new yb(r.id,r.error.code,r.error.message);return r})}function LC(n,e,t){return Jt(this,void 0,void 0,function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n.slice(0,vb),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},t,256),u=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},u,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function PC(n,e){return Jt(this,void 0,void 0,function*(){const t=yield _b(n,e),r=JSON.parse(t);let o="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new ro(no.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:o}})}const zf={Firefox:0,Other:1};function UC(){return navigator.userAgent.indexOf("Firefox/")!==-1?zf.Firefox:zf.Other}function DC(){return new Promise((n,e)=>{function t(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const o=setTimeout(()=>{t(),e()},3e3)})}let _u=null;function zC(n){_u==null&&(_u=document.createElement("iframe"),_u.style.display="none",document.body.appendChild(_u)),_u.contentWindow.location.href=n.toString()}function FC(n){return Jt(this,void 0,void 0,function*(){if(n.protocol==="https:")window.location.assign(n);else try{const e=UC();switch(e){case zf.Firefox:zC(n);break;case zf.Other:{const t=DC();window.location.assign(n),yield t;break}default:}}catch{throw new ro(no.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function WC(n,e){return Jt(this,void 0,void 0,function*(){const t=kC(),r=yield CC(n,t,e);return yield FC(r),t})}const V1={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},HC="com.solana.mobilewalletadapter.v1";function KC(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ro(no.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function jC(n){let e;try{e=new URL(n)}catch{throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new ro(no.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function $1(n){return new DataView(n).getUint32(0,!1)}function VC(n,e){return Jt(this,void 0,void 0,function*(){KC();const t=yield RC(),o=`ws://localhost:${yield WC(t.publicKey,e==null?void 0:e.baseUri)}/solana-wallet`;let i;const u=(()=>{const _=[...V1.retryDelayScheduleMs];return()=>_.length>1?_.shift():_[0]})();let c=1,h=0,w={__type:"disconnected"};return new Promise((_,A)=>{let R;const b={},x=()=>Jt(this,void 0,void 0,function*(){if(w.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${w.__type}\`.`);return}R.removeEventListener("open",x);const{associationKeypair:P}=w,U=yield Kd();R.send(yield Wd(U.publicKey,P.privateKey)),w={__type:"hello_req_sent",associationPublicKey:P.publicKey,ecdhPrivateKey:U.privateKey}}),C=P=>{P.wasClean?w={__type:"disconnected"}:A(new ro(no.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${P.code}: ${P.reason}).`,{closeEvent:P})),T()},O=P=>Jt(this,void 0,void 0,function*(){T(),Date.now()-i>=V1.timeoutMs?A(new ro(no.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${o}.`)):(yield new Promise(U=>{const F=u();I=window.setTimeout(U,F)}),B())}),k=P=>Jt(this,void 0,void 0,function*(){const U=yield P.data.arrayBuffer();switch(w.__type){case"connecting":if(U.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const F=yield Kd();R.send(yield Wd(F.publicKey,t.privateKey)),w={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:F.privateKey};break;case"connected":try{const j=U.slice(0,ws),V=$1(j);if(V!==h+1)throw new Error("Encrypted message has invalid sequence number");h=V;const G=yield BC(U,w.sharedSecret),H=b[G.id];delete b[G.id],H.resolve(G.result)}catch(j){if(j instanceof yb){const V=b[j.jsonRpcMessageId];delete b[j.jsonRpcMessageId],V.reject(j)}else throw j}break;case"hello_req_sent":{if(U.byteLength===0){const Z=yield Kd();R.send(yield Wd(Z.publicKey,t.privateKey)),w={__type:"hello_req_sent",associationPublicKey:t.publicKey,ecdhPrivateKey:Z.privateKey};break}const j=yield LC(U,w.associationPublicKey,w.ecdhPrivateKey),V=U.slice(vb),G=V.byteLength!==0?yield Jt(this,void 0,void 0,function*(){const Z=V.slice(0,ws),m=$1(Z);if(m!==h+1)throw new Error("Encrypted message has invalid sequence number");return h=m,PC(V,j)}):{protocol_version:"legacy"};w={__type:"connected",sharedSecret:j,sessionProperties:G};const H=vC(G.protocol_version,(Z,m)=>Jt(this,void 0,void 0,function*(){const s=c++;return R.send(yield OC({id:s,jsonrpc:"2.0",method:Z,params:m??{}},j)),new Promise((l,f)=>{b[s]={resolve(p){switch(Z){case"authorize":case"reauthorize":{const{wallet_uri_base:g}=p;if(g!=null)try{jC(g)}catch(v){f(v);return}break}}l(p)},reject:f}})}));try{_(yield n(H))}catch(Z){A(Z)}finally{T(),R.close()}break}}});let T,I;const B=()=>{T&&T(),w={__type:"connecting",associationKeypair:t},i===void 0&&(i=Date.now()),R=new WebSocket(o,[HC]),R.addEventListener("open",x),R.addEventListener("close",C),R.addEventListener("error",O),R.addEventListener("message",k),T=()=>{window.clearTimeout(I),R.removeEventListener("open",x),R.removeEventListener("close",C),R.removeEventListener("error",O),R.removeEventListener("message",k)}};B()})})}function $C(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=r}var u=n.length,c=n.charAt(0),h=Math.log(u)/Math.log(256),w=Math.log(256)/Math.log(u);function _(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var x=0,C=0,O=0,k=b.length;O!==k&&b[O]===0;)O++,x++;for(var T=(k-O)*w+1>>>0,I=new Uint8Array(T);O!==k;){for(var B=b[O],P=0,U=T-1;(B!==0||P<C)&&U!==-1;U--,P++)B+=256*I[U]>>>0,I[U]=B%u>>>0,B=B/u>>>0;if(B!==0)throw new Error("Non-zero carry");C=P,O++}for(var F=T-C;F!==T&&I[F]===0;)F++;for(var j=c.repeat(x);F<T;++F)j+=n.charAt(I[F]);return j}function A(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var x=0,C=0,O=0;b[x]===c;)C++,x++;for(var k=(b.length-x)*h+1>>>0,T=new Uint8Array(k);b[x];){var I=b.charCodeAt(x);if(I>255)return;var B=e[I];if(B===255)return;for(var P=0,U=k-1;(B!==0||P<O)&&U!==-1;U--,P++)B+=u*T[U]>>>0,T[U]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");O=P,x++}for(var F=k-O;F!==k&&T[F]===0;)F++;for(var j=new Uint8Array(C+(k-F)),V=C;F!==k;)j[V++]=T[F++];return j}function R(b){var x=A(b);if(x)return x;throw new Error("Non-base"+u+" character")}return{encode:_,decodeUnsafe:A,decode:R}}var qC=$C;const GC=qC,ZC="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var YC=GC(ZC);const gp=oo(YC);function It(n,e,t,r){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(_){try{w(r.next(_))}catch(A){u(A)}}function h(_){try{w(r.throw(_))}catch(A){u(A)}}function w(_){_.done?i(_.value):o(_.value).then(c,h)}w((r=r.apply(n,[])).next())})}function oe(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Zt(n,e,t,r,o){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}var xu,tn,rs,ea,Sb,Mb,Ab,Lc;const XC=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,QC=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,JC=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class eO{constructor(){xu.add(this),tn.set(this,null),rs.set(this,{}),ea.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),oe(this,xu,"m",Mb).call(this),oe(this,tn,"f")&&(oe(this,tn,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),oe(this,xu,"m",Ab).call(this),oe(this,tn,"f")&&(oe(this,tn,"f").style.display="none"),(t=oe(this,rs,"f").close)===null||t===void 0||t.forEach(r=>r(e))},Lc.set(this,e=>{e.key==="Escape"&&this.close(e)}),this.init=this.init.bind(this),Zt(this,tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return It(this,void 0,void 0,function*(){console.log("Injecting modal"),oe(this,xu,"m",Sb).call(this)})}addEventListener(e,t){var r;return!((r=oe(this,rs,"f")[e])===null||r===void 0)&&r.push(t)||(oe(this,rs,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var r;oe(this,rs,"f")[e]=(r=oe(this,rs,"f")[e])===null||r===void 0?void 0:r.filter(o=>t!==o)}}tn=new WeakMap,rs=new WeakMap,ea=new WeakMap,Lc=new WeakMap,xu=new WeakSet,Sb=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){oe(this,tn,"f")||Zt(this,tn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Zt(this,tn,document.createElement("div")),oe(this,tn,"f").id="mobile-wallet-adapter-embedded-root-ui",oe(this,tn,"f").innerHTML=XC,oe(this,tn,"f").style.display="none";const e=oe(this,tn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent=QC+this.contentStyles;const r=document.createElement("div");r.innerHTML=JC,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(oe(this,tn,"f")),document.body.appendChild(r)},Mb=function(){if(!oe(this,tn,"f")||oe(this,ea,"f"))return;[...oe(this,tn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",oe(this,Lc,"f")),Zt(this,ea,!0)},Ab=function(){if(!oe(this,ea,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",oe(this,Lc,"f")),!oe(this,tn,"f")))return;[...oe(this,tn,"f").querySelectorAll("[data-modal-close]")].forEach(t=>t==null?void 0:t.removeEventListener("click",this.close)),Zt(this,ea,!1)};const tO="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function dc(n){return window.btoa(String.fromCharCode.call(null,...n))}function mo(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}var ta,vs,yp,wp,vp,_p,ku,kn,Pi,go,na,is,Pc,Iu,Uc,Ep,Dc,Rb,bp,zc,ra,Fc,Tu,Wc,ia,Nu,Hc,Sp,Mp,Kc,jc,Ap,Rp,Vc;const xb="Mobile Wallet Adapter",nO=64,rO=[lr,Ct,Mo,xs];class iO{constructor(e){ta.add(this),vs.set(this,{}),yp.set(this,"1.0.0"),wp.set(this,xb),vp.set(this,"https://solanamobile.com/wallets"),_p.set(this,tO),ku.set(this,void 0),kn.set(this,void 0),Pi.set(this,void 0),go.set(this,!1),na.set(this,0),is.set(this,[]),Pc.set(this,void 0),Iu.set(this,void 0),Uc.set(this,void 0),Ep.set(this,(t,r)=>{var o;return!((o=oe(this,vs,"f")[t])===null||o===void 0)&&o.push(r)||(oe(this,vs,"f")[t]=[r]),()=>oe(this,ta,"m",Rb).call(this,t,r)}),bp.set(this,({silent:t}={})=>It(this,void 0,void 0,function*(){if(oe(this,go,"f")||this.connected)return{accounts:this.accounts};Zt(this,go,!0);try{if(t){const r=yield oe(this,Pi,"f").get();if(r)yield oe(this,Fc,"f").call(this,r.capabilities),yield oe(this,ra,"f").call(this,r);else return{accounts:this.accounts}}else yield oe(this,zc,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Zt(this,go,!1)}return{accounts:this.accounts}})),zc.set(this,t=>It(this,void 0,void 0,function*(){try{const r=yield oe(this,Pi,"f").get();if(r)return oe(this,ra,"f").call(this,r),r;const o=yield oe(this,Pc,"f").select(oe(this,is,"f"));return yield oe(this,ia,"f").call(this,i=>It(this,void 0,void 0,function*(){const[u,c]=yield Promise.all([i.getCapabilities(),i.authorize({chain:o,identity:oe(this,ku,"f"),sign_in_payload:t})]),h=oe(this,Hc,"f").call(this,c.accounts),w=Object.assign(Object.assign({},c),{accounts:h,chain:o,capabilities:u});return Promise.all([oe(this,Fc,"f").call(this,u),oe(this,Pi,"f").set(w),oe(this,ra,"f").call(this,w)]),w}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),ra.set(this,t=>It(this,void 0,void 0,function*(){var r;const o=oe(this,kn,"f")==null||((r=oe(this,kn,"f"))===null||r===void 0?void 0:r.accounts.length)!==t.accounts.length||oe(this,kn,"f").accounts.some((i,u)=>i.address!==t.accounts[u].address);Zt(this,kn,t),o&&oe(this,ta,"m",Dc).call(this,"change",{accounts:this.accounts})})),Fc.set(this,t=>It(this,void 0,void 0,function*(){const r=t.features.includes("solana:signTransactions"),o=t.supports_sign_and_send_transactions,i=lr in this.features!==o||Ct in this.features!==r;Zt(this,Iu,Object.assign(Object.assign({},(o||!o&&!r)&&{[lr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:oe(this,Kc,"f")}}),r&&{[Ct]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:oe(this,jc,"f")}})),i&&oe(this,ta,"m",Dc).call(this,"change",{features:this.features})})),Tu.set(this,(t,r,o)=>It(this,void 0,void 0,function*(){var i,u;try{const[c,h]=yield Promise.all([(u=(i=oe(this,kn,"f"))===null||i===void 0?void 0:i.capabilities)!==null&&u!==void 0?u:yield t.getCapabilities(),t.authorize({auth_token:r,identity:oe(this,ku,"f"),chain:o})]),w=oe(this,Hc,"f").call(this,h.accounts),_=Object.assign(Object.assign({},h),{accounts:w,chain:o,capabilities:c});Promise.all([oe(this,Pi,"f").set(_),oe(this,ra,"f").call(this,_)])}catch(c){throw oe(this,Wc,"f").call(this),new Error(c instanceof Error&&c.message||"Unknown error")}})),Wc.set(this,()=>It(this,void 0,void 0,function*(){var t;oe(this,Pi,"f").clear(),Zt(this,go,!1),Zt(this,na,(t=oe(this,na,"f"),t++,t)),Zt(this,kn,void 0),oe(this,ta,"m",Dc).call(this,"change",{accounts:this.accounts})})),ia.set(this,t=>It(this,void 0,void 0,function*(){var r;const o=(r=oe(this,kn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=o?{baseUri:o}:void 0,u=oe(this,na,"f");try{return yield VC(t,i)}catch(c){throw oe(this,na,"f")!==u&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield oe(this,Uc,"f").call(this,this)),c}})),Nu.set(this,()=>{if(!oe(this,kn,"f"))throw new Error("Wallet not connected");return{authToken:oe(this,kn,"f").auth_token,chain:oe(this,kn,"f").chain}}),Hc.set(this,t=>t.map(r=>{var o,i;const u=mo(r.address);return{address:gp.encode(u),publicKey:u,label:r.label,icon:r.icon,chains:(o=r.chains)!==null&&o!==void 0?o:oe(this,is,"f"),features:(i=r.features)!==null&&i!==void 0?i:rO}})),Sp.set(this,t=>It(this,void 0,void 0,function*(){const{authToken:r,chain:o}=oe(this,Nu,"f").call(this);try{const i=t.map(u=>dc(u));return yield oe(this,ia,"f").call(this,u=>It(this,void 0,void 0,function*(){return yield oe(this,Tu,"f").call(this,u,r,o),(yield u.signTransactions({payloads:i})).signed_payloads.map(mo)}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Mp.set(this,(t,r)=>It(this,void 0,void 0,function*(){const{authToken:o,chain:i}=oe(this,Nu,"f").call(this);try{return yield oe(this,ia,"f").call(this,u=>It(this,void 0,void 0,function*(){const[c,h]=yield Promise.all([u.getCapabilities(),oe(this,Tu,"f").call(this,u,o,i)]);if(c.supports_sign_and_send_transactions){const w=dc(t);return(yield u.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[w]}))).signatures.map(mo)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}})),Kc.set(this,(...t)=>It(this,void 0,void 0,function*(){const r=[];for(const o of t){const i=yield oe(this,Mp,"f").call(this,o.transaction,o.options);r.push({signature:i})}return r})),jc.set(this,(...t)=>It(this,void 0,void 0,function*(){return(yield oe(this,Sp,"f").call(this,t.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),Ap.set(this,(...t)=>It(this,void 0,void 0,function*(){const{authToken:r,chain:o}=oe(this,Nu,"f").call(this),i=t.map(({account:c})=>dc(c.publicKey)),u=t.map(({message:c})=>dc(c));try{return yield oe(this,ia,"f").call(this,c=>It(this,void 0,void 0,function*(){return yield oe(this,Tu,"f").call(this,c,r,o),(yield c.signMessages({addresses:i,payloads:u})).signed_payloads.map(mo).map(w=>({signedMessage:w,signature:w.slice(-nO)}))}))}catch(c){throw new Error(c instanceof Error&&c.message||"Unknown error")}})),Rp.set(this,(...t)=>It(this,void 0,void 0,function*(){const r=[];if(t.length>1)for(const o of t)r.push(yield oe(this,Vc,"f").call(this,o));else return[yield oe(this,Vc,"f").call(this,t[0])];return r})),Vc.set(this,t=>It(this,void 0,void 0,function*(){var r,o,i;Zt(this,go,!0);try{const u=yield oe(this,zc,"f").call(this,Object.assign(Object.assign({},t),{domain:(r=t==null?void 0:t.domain)!==null&&r!==void 0?r:window.location.host}));if(!u.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const c=u.sign_in_result.address,h=u.accounts.find(w=>w.address==c);return{account:Object.assign(Object.assign({},h??{address:gp.encode(mo(c))}),{publicKey:mo(c),chains:(o=h==null?void 0:h.chains)!==null&&o!==void 0?o:oe(this,is,"f"),features:(i=h==null?void 0:h.features)!==null&&i!==void 0?i:u.capabilities.features}),signedMessage:mo(u.sign_in_result.signed_message),signature:mo(u.sign_in_result.signature)}}catch(u){throw new Error(u instanceof Error&&u.message||"Unknown error")}finally{Zt(this,go,!1)}})),Zt(this,Pi,e.authorizationCache),Zt(this,ku,e.appIdentity),Zt(this,is,e.chains),Zt(this,Pc,e.chainSelector),Zt(this,Uc,e.onWalletNotFound),Zt(this,Iu,{[lr]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:oe(this,Kc,"f")},[Ct]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:oe(this,jc,"f")}})}get version(){return oe(this,yp,"f")}get name(){return oe(this,wp,"f")}get url(){return oe(this,vp,"f")}get icon(){return oe(this,_p,"f")}get chains(){return oe(this,is,"f")}get features(){return Object.assign({[bg]:{version:"1.0.0",connect:oe(this,bp,"f")},[cp]:{version:"1.0.0",disconnect:oe(this,Wc,"f")},[Sg]:{version:"1.0.0",on:oe(this,Ep,"f")},[Mo]:{version:"1.0.0",signMessage:oe(this,Ap,"f")},[xs]:{version:"1.0.0",signIn:oe(this,Rp,"f")}},oe(this,Iu,"f"))}get accounts(){var e,t;return(t=(e=oe(this,kn,"f"))===null||e===void 0?void 0:e.accounts)!==null&&t!==void 0?t:[]}get connected(){return!!oe(this,kn,"f")}get isAuthorized(){return!!oe(this,kn,"f")}get currentAuthorization(){return oe(this,kn,"f")}get cachedAuthorizationResult(){return oe(this,Pi,"f").get()}}vs=new WeakMap,yp=new WeakMap,wp=new WeakMap,vp=new WeakMap,_p=new WeakMap,ku=new WeakMap,kn=new WeakMap,Pi=new WeakMap,go=new WeakMap,na=new WeakMap,is=new WeakMap,Pc=new WeakMap,Iu=new WeakMap,Uc=new WeakMap,Ep=new WeakMap,bp=new WeakMap,zc=new WeakMap,ra=new WeakMap,Fc=new WeakMap,Tu=new WeakMap,Wc=new WeakMap,ia=new WeakMap,Nu=new WeakMap,Hc=new WeakMap,Sp=new WeakMap,Mp=new WeakMap,Kc=new WeakMap,jc=new WeakMap,Ap=new WeakMap,Rp=new WeakMap,Vc=new WeakMap,ta=new WeakSet,Dc=function(e,...t){var r;(r=oe(this,vs,"f")[e])===null||r===void 0||r.forEach(o=>o.apply(null,t))},Rb=function(e,t){var r;oe(this,vs,"f")[e]=(r=oe(this,vs,"f")[e])===null||r===void 0?void 0:r.filter(o=>t!==o)};const oO="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",sO="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class aO extends eO{constructor(){super(...arguments),this.contentStyles=lO,this.contentHtml=uO}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,r;const o=(t=this.dom)===null||t===void 0?void 0:t.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(o){if(e.name==="SolanaMobileWalletAdapterError")switch(e.code){case"ERROR_WALLET_NOT_FOUND":o.innerHTML=oO,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":o.innerHTML=sO,i&&(i.style.display="none");return}o.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const uO=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,lO=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function cO(){return It(this,void 0,void 0,function*(){if(typeof window<"u"){const n=window.navigator.userAgent.toLowerCase(),e=new aO;n.includes("wv")?e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):e.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),e.open()}})}const jd="SolanaMobileWalletAdapterDefaultAuthorizationCache";function fO(){let n;try{n=window.localStorage}catch{}return{clear(){return It(this,void 0,void 0,function*(){if(n)try{n.removeItem(jd)}catch{}})},get(){return It(this,void 0,void 0,function*(){if(n)try{const e=JSON.parse(n.getItem(jd));if(e&&e.accounts){const t=e.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):gp.decode(r.address)}));return Object.assign(Object.assign({},e),{accounts:t})}else return e||void 0}catch{}})},set(e){return It(this,void 0,void 0,function*(){if(n)try{n.setItem(jd,JSON.stringify(e))}catch{}})}}}function hO(){return{select(n){return It(this,void 0,void 0,function*(){return n.length===1?n[0]:n.includes(Df)?Df:n[0]})}}}function bt(n,e,t,r){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function c(_){try{w(r.next(_))}catch(A){u(A)}}function h(_){try{w(r.throw(_))}catch(A){u(A)}}function w(_){_.done?i(_.value):o(_.value).then(c,h)}w((r=r.apply(n,[])).next())})}function Qe(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)}function Er(n,e,t,r,o){if(typeof e=="function"?n!==e||!0:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(n,t),t}const xp="standard:connect",dO="standard:disconnect",pO="standard:events";function Vd(n){return window.btoa(String.fromCharCode.call(null,...n))}function mO(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var an,Nt,Ao,ji,$c,Fi,os,kp,Ip,kb,Ff,qc,_o;const Gc=xb,gO=64;function yO(n){return"version"in n}function Ib(n){switch(n){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return n}}class wO extends cN{constructor(e,t){super(),an.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Nt.set(this,void 0),Ao.set(this,!1),ji.set(this,mO()?mt.Loadable:mt.Unsupported),$c.set(this,void 0),Fi.set(this,void 0),os.set(this,void 0),kp.set(this,r=>bt(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Qe(this,an,"m",kb).call(this);const o=yield Qe(this,$c,"f").call(this,r.accounts);o!==Qe(this,Fi,"f")&&(Er(this,Fi,o),Er(this,os,void 0),this.emit("connect",this.publicKey))}})),Er(this,$c,r=>bt(this,void 0,void 0,function*(){var o;const i=yield t.addressSelector.select(r.map(({publicKey:u})=>Vd(u)));return(o=r.find(({publicKey:u})=>Vd(u)===i))!==null&&o!==void 0?o:r[0]})),Er(this,Nt,e),Qe(this,Nt,"f").features[pO].on("change",Qe(this,kp,"f")),this.name=Qe(this,Nt,"f").name,this.icon=Qe(this,Nt,"f").icon,this.url=Qe(this,Nt,"f").url}get publicKey(){var e;if(!Qe(this,os,"f")&&Qe(this,Fi,"f"))try{Er(this,os,new re(Qe(this,Fi,"f").publicKey),"f")}catch(t){throw new Lf(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return(e=Qe(this,os,"f"))!==null&&e!==void 0?e:null}get connected(){return Qe(this,Nt,"f").connected}get connecting(){return Qe(this,Ao,"f")}get readyState(){return Qe(this,ji,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return bt(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return bt(this,void 0,void 0,function*(){Qe(this,an,"m",Ip).call(this,!0)})}connect(){return bt(this,void 0,void 0,function*(){Qe(this,an,"m",Ip).call(this)})}performAuthorization(e){return bt(this,void 0,void 0,function*(){try{const t=yield Qe(this,Nt,"f").cachedAuthorizationResult;return t?(yield Qe(this,Nt,"f").features[xp].connect({silent:!0}),t):(e?yield Qe(this,Nt,"f").features[xs].signIn(e):yield Qe(this,Nt,"f").features[xp].connect(),yield yield Qe(this,Nt,"f").cachedAuthorizationResult)}catch(t){throw new wl(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){Er(this,Ao,!1),Er(this,os,void 0),Er(this,Fi,void 0),yield Qe(this,Nt,"f").features[dO].disconnect(),this.emit("disconnect")}))})}signIn(e){return bt(this,void 0,void 0,function*(){return Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){var t;if(Qe(this,ji,"f")!==mt.Installed&&Qe(this,ji,"f")!==mt.Loadable)throw new qa;Er(this,Ao,!0);try{const r=yield Qe(this,Nt,"f").features[xs].signIn(Object.assign(Object.assign({},e),{domain:(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new wl(r instanceof Error&&r.message||"Unknown error",r)}finally{Er(this,Ao,!1)}}))})}signMessage(e){return bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){const t=Qe(this,an,"m",Ff).call(this);try{return(yield Qe(this,Nt,"f").features[Mo].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Eg(r==null?void 0:r.message,r)}}))})}sendTransaction(e,t,r){return bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){const o=Qe(this,an,"m",Ff).call(this);try{let u=function(){let c;switch(t.commitment){case"confirmed":case"finalized":case"processed":c=t.commitment;break;default:c="finalized"}let h;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":h=r.preflightCommitment;break;case void 0:h=c;break;default:h="finalized"}return(h==="finalized"?2:h==="confirmed"?1:0)<(c==="finalized"?2:c==="confirmed"?1:0)?h:c};var i=u;if(lr in Qe(this,Nt,"f").features){const c=Ib(Qe(this,Nt,"f").currentAuthorization.chain),[h]=(yield Qe(this,Nt,"f").features[lr].signAndSendTransaction({account:o,transaction:e.serialize(),chain:c,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(w=>Vd(w.signature));return h}else{const[c]=yield Qe(this,an,"m",qc).call(this,[e]);if(yO(c))return yield t.sendTransaction(c);{const h=c.serialize();return yield t.sendRawTransaction(h,Object.assign(Object.assign({},r),{preflightCommitment:u()}))}}}catch(u){throw new To(u==null?void 0:u.message,u)}}))})}signTransaction(e){return bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){const[t]=yield Qe(this,an,"m",qc).call(this,[e]);return t}))})}signAllTransactions(e){return bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){return yield Qe(this,an,"m",qc).call(this,e)}))})}}Nt=new WeakMap,Ao=new WeakMap,ji=new WeakMap,$c=new WeakMap,Fi=new WeakMap,os=new WeakMap,kp=new WeakMap,an=new WeakSet,Ip=function(e=!1){return bt(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Qe(this,an,"m",_o).call(this,()=>bt(this,void 0,void 0,function*(){if(Qe(this,ji,"f")!==mt.Installed&&Qe(this,ji,"f")!==mt.Loadable)throw new qa;Er(this,Ao,!0);try{yield Qe(this,Nt,"f").features[xp].connect({silent:e})}catch(t){throw new wl(t instanceof Error&&t.message||"Unknown error",t)}finally{Er(this,Ao,!1)}}))})},kb=function(){Qe(this,ji,"f")!==mt.Installed&&this.emit("readyStateChange",Er(this,ji,mt.Installed))},Ff=function(){if(!Qe(this,Nt,"f").isAuthorized||!Qe(this,Fi,"f"))throw new dr;return Qe(this,Fi,"f")},qc=function(e){return bt(this,void 0,void 0,function*(){const t=Qe(this,an,"m",Ff).call(this);try{if(Ct in Qe(this,Nt,"f").features)return Qe(this,Nt,"f").features[Ct].signTransaction(...e.map(r=>({account:t,transaction:r.serialize()}))).then(r=>r.map(o=>{const i=o.signedTransaction,c=i[0]*gO+1;return bh.deserializeMessageVersion(i.slice(c,i.length))==="legacy"?ot.from(i):ja.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Zi(r==null?void 0:r.message,r)}})},_o=function(e){return bt(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class vO extends wO{constructor(e){var t;const r=Ib((t=e.chain)!==null&&t!==void 0?t:e.cluster);super(new iO({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>bt(this,void 0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[r],chainSelector:hO(),onWalletNotFound:()=>bt(this,void 0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:r})}}class _O extends vO{}function EO(){return{select(n){return bt(this,void 0,void 0,function*(){return n[0]})}}}function bO(){return fO()}function SO(n){return bt(this,void 0,void 0,function*(){return cO()})}function MO(){return SO}function AO(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function RO(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let w=0;w<e.length;w++)e[w]=255;for(let w=0;w<n.length;w++){const _=n.charAt(w),A=_.charCodeAt(0);if(e[A]!==255)throw new TypeError(_+" is ambiguous");e[A]=w}const t=n.length,r=n.charAt(0),o=Math.log(t)/Math.log(256),i=Math.log(256)/Math.log(t);function u(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";let _=0,A=0,R=0;const b=w.length;for(;R!==b&&w[R]===0;)R++,_++;const x=(b-R)*i+1>>>0,C=new Uint8Array(x);for(;R!==b;){let T=w[R],I=0;for(let B=x-1;(T!==0||I<A)&&B!==-1;B--,I++)T+=256*C[B]>>>0,C[B]=T%t>>>0,T=T/t>>>0;if(T!==0)throw new Error("Non-zero carry");A=I,R++}let O=x-A;for(;O!==x&&C[O]===0;)O++;let k=r.repeat(_);for(;O<x;++O)k+=n.charAt(C[O]);return k}function c(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;let _=0,A=0,R=0;for(;w[_]===r;)A++,_++;const b=(w.length-_)*o+1>>>0,x=new Uint8Array(b);for(;_<w.length;){const T=w.charCodeAt(_);if(T>255)return;let I=e[T];if(I===255)return;let B=0;for(let P=b-1;(I!==0||B<R)&&P!==-1;P--,B++)I+=t*x[P]>>>0,x[P]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");R=B,_++}let C=b-R;for(;C!==b&&x[C]===0;)C++;const O=new Uint8Array(A+(b-C));let k=A;for(;C!==b;)O[k++]=x[C++];return O}function h(w){const _=c(w);if(_)return _;throw new Error("Non-base"+t+" character")}return{encode:u,decodeUnsafe:c,decode:h}}var xO="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const kO=RO(xO);var Ze=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},Yt=function(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t},mn,ir,_s,Es,ss,Cu,Wf,ft,Hf,Tp,Zc,Np,ju,Cp,q1,G1,Z1,Y1;class IO extends Q2{get name(){return Ze(this,ft,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Ze(this,ft,"f").icon}get readyState(){return Ze(this,Hf,"f")}get publicKey(){return Ze(this,_s,"f")}get connecting(){return Ze(this,Es,"f")}get supportedTransactionVersions(){return Ze(this,Wf,"f")}get wallet(){return Ze(this,ft,"f")}get standard(){return!0}constructor({wallet:e}){super(),mn.add(this),ir.set(this,void 0),_s.set(this,void 0),Es.set(this,void 0),ss.set(this,void 0),Cu.set(this,void 0),Wf.set(this,void 0),ft.set(this,void 0),Hf.set(this,typeof window>"u"||typeof document>"u"?mt.Unsupported:mt.Installed),Cp.set(this,t=>{if("accounts"in t){const r=Ze(this,ft,"f").accounts[0];Ze(this,ir,"f")&&!Ze(this,ss,"f")&&r!==Ze(this,ir,"f")&&(r?Ze(this,mn,"m",Zc).call(this,r):(this.emit("error",new Y2),Ze(this,mn,"m",Np).call(this)))}"features"in t&&Ze(this,mn,"m",ju).call(this)}),Yt(this,ft,e,"f"),Yt(this,ir,null,"f"),Yt(this,_s,null,"f"),Yt(this,Es,!1,"f"),Yt(this,ss,!1,"f"),Yt(this,Cu,Ze(this,ft,"f").features[Sg].on("change",Ze(this,Cp,"f")),"f"),Ze(this,mn,"m",ju).call(this)}destroy(){Yt(this,ir,null,"f"),Yt(this,_s,null,"f"),Yt(this,Es,!1,"f"),Yt(this,ss,!1,"f");const e=Ze(this,Cu,"f");e&&(Yt(this,Cu,null,"f"),e())}async autoConnect(){return Ze(this,mn,"m",Tp).call(this,{silent:!0})}async connect(){return Ze(this,mn,"m",Tp).call(this)}async disconnect(){if(cp in Ze(this,ft,"f").features)try{Yt(this,ss,!0,"f"),await Ze(this,ft,"f").features[cp].disconnect()}catch(e){this.emit("error",new X2(e==null?void 0:e.message,e))}finally{Yt(this,ss,!1,"f")}Ze(this,mn,"m",Np).call(this)}async sendTransaction(e,t,r={}){try{const o=Ze(this,ir,"f");if(!o)throw new dr;let i;if(lr in Ze(this,ft,"f").features)if(o.features.includes(lr))i=lr;else if(Ct in Ze(this,ft,"f").features&&o.features.includes(Ct))i=Ct;else throw new ys;else if(Ct in Ze(this,ft,"f").features){if(!o.features.includes(Ct))throw new ys;i=Ct}else throw new Ru;const u=sC(t.rpcEndpoint);if(!o.chains.includes(u))throw new To;try{const{signers:c,...h}=r;let w;if(No(e)?(c!=null&&c.length&&e.sign(c),w=e.serialize()):(e=await this.prepareTransaction(e,t,h),c!=null&&c.length&&e.partialSign(...c),w=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===lr){const[_]=await Ze(this,ft,"f").features[lr].signAndSendTransaction({account:o,chain:u,transaction:w,options:{preflightCommitment:Fd(h.preflightCommitment||t.commitment),skipPreflight:h.skipPreflight,maxRetries:h.maxRetries,minContextSlot:h.minContextSlot}});return kO.encode(_.signature)}else{const[_]=await Ze(this,ft,"f").features[Ct].signTransaction({account:o,chain:u,transaction:w,options:{preflightCommitment:Fd(h.preflightCommitment||t.commitment),minContextSlot:h.minContextSlot}});return await t.sendRawTransaction(_.signedTransaction,{...h,preflightCommitment:Fd(h.preflightCommitment||t.commitment)})}}catch(c){throw c instanceof Cn?c:new To(c==null?void 0:c.message,c)}}catch(o){throw this.emit("error",o),o}}}ir=new WeakMap,_s=new WeakMap,Es=new WeakMap,ss=new WeakMap,Cu=new WeakMap,Wf=new WeakMap,ft=new WeakMap,Hf=new WeakMap,Cp=new WeakMap,mn=new WeakSet,Tp=async function(e){try{if(this.connected||this.connecting)return;if(Ze(this,Hf,"f")!==mt.Installed)throw new qa;if(Yt(this,Es,!0,"f"),!Ze(this,ft,"f").accounts.length)try{await Ze(this,ft,"f").features[bg].connect(e)}catch(r){throw new wl(r==null?void 0:r.message,r)}const t=Ze(this,ft,"f").accounts[0];if(!t)throw new ys;Ze(this,mn,"m",Zc).call(this,t)}catch(t){throw this.emit("error",t),t}finally{Yt(this,Es,!1,"f")}},Zc=function(e){let t;try{t=new re(e.address)}catch(r){throw new Lf(r==null?void 0:r.message,r)}Yt(this,ir,e,"f"),Yt(this,_s,t,"f"),Ze(this,mn,"m",ju).call(this),this.emit("connect",t)},Np=function(){Yt(this,ir,null,"f"),Yt(this,_s,null,"f"),Ze(this,mn,"m",ju).call(this),this.emit("disconnect")},ju=function(){var t,r;const e=lr in Ze(this,ft,"f").features?Ze(this,ft,"f").features[lr].supportedTransactionVersions:Ze(this,ft,"f").features[Ct].supportedTransactionVersions;Yt(this,Wf,AO(e,["legacy"])?null:new Set(e),"f"),Ct in Ze(this,ft,"f").features&&((t=Ze(this,ir,"f"))!=null&&t.features.includes(Ct))?(this.signTransaction=Ze(this,mn,"m",q1),this.signAllTransactions=Ze(this,mn,"m",G1)):(delete this.signTransaction,delete this.signAllTransactions),Mo in Ze(this,ft,"f").features&&((r=Ze(this,ir,"f"))!=null&&r.features.includes(Mo))?this.signMessage=Ze(this,mn,"m",Z1):delete this.signMessage,xs in Ze(this,ft,"f").features?this.signIn=Ze(this,mn,"m",Y1):delete this.signIn},q1=async function(e){try{const t=Ze(this,ir,"f");if(!t)throw new dr;if(!(Ct in Ze(this,ft,"f").features))throw new Ru;if(!t.features.includes(Ct))throw new ys;try{const o=(await Ze(this,ft,"f").features[Ct].signTransaction({account:t,transaction:No(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return No(e)?ja.deserialize(o):ot.from(o)}catch(r){throw r instanceof Cn?r:new Zi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},G1=async function(e){try{const t=Ze(this,ir,"f");if(!t)throw new dr;if(!(Ct in Ze(this,ft,"f").features))throw new Ru;if(!t.features.includes(Ct))throw new ys;try{const r=await Ze(this,ft,"f").features[Ct].signTransaction(...e.map(o=>({account:t,transaction:No(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((o,i)=>{const u=r[i].signedTransaction;return No(o)?ja.deserialize(u):ot.from(u)})}catch(r){throw new Zi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Z1=async function(e){try{const t=Ze(this,ir,"f");if(!t)throw new dr;if(!(Mo in Ze(this,ft,"f").features))throw new Ru;if(!t.features.includes(Mo))throw new ys;try{return(await Ze(this,ft,"f").features[Mo].signMessage({account:t,message:e}))[0].signature}catch(r){throw new Eg(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},Y1=async function(e={}){try{if(!(xs in Ze(this,ft,"f").features))throw new Ru;let t;try{[t]=await Ze(this,ft,"f").features[xs].signIn(e)}catch(r){throw new U1(r==null?void 0:r.message,r)}if(!t)throw new U1;return Ze(this,mn,"m",Zc).call(this,t.account),t}catch(t){throw this.emit("error",t),t}};const TO=fN;var NO=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},CO=function(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t},Yc;let Sr;const Oh=new Set;function OO(n){Vu=void 0,Oh.add(n)}function BO(n){Vu=void 0,Oh.delete(n)}const _a={};function LO(){if(Sr||(Sr=Object.freeze({register:X1,get:PO,on:UO}),typeof window>"u"))return Sr;const n=Object.freeze({register:X1});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new DO(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Sr}function X1(...n){var e;return n=n.filter(t=>!Oh.has(t)),n.length?(n.forEach(t=>OO(t)),(e=_a.register)==null||e.forEach(t=>Op(()=>t(...n))),function(){var r;n.forEach(o=>BO(o)),(r=_a.unregister)==null||r.forEach(o=>Op(()=>o(...n)))}):()=>{}}let Vu;function PO(){return Vu||(Vu=[...Oh]),Vu}function UO(n,e){var t;return(t=_a[n])!=null&&t.push(e)||(_a[n]=[e]),function(){var o;_a[n]=(o=_a[n])==null?void 0:o.filter(i=>e!==i)}}function Op(n){try{n()}catch(e){console.error(e)}}class DO extends Event{get detail(){return NO(this,Yc,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),Yc.set(this,void 0),CO(this,Yc,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Yc=new WeakMap;function zO(){if(Sr||(Sr=LO(),typeof window>"u"))return Sr;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),Sr;const{register:e}=Sr,t=(...r)=>r.forEach(o=>Op(()=>o({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),Sr}return t(...n),Sr}function FO(n){const e=Q1(()=>new Set),{get:t,on:r}=Q1(()=>zO()),[o,i]=ce.useState(()=>J1(t()));ce.useEffect(()=>{const c=[r("register",(...h)=>i(w=>[...w,...J1(h)])),r("unregister",(...h)=>i(w=>w.filter(_=>h.some(A=>A===_.wallet))))];return()=>c.forEach(h=>h())},[r]);const u=WO(o);return ce.useEffect(()=>{if(!u)return;const c=new Set(o);new Set(u.filter(w=>!c.has(w))).forEach(w=>w.destroy())},[u,o]),ce.useEffect(()=>()=>o.forEach(c=>c.destroy()),[]),ce.useMemo(()=>[...o,...n.filter(({name:c})=>o.some(h=>h.name===c)?(e.has(c)||(e.add(c),console.warn(`${c} was registered as a Standard Wallet. The Wallet Adapter for ${c} can be removed from your app.`)),!1):!0)],[o,n,e])}function Q1(n){const e=ce.useRef(void 0);return e.current===void 0&&(e.current={value:n()}),e.current.value}function WO(n){const e=ce.useRef(void 0);return ce.useEffect(()=>{e.current=n}),e.current}function J1(n){return n.filter(TO).map(e=>new IO({wallet:e}))}var Ca;(function(n){n[n.DESKTOP_WEB=0]="DESKTOP_WEB",n[n.MOBILE_WEB=1]="MOBILE_WEB"})(Ca||(Ca={}));function HO(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function KO({adapters:n,userAgentString:e}){return n.some(t=>t.name!==Gc&&t.readyState===mt.Installed)?Ca.DESKTOP_WEB:e&&/android/i.test(e)&&!HO(e)?Ca.MOBILE_WEB:Ca.DESKTOP_WEB}function jO(n){return n?/devnet/i.test(n)?"devnet":/testnet/i.test(n)?"testnet":"mainnet-beta":"mainnet-beta"}function VO({children:n,wallets:e,adapter:t,isUnloadingRef:r,onAutoConnectRequest:o,onConnectError:i,onError:u,onSelectWallet:c}){const h=ce.useRef(!1),[w,_]=ce.useState(!1),A=ce.useRef(!1),[R,b]=ce.useState(!1),[x,C]=ce.useState(()=>(t==null?void 0:t.publicKey)??null),[O,k]=ce.useState(()=>(t==null?void 0:t.connected)??!1),T=ce.useRef(u);ce.useEffect(()=>(T.current=u,()=>{T.current=void 0}),[u]);const I=ce.useRef((l,f)=>(r.current||(T.current?T.current(l,f):(console.error(l,f),l instanceof qa&&typeof window<"u"&&f&&window.open(f.url,"_blank"))),l)),[B,P]=ce.useState(()=>e.map(l=>({adapter:l,readyState:l.readyState})).filter(({readyState:l})=>l!==mt.Unsupported));ce.useEffect(()=>{P(f=>e.map((p,g)=>{const v=f[g];return v&&v.adapter===p&&v.readyState===p.readyState?v:{adapter:p,readyState:p.readyState}}).filter(({readyState:p})=>p!==mt.Unsupported));function l(f){P(p=>{const g=p.findIndex(({adapter:E})=>E===this);if(g===-1)return p;const{adapter:v}=p[g];return[...p.slice(0,g),{adapter:v,readyState:f},...p.slice(g+1)].filter(({readyState:E})=>E!==mt.Unsupported)})}return e.forEach(f=>f.on("readyStateChange",l,f)),()=>{e.forEach(f=>f.off("readyStateChange",l,f))}},[t,e]);const U=ce.useMemo(()=>B.find(l=>l.adapter===t)??null,[t,B]);ce.useEffect(()=>{if(!t)return;const l=g=>{C(g),h.current=!1,_(!1),k(!0),A.current=!1,b(!1)},f=()=>{r.current||(C(null),h.current=!1,_(!1),k(!1),A.current=!1,b(!1))},p=g=>{I.current(g,t)};return t.on("connect",l),t.on("disconnect",f),t.on("error",p),()=>{t.off("connect",l),t.off("disconnect",f),t.off("error",p),f()}},[t,r]);const F=ce.useRef(!1);ce.useEffect(()=>()=>{F.current=!1},[t]),ce.useEffect(()=>{F.current||h.current||O||!o||!((U==null?void 0:U.readyState)===mt.Installed||(U==null?void 0:U.readyState)===mt.Loadable)||(h.current=!0,_(!0),F.current=!0,async function(){try{await o()}catch{i()}finally{_(!1),h.current=!1}}())},[O,o,i,U]);const j=ce.useCallback(async(l,f,p)=>{if(!t)throw I.current(new D1);if(!O)throw I.current(new dr,t);return await t.sendTransaction(l,f,p)},[t,O]),V=ce.useMemo(()=>t&&"signTransaction"in t?async l=>{if(!O)throw I.current(new dr,t);return await t.signTransaction(l)}:void 0,[t,O]),G=ce.useMemo(()=>t&&"signAllTransactions"in t?async l=>{if(!O)throw I.current(new dr,t);return await t.signAllTransactions(l)}:void 0,[t,O]),H=ce.useMemo(()=>t&&"signMessage"in t?async l=>{if(!O)throw I.current(new dr,t);return await t.signMessage(l)}:void 0,[t,O]),Z=ce.useMemo(()=>t&&"signIn"in t?async l=>await t.signIn(l):void 0,[t]),m=ce.useCallback(async()=>{if(h.current||A.current||U!=null&&U.adapter.connected)return;if(!U)throw I.current(new D1);const{adapter:l,readyState:f}=U;if(!(f===mt.Installed||f===mt.Loadable))throw I.current(new qa,l);h.current=!0,_(!0);try{await l.connect()}catch(p){throw i(),p}finally{_(!1),h.current=!1}},[i,U]),s=ce.useCallback(async()=>{if(!A.current&&t){A.current=!0,b(!0);try{await t.disconnect()}finally{b(!1),A.current=!1}}},[t]);return le.createElement(eb.Provider,{value:{autoConnect:!!o,wallets:B,wallet:U,publicKey:x,connected:O,connecting:w,disconnecting:R,select:c,connect:m,disconnect:s,sendTransaction:j,signTransaction:V,signAllTransactions:G,signMessage:H,signIn:Z}},n)}let $d;function $O(){var n;return $d===void 0&&($d=((n=globalThis.navigator)==null?void 0:n.userAgent)??null),$d}function ew(n){const e=$O();return KO({adapters:n,userAgentString:e})===Ca.MOBILE_WEB}function qO(){const n=globalThis.location;if(n)return`${n.protocol}//${n.host}`}function GO({children:n,wallets:e,autoConnect:t,localStorageKey:r="walletName",onError:o}){const{connection:i}=oN(),u=FO(e),c=ce.useMemo(()=>{if(!ew(u))return null;const T=u.find(I=>I.name===Gc);return T||new _O({addressSelector:EO(),appIdentity:{uri:qO()},authorizationResultCache:bO(),cluster:jO(i==null?void 0:i.rpcEndpoint),onWalletNotFound:MO()})},[u,i==null?void 0:i.rpcEndpoint]),h=ce.useMemo(()=>c==null||u.indexOf(c)!==-1?u:[c,...u],[u,c]),[w,_]=pN(r,null),A=ce.useMemo(()=>h.find(T=>T.name===w)??null,[h,w]),R=ce.useCallback(T=>{w!==T&&(A&&A.name!==Gc&&A.disconnect(),_(T))},[A,_,w]);ce.useEffect(()=>{if(!A)return;function T(){C.current||_(null)}return A.on("disconnect",T),()=>{A.off("disconnect",T)}},[A,u,_,w]);const b=ce.useRef(!1),x=ce.useMemo(()=>{if(!(!t||!A))return async()=>{(t===!0||await t(A))&&(b.current?await A.connect():await A.autoConnect())}},[t,A]),C=ce.useRef(!1);ce.useEffect(()=>{if(w===Gc&&ew(u)){C.current=!1;return}function T(){C.current=!0}return window.addEventListener("beforeunload",T),()=>{window.removeEventListener("beforeunload",T)}},[u,w]);const O=ce.useCallback(()=>{A&&R(null)},[A,R]),k=ce.useCallback(T=>{b.current=!0,R(T)},[R]);return le.createElement(VO,{wallets:h,adapter:A,isUnloadingRef:C,onAutoConnectRequest:x,onConnectError:O,onError:o,onSelectWallet:k},n)}const Tb={setVisible(n){console.error(Nb("call","setVisible"))},visible:!1};Object.defineProperty(Tb,"visible",{get(){return console.error(Nb("read","visible")),!1}});function Nb(n,e){return`You have tried to  ${n} "${e}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const Cb=ce.createContext(Tb);function Ob(){return ce.useContext(Cb)}function ZO({onSelectWallet:n}){const{connect:e,connected:t,connecting:r,disconnect:o,disconnecting:i,publicKey:u,select:c,wallet:h,wallets:w}=Mg();let _;r?_="connecting":t?_="connected":i?_="disconnecting":h?_="has-wallet":_="no-wallet";const A=ce.useCallback(()=>{e().catch(()=>{})},[e]),R=ce.useCallback(()=>{o().catch(()=>{})},[o]),b=ce.useCallback(()=>{n({onSelectWallet:c,wallets:w})},[n,c,w]);return{buttonState:_,onConnect:_==="has-wallet"?A:void 0,onDisconnect:_!=="disconnecting"&&_!=="no-wallet"?R:void 0,onSelectWallet:b,publicKey:u??void 0,walletIcon:h==null?void 0:h.adapter.icon,walletName:h==null?void 0:h.adapter.name}}const Bb=n=>le.createElement("button",{className:`wallet-adapter-button ${n.className||""}`,disabled:n.disabled,style:n.style,onClick:n.onClick,tabIndex:n.tabIndex||0,type:"button"},n.startIcon&&le.createElement("i",{className:"wallet-adapter-button-start-icon"},n.startIcon),n.children,n.endIcon&&le.createElement("i",{className:"wallet-adapter-button-end-icon"},n.endIcon)),Lb=({wallet:n,...e})=>n&&le.createElement("img",{src:n.adapter.icon,alt:`${n.adapter.name} icon`,...e});function YO({walletIcon:n,walletName:e,...t}){return le.createElement(Bb,{...t,className:"wallet-adapter-button-trigger",startIcon:n&&e?le.createElement(Lb,{wallet:{adapter:{icon:n,name:e}}}):void 0})}function XO({children:n,labels:e,...t}){const{setVisible:r}=Ob(),{buttonState:o,onConnect:i,onDisconnect:u,publicKey:c,walletIcon:h,walletName:w}=ZO({onSelectWallet(){r(!0)}}),[_,A]=ce.useState(!1),[R,b]=ce.useState(!1),x=ce.useRef(null);ce.useEffect(()=>{const O=k=>{const T=x.current;!T||T.contains(k.target)||b(!1)};return document.addEventListener("mousedown",O),document.addEventListener("touchstart",O),()=>{document.removeEventListener("mousedown",O),document.removeEventListener("touchstart",O)}},[]);const C=ce.useMemo(()=>{if(n)return n;if(c){const O=c.toBase58();return O.slice(0,4)+".."+O.slice(-4)}else return o==="connecting"||o==="has-wallet"?e[o]:e["no-wallet"]},[o,n,e,c]);return le.createElement("div",{className:"wallet-adapter-dropdown"},le.createElement(YO,{...t,"aria-expanded":R,style:{pointerEvents:R?"none":"auto",...t.style},onClick:()=>{switch(o){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":b(!0);break}},walletIcon:h,walletName:w},C),le.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${R&&"wallet-adapter-dropdown-list-active"}`,ref:x,role:"menu"},c?le.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(c.toBase58()),A(!0),setTimeout(()=>A(!1),400)},role:"menuitem"},_?e.copied:e["copy-address"]):null,le.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),b(!1)},role:"menuitem"},e["change-wallet"]),u?le.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{u(),b(!1)},role:"menuitem"},e.disconnect):null))}const tw=({id:n,children:e,expanded:t=!1})=>{const r=ce.useRef(null),o=ce.useRef(!0),i="height 250ms ease-out",u=()=>{const h=r.current;h&&requestAnimationFrame(()=>{h.style.height=h.scrollHeight+"px"})},c=()=>{const h=r.current;h&&requestAnimationFrame(()=>{h.style.height=h.offsetHeight+"px",h.style.overflow="hidden",requestAnimationFrame(()=>{h.style.height="0"})})};return ce.useLayoutEffect(()=>{t?u():c()},[t]),ce.useLayoutEffect(()=>{const h=r.current;if(!h)return;function w(){h&&(h.style.overflow=t?"initial":"hidden",t&&(h.style.height="auto"))}function _(A){h&&A.target===h&&A.propertyName==="height"&&w()}return o.current&&(w(),o.current=!1),h.addEventListener("transitionend",_),()=>h.removeEventListener("transitionend",_)},[t]),le.createElement("div",{className:"wallet-adapter-collapse",id:n,ref:r,role:"region",style:{height:0,transition:o.current?void 0:i}},e)},qd=({handleClick:n,tabIndex:e,wallet:t})=>le.createElement("li",null,le.createElement(Bb,{onClick:n,startIcon:le.createElement(Lb,{wallet:t}),tabIndex:e},t.adapter.name,t.readyState===mt.Installed&&le.createElement("span",null,"Detected"))),QO=()=>le.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),le.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),le.createElement("g",{clipPath:"url(#clip0_880_5115)"},le.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),le.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),le.createElement("defs",null,le.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},le.createElement("stop",{stopColor:"#9945FF"}),le.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),le.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),le.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),le.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),le.createElement("stop",{offset:"1",stopColor:"#00D18C"})),le.createElement("clipPath",{id:"clip0_880_5115"},le.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),JO=({className:n="",container:e="body"})=>{const t=ce.useRef(null),{wallets:r,select:o}=Mg(),{setVisible:i}=Ob(),[u,c]=ce.useState(!1),[h,w]=ce.useState(!1),[_,A]=ce.useState(null),[R,b]=ce.useMemo(()=>{const I=[],B=[];for(const P of r)P.readyState===mt.Installed?I.push(P):B.push(P);return I.length?[I,B]:[B,[]]},[r]),x=ce.useCallback(()=>{w(!1),setTimeout(()=>i(!1),150)},[i]),C=ce.useCallback(I=>{I.preventDefault(),x()},[x]),O=ce.useCallback((I,B)=>{o(B),C(I)},[o,C]),k=ce.useCallback(()=>c(!u),[u]),T=ce.useCallback(I=>{const B=t.current;if(!B)return;const P=B.querySelectorAll("button"),U=P[0],F=P[P.length-1];I.shiftKey?document.activeElement===U&&(F.focus(),I.preventDefault()):document.activeElement===F&&(U.focus(),I.preventDefault())},[t]);return ce.useLayoutEffect(()=>{const I=P=>{P.key==="Escape"?x():P.key==="Tab"&&T(P)},{overflow:B}=window.getComputedStyle(document.body);return setTimeout(()=>w(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",I,!1),()=>{document.body.style.overflow=B,window.removeEventListener("keydown",I,!1)}},[x,T]),ce.useLayoutEffect(()=>A(document.querySelector(e)),[e]),_&&rE.createPortal(le.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${h&&"wallet-adapter-modal-fade-in"} ${n}`,ref:t,role:"dialog"},le.createElement("div",{className:"wallet-adapter-modal-container"},le.createElement("div",{className:"wallet-adapter-modal-wrapper"},le.createElement("button",{onClick:C,className:"wallet-adapter-modal-button-close"},le.createElement("svg",{width:"14",height:"14"},le.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),R.length?le.createElement(le.Fragment,null,le.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),le.createElement("ul",{className:"wallet-adapter-modal-list"},R.map(I=>le.createElement(qd,{key:I.adapter.name,handleClick:B=>O(B,I.adapter.name),wallet:I})),b.length?le.createElement(tw,{expanded:u,id:"wallet-adapter-modal-collapse"},b.map(I=>le.createElement(qd,{key:I.adapter.name,handleClick:B=>O(B,I.adapter.name),tabIndex:u?0:-1,wallet:I}))):null),b.length?le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},le.createElement("span",null,u?"Less ":"More ","options"),le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):le.createElement(le.Fragment,null,le.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),le.createElement("div",{className:"wallet-adapter-modal-middle"},le.createElement(QO,null)),b.length?le.createElement(le.Fragment,null,le.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:k,tabIndex:0},le.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),le.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${u?"wallet-adapter-modal-list-more-icon-rotate":""}`},le.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),le.createElement(tw,{expanded:u,id:"wallet-adapter-modal-collapse"},le.createElement("ul",{className:"wallet-adapter-modal-list"},b.map(I=>le.createElement(qd,{key:I.adapter.name,handleClick:B=>O(B,I.adapter.name),tabIndex:u?0:-1,wallet:I}))))):null))),le.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:C})),_)},e4=({children:n,...e})=>{const[t,r]=ce.useState(!1);return le.createElement(Cb.Provider,{value:{visible:t,setVisible:r}},n,t&&le.createElement(JO,{...e}))},t4={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function n4(n){return le.createElement(XO,{...n,labels:t4})}const r4="Phantom";class i4 extends J2{constructor(e={}){super(),this.name=r4,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?mt.Unsupported:mt.NotDetected,this._disconnected=()=>{const t=this._wallet;t&&(t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Y2),this.emit("disconnect"))},this._accountChanged=t=>{const r=this._publicKey;if(r){try{t=new re(t.toBytes())}catch(o){this.emit("error",new Lf(o==null?void 0:o.message,o));return}r.equals(t)||(this._publicKey=t,this.emit("connect",t))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==mt.Unsupported&&(uN()?(this._readyState=mt.Loadable,this.emit("readyStateChange",this._readyState)):aN(()=>{var t,r,o;return(r=(t=window.phantom)==null?void 0:t.solana)!=null&&r.isPhantom||(o=window.solana)!=null&&o.isPhantom?(this._readyState=mt.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===mt.Installed&&await this.connect()}async connect(){var e;try{if(this.connected||this.connecting)return;if(this.readyState===mt.Loadable){const o=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${o}?ref=${i}`;return}if(this.readyState!==mt.Installed)throw new qa;this._connecting=!0;const t=((e=window.phantom)==null?void 0:e.solana)||window.solana;if(!t.isConnected)try{await t.connect()}catch(o){throw new wl(o==null?void 0:o.message,o)}if(!t.publicKey)throw new ys;let r;try{r=new re(t.publicKey.toBytes())}catch(o){throw new Lf(o==null?void 0:o.message,o)}t.on("disconnect",this._disconnected),t.on("accountChanged",this._accountChanged),this._wallet=t,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new X2(t==null?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const o=this._wallet;if(!o)throw new dr;try{const{signers:i,...u}=r;No(e)?i!=null&&i.length&&e.sign(i):(e=await this.prepareTransaction(e,t,u),i!=null&&i.length&&e.partialSign(...i)),u.preflightCommitment=u.preflightCommitment||t.commitment;const{signature:c}=await o.signAndSendTransaction(e,u);return c}catch(i){throw i instanceof Cn?i:new To(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(e){try{const t=this._wallet;if(!t)throw new dr;try{return await t.signTransaction(e)||e}catch(r){throw new Zi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const t=this._wallet;if(!t)throw new dr;try{return await t.signAllTransactions(e)||e}catch(r){throw new Zi(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const t=this._wallet;if(!t)throw new dr;try{const{signature:r}=await t.signMessage(e);return r}catch(r){throw new Eg(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}}}var Tg={exports:{}};Tg.exports;(function(n){(function(e,t){function r(m,s){if(!m)throw new Error(s||"Assertion failed")}function o(m,s){m.super_=s;var l=function(){};l.prototype=s.prototype,m.prototype=new l,m.prototype.constructor=m}function i(m,s,l){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(l=s,s=10),this._init(m||0,s||10,l||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=dh.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,l){return s.cmp(l)>0?s:l},i.min=function(s,l){return s.cmp(l)<0?s:l},i.prototype._init=function(s,l,f){if(typeof s=="number")return this._initNumber(s,l,f);if(typeof s=="object")return this._initArray(s,l,f);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(l===16?this._parseHex(s,p,f):(this._parseBase(s,l,p),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(s,l,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(s,l,f){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,v,E=0;if(f==="be")for(p=s.length-1,g=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(p=0,g=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function c(m,s){var l=m.charCodeAt(s);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+m)}function h(m,s,l){var f=c(m,l);return l-1>=s&&(f|=c(m,l-1)<<4),f}i.prototype._parseHex=function(s,l,f){this.length=Math.ceil((s.length-l)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,v=0,E;if(f==="be")for(p=s.length-1;p>=l;p-=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8;else{var d=s.length-l;for(p=d%2===0?l+1:l;p<s.length;p+=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8}this._strip()};function w(m,s,l,f){for(var p=0,g=0,v=Math.min(m.length,l),E=s;E<v;E++){var d=m.charCodeAt(E)-48;p*=f,d>=49?g=d-49+10:d>=17?g=d-17+10:g=d,r(d>=0&&g<f,"Invalid character"),p+=g}return p}i.prototype._parseBase=function(s,l,f){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=l)p++;p--,g=g/l|0;for(var v=s.length-f,E=v%p,d=Math.min(v,v-E)+f,a=0,y=f;y<d;y+=p)a=w(s,y,y+p,l),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(E!==0){var W=1;for(a=w(s,y,s.length,l),y=0;y<E;y++)W*=l;this.imuln(W),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var l=0;l<this.length;l++)s.words[l]=this.words[l];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(m,s){m.words=s.words,m.length=s.length,m.negative=s.negative,m.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,l){s=s||10,l=l|0||1;var f;if(s===16||s==="hex"){f="";for(var p=0,g=0,v=0;v<this.length;v++){var E=this.words[v],d=((E<<p|g)&16777215).toString(16);g=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),g!==0||v!==this.length-1?f=R[6-d.length]+d+f:f=d+f}for(g!==0&&(f=g.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=b[s],y=x[s];f="";var W=this.clone();for(W.negative=0;!W.isZero();){var D=W.modrn(y).toString(s);W=W.idivn(y),W.isZero()?f=D+f:f=R[a-D.length]+D+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(s,l){return this.toArrayLike(u,s,l)}),i.prototype.toArray=function(s,l){return this.toArrayLike(Array,s,l)};var C=function(s,l){return s.allocUnsafe?s.allocUnsafe(l):new s(l)};i.prototype.toArrayLike=function(s,l,f){this._strip();var p=this.byteLength(),g=f||Math.max(1,p);r(p<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var v=C(s,g),E=l==="le"?"LE":"BE";return this["_toArrayLike"+E](v,p),v},i.prototype._toArrayLikeLE=function(s,l){for(var f=0,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f++]=E&255,f<s.length&&(s[f++]=E>>8&255),f<s.length&&(s[f++]=E>>16&255),v===6?(f<s.length&&(s[f++]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f<s.length)for(s[f++]=p;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,l){for(var f=s.length-1,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f--]=E&255,f>=0&&(s[f--]=E>>8&255),f>=0&&(s[f--]=E>>16&255),v===6?(f>=0&&(s[f--]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f>=0)for(s[f--]=p;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var l=s,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(s){if(s===0)return 26;var l=s,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],l=this._countBits(s);return(this.length-1)*26+l};function O(m){for(var s=new Array(m.bitLength()),l=0;l<s.length;l++){var f=l/26|0,p=l%26;s[l]=m.words[f]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]|s.words[l];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var l;this.length>s.length?l=s:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=l.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var l,f;this.length>s.length?(l=this,f=s):(l=s,f=this);for(var p=0;p<f.length;p++)this.words[p]=l.words[p]^f.words[p];if(this!==l)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=l.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var l=Math.ceil(s/26)|0,f=s%26;this._expand(l),f>0&&l--;for(var p=0;p<l;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,l){r(typeof s=="number"&&s>=0);var f=s/26|0,p=s%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var l;if(this.negative!==0&&s.negative===0)return this.negative=0,l=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,l=this.isub(s),s.negative=1,l._normSign();var f,p;this.length>s.length?(f=this,p=s):(f=s,p=this);for(var g=0,v=0;v<p.length;v++)l=(f.words[v]|0)+(p.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;for(;g!==0&&v<f.length;v++)l=(f.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},i.prototype.add=function(s){var l;return s.negative!==0&&this.negative===0?(s.negative=0,l=this.sub(s),s.negative^=1,l):s.negative===0&&this.negative!==0?(this.negative=0,l=s.sub(this),this.negative=1,l):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var l=this.iadd(s);return s.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;f>0?(p=this,g=s):(p=s,g=this);for(var v=0,E=0;E<g.length;E++)l=(p.words[E]|0)-(g.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;for(;v!==0&&E<p.length;E++)l=(p.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;if(v===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(m,s,l){l.negative=s.negative^m.negative;var f=m.length+s.length|0;l.length=f,f=f-1|0;var p=m.words[0]|0,g=s.words[0]|0,v=p*g,E=v&67108863,d=v/67108864|0;l.words[0]=E;for(var a=1;a<f;a++){for(var y=d>>>26,W=d&67108863,D=Math.min(a,s.length-1),K=Math.max(0,a-m.length+1);K<=D;K++){var ae=a-K|0;p=m.words[ae]|0,g=s.words[K]|0,v=p*g+W,y+=v/67108864|0,W=v&67108863}l.words[a]=W|0,d=y|0}return d!==0?l.words[a]=d|0:l.length--,l._strip()}var T=function(s,l,f){var p=s.words,g=l.words,v=f.words,E=0,d,a,y,W=p[0]|0,D=W&8191,K=W>>>13,ae=p[1]|0,J=ae&8191,ee=ae>>>13,pt=p[2]|0,fe=pt&8191,he=pt>>>13,jt=p[3]|0,de=jt&8191,we=jt>>>13,wr=p[4]|0,me=wr&8191,ve=wr>>>13,vr=p[5]|0,ye=vr&8191,pe=vr>>>13,Dt=p[6]|0,ge=Dt&8191,_e=Dt>>>13,qt=p[7]|0,Ee=qt&8191,N=qt>>>13,M=p[8]|0,S=M&8191,L=M>>>13,$=p[9]|0,z=$&8191,q=$>>>13,Je=g[0]|0,ie=Je&8191,ne=Je>>>13,st=g[1]|0,te=st&8191,Se=st>>>13,Vr=g[2]|0,Me=Vr&8191,Ae=Vr>>>13,$r=g[3]|0,Re=$r&8191,xe=$r>>>13,qr=g[4]|0,ke=qr&8191,Ie=qr>>>13,Gr=g[5]|0,Te=Gr&8191,Ne=Gr>>>13,Zr=g[6]|0,Ce=Zr&8191,Oe=Zr>>>13,Yr=g[7]|0,Be=Yr&8191,Le=Yr>>>13,Xr=g[8]|0,Pe=Xr&8191,Ue=Xr>>>13,Qr=g[9]|0,De=Qr&8191,ze=Qr>>>13;f.negative=s.negative^l.negative,f.length=19,d=Math.imul(D,ie),a=Math.imul(D,ne),a=a+Math.imul(K,ie)|0,y=Math.imul(K,ne);var On=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(On>>>26)|0,On&=67108863,d=Math.imul(J,ie),a=Math.imul(J,ne),a=a+Math.imul(ee,ie)|0,y=Math.imul(ee,ne),d=d+Math.imul(D,te)|0,a=a+Math.imul(D,Se)|0,a=a+Math.imul(K,te)|0,y=y+Math.imul(K,Se)|0;var Bn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,d=Math.imul(fe,ie),a=Math.imul(fe,ne),a=a+Math.imul(he,ie)|0,y=Math.imul(he,ne),d=d+Math.imul(J,te)|0,a=a+Math.imul(J,Se)|0,a=a+Math.imul(ee,te)|0,y=y+Math.imul(ee,Se)|0,d=d+Math.imul(D,Me)|0,a=a+Math.imul(D,Ae)|0,a=a+Math.imul(K,Me)|0,y=y+Math.imul(K,Ae)|0;var Ln=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,d=Math.imul(de,ie),a=Math.imul(de,ne),a=a+Math.imul(we,ie)|0,y=Math.imul(we,ne),d=d+Math.imul(fe,te)|0,a=a+Math.imul(fe,Se)|0,a=a+Math.imul(he,te)|0,y=y+Math.imul(he,Se)|0,d=d+Math.imul(J,Me)|0,a=a+Math.imul(J,Ae)|0,a=a+Math.imul(ee,Me)|0,y=y+Math.imul(ee,Ae)|0,d=d+Math.imul(D,Re)|0,a=a+Math.imul(D,xe)|0,a=a+Math.imul(K,Re)|0,y=y+Math.imul(K,xe)|0;var Pn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,d=Math.imul(me,ie),a=Math.imul(me,ne),a=a+Math.imul(ve,ie)|0,y=Math.imul(ve,ne),d=d+Math.imul(de,te)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(we,te)|0,y=y+Math.imul(we,Se)|0,d=d+Math.imul(fe,Me)|0,a=a+Math.imul(fe,Ae)|0,a=a+Math.imul(he,Me)|0,y=y+Math.imul(he,Ae)|0,d=d+Math.imul(J,Re)|0,a=a+Math.imul(J,xe)|0,a=a+Math.imul(ee,Re)|0,y=y+Math.imul(ee,xe)|0,d=d+Math.imul(D,ke)|0,a=a+Math.imul(D,Ie)|0,a=a+Math.imul(K,ke)|0,y=y+Math.imul(K,Ie)|0;var Un=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,d=Math.imul(ye,ie),a=Math.imul(ye,ne),a=a+Math.imul(pe,ie)|0,y=Math.imul(pe,ne),d=d+Math.imul(me,te)|0,a=a+Math.imul(me,Se)|0,a=a+Math.imul(ve,te)|0,y=y+Math.imul(ve,Se)|0,d=d+Math.imul(de,Me)|0,a=a+Math.imul(de,Ae)|0,a=a+Math.imul(we,Me)|0,y=y+Math.imul(we,Ae)|0,d=d+Math.imul(fe,Re)|0,a=a+Math.imul(fe,xe)|0,a=a+Math.imul(he,Re)|0,y=y+Math.imul(he,xe)|0,d=d+Math.imul(J,ke)|0,a=a+Math.imul(J,Ie)|0,a=a+Math.imul(ee,ke)|0,y=y+Math.imul(ee,Ie)|0,d=d+Math.imul(D,Te)|0,a=a+Math.imul(D,Ne)|0,a=a+Math.imul(K,Te)|0,y=y+Math.imul(K,Ne)|0;var Dn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,d=Math.imul(ge,ie),a=Math.imul(ge,ne),a=a+Math.imul(_e,ie)|0,y=Math.imul(_e,ne),d=d+Math.imul(ye,te)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(pe,te)|0,y=y+Math.imul(pe,Se)|0,d=d+Math.imul(me,Me)|0,a=a+Math.imul(me,Ae)|0,a=a+Math.imul(ve,Me)|0,y=y+Math.imul(ve,Ae)|0,d=d+Math.imul(de,Re)|0,a=a+Math.imul(de,xe)|0,a=a+Math.imul(we,Re)|0,y=y+Math.imul(we,xe)|0,d=d+Math.imul(fe,ke)|0,a=a+Math.imul(fe,Ie)|0,a=a+Math.imul(he,ke)|0,y=y+Math.imul(he,Ie)|0,d=d+Math.imul(J,Te)|0,a=a+Math.imul(J,Ne)|0,a=a+Math.imul(ee,Te)|0,y=y+Math.imul(ee,Ne)|0,d=d+Math.imul(D,Ce)|0,a=a+Math.imul(D,Oe)|0,a=a+Math.imul(K,Ce)|0,y=y+Math.imul(K,Oe)|0;var zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,d=Math.imul(Ee,ie),a=Math.imul(Ee,ne),a=a+Math.imul(N,ie)|0,y=Math.imul(N,ne),d=d+Math.imul(ge,te)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(_e,te)|0,y=y+Math.imul(_e,Se)|0,d=d+Math.imul(ye,Me)|0,a=a+Math.imul(ye,Ae)|0,a=a+Math.imul(pe,Me)|0,y=y+Math.imul(pe,Ae)|0,d=d+Math.imul(me,Re)|0,a=a+Math.imul(me,xe)|0,a=a+Math.imul(ve,Re)|0,y=y+Math.imul(ve,xe)|0,d=d+Math.imul(de,ke)|0,a=a+Math.imul(de,Ie)|0,a=a+Math.imul(we,ke)|0,y=y+Math.imul(we,Ie)|0,d=d+Math.imul(fe,Te)|0,a=a+Math.imul(fe,Ne)|0,a=a+Math.imul(he,Te)|0,y=y+Math.imul(he,Ne)|0,d=d+Math.imul(J,Ce)|0,a=a+Math.imul(J,Oe)|0,a=a+Math.imul(ee,Ce)|0,y=y+Math.imul(ee,Oe)|0,d=d+Math.imul(D,Be)|0,a=a+Math.imul(D,Le)|0,a=a+Math.imul(K,Be)|0,y=y+Math.imul(K,Le)|0;var Fn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,d=Math.imul(S,ie),a=Math.imul(S,ne),a=a+Math.imul(L,ie)|0,y=Math.imul(L,ne),d=d+Math.imul(Ee,te)|0,a=a+Math.imul(Ee,Se)|0,a=a+Math.imul(N,te)|0,y=y+Math.imul(N,Se)|0,d=d+Math.imul(ge,Me)|0,a=a+Math.imul(ge,Ae)|0,a=a+Math.imul(_e,Me)|0,y=y+Math.imul(_e,Ae)|0,d=d+Math.imul(ye,Re)|0,a=a+Math.imul(ye,xe)|0,a=a+Math.imul(pe,Re)|0,y=y+Math.imul(pe,xe)|0,d=d+Math.imul(me,ke)|0,a=a+Math.imul(me,Ie)|0,a=a+Math.imul(ve,ke)|0,y=y+Math.imul(ve,Ie)|0,d=d+Math.imul(de,Te)|0,a=a+Math.imul(de,Ne)|0,a=a+Math.imul(we,Te)|0,y=y+Math.imul(we,Ne)|0,d=d+Math.imul(fe,Ce)|0,a=a+Math.imul(fe,Oe)|0,a=a+Math.imul(he,Ce)|0,y=y+Math.imul(he,Oe)|0,d=d+Math.imul(J,Be)|0,a=a+Math.imul(J,Le)|0,a=a+Math.imul(ee,Be)|0,y=y+Math.imul(ee,Le)|0,d=d+Math.imul(D,Pe)|0,a=a+Math.imul(D,Ue)|0,a=a+Math.imul(K,Pe)|0,y=y+Math.imul(K,Ue)|0;var Wn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,d=Math.imul(z,ie),a=Math.imul(z,ne),a=a+Math.imul(q,ie)|0,y=Math.imul(q,ne),d=d+Math.imul(S,te)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(L,te)|0,y=y+Math.imul(L,Se)|0,d=d+Math.imul(Ee,Me)|0,a=a+Math.imul(Ee,Ae)|0,a=a+Math.imul(N,Me)|0,y=y+Math.imul(N,Ae)|0,d=d+Math.imul(ge,Re)|0,a=a+Math.imul(ge,xe)|0,a=a+Math.imul(_e,Re)|0,y=y+Math.imul(_e,xe)|0,d=d+Math.imul(ye,ke)|0,a=a+Math.imul(ye,Ie)|0,a=a+Math.imul(pe,ke)|0,y=y+Math.imul(pe,Ie)|0,d=d+Math.imul(me,Te)|0,a=a+Math.imul(me,Ne)|0,a=a+Math.imul(ve,Te)|0,y=y+Math.imul(ve,Ne)|0,d=d+Math.imul(de,Ce)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(we,Ce)|0,y=y+Math.imul(we,Oe)|0,d=d+Math.imul(fe,Be)|0,a=a+Math.imul(fe,Le)|0,a=a+Math.imul(he,Be)|0,y=y+Math.imul(he,Le)|0,d=d+Math.imul(J,Pe)|0,a=a+Math.imul(J,Ue)|0,a=a+Math.imul(ee,Pe)|0,y=y+Math.imul(ee,Ue)|0,d=d+Math.imul(D,De)|0,a=a+Math.imul(D,ze)|0,a=a+Math.imul(K,De)|0,y=y+Math.imul(K,ze)|0;var Hn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,d=Math.imul(z,te),a=Math.imul(z,Se),a=a+Math.imul(q,te)|0,y=Math.imul(q,Se),d=d+Math.imul(S,Me)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(L,Me)|0,y=y+Math.imul(L,Ae)|0,d=d+Math.imul(Ee,Re)|0,a=a+Math.imul(Ee,xe)|0,a=a+Math.imul(N,Re)|0,y=y+Math.imul(N,xe)|0,d=d+Math.imul(ge,ke)|0,a=a+Math.imul(ge,Ie)|0,a=a+Math.imul(_e,ke)|0,y=y+Math.imul(_e,Ie)|0,d=d+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Ne)|0,a=a+Math.imul(pe,Te)|0,y=y+Math.imul(pe,Ne)|0,d=d+Math.imul(me,Ce)|0,a=a+Math.imul(me,Oe)|0,a=a+Math.imul(ve,Ce)|0,y=y+Math.imul(ve,Oe)|0,d=d+Math.imul(de,Be)|0,a=a+Math.imul(de,Le)|0,a=a+Math.imul(we,Be)|0,y=y+Math.imul(we,Le)|0,d=d+Math.imul(fe,Pe)|0,a=a+Math.imul(fe,Ue)|0,a=a+Math.imul(he,Pe)|0,y=y+Math.imul(he,Ue)|0,d=d+Math.imul(J,De)|0,a=a+Math.imul(J,ze)|0,a=a+Math.imul(ee,De)|0,y=y+Math.imul(ee,ze)|0;var Kn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,d=Math.imul(z,Me),a=Math.imul(z,Ae),a=a+Math.imul(q,Me)|0,y=Math.imul(q,Ae),d=d+Math.imul(S,Re)|0,a=a+Math.imul(S,xe)|0,a=a+Math.imul(L,Re)|0,y=y+Math.imul(L,xe)|0,d=d+Math.imul(Ee,ke)|0,a=a+Math.imul(Ee,Ie)|0,a=a+Math.imul(N,ke)|0,y=y+Math.imul(N,Ie)|0,d=d+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Ne)|0,a=a+Math.imul(_e,Te)|0,y=y+Math.imul(_e,Ne)|0,d=d+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(pe,Ce)|0,y=y+Math.imul(pe,Oe)|0,d=d+Math.imul(me,Be)|0,a=a+Math.imul(me,Le)|0,a=a+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Le)|0,d=d+Math.imul(de,Pe)|0,a=a+Math.imul(de,Ue)|0,a=a+Math.imul(we,Pe)|0,y=y+Math.imul(we,Ue)|0,d=d+Math.imul(fe,De)|0,a=a+Math.imul(fe,ze)|0,a=a+Math.imul(he,De)|0,y=y+Math.imul(he,ze)|0;var jn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,d=Math.imul(z,Re),a=Math.imul(z,xe),a=a+Math.imul(q,Re)|0,y=Math.imul(q,xe),d=d+Math.imul(S,ke)|0,a=a+Math.imul(S,Ie)|0,a=a+Math.imul(L,ke)|0,y=y+Math.imul(L,Ie)|0,d=d+Math.imul(Ee,Te)|0,a=a+Math.imul(Ee,Ne)|0,a=a+Math.imul(N,Te)|0,y=y+Math.imul(N,Ne)|0,d=d+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(_e,Ce)|0,y=y+Math.imul(_e,Oe)|0,d=d+Math.imul(ye,Be)|0,a=a+Math.imul(ye,Le)|0,a=a+Math.imul(pe,Be)|0,y=y+Math.imul(pe,Le)|0,d=d+Math.imul(me,Pe)|0,a=a+Math.imul(me,Ue)|0,a=a+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,Ue)|0,d=d+Math.imul(de,De)|0,a=a+Math.imul(de,ze)|0,a=a+Math.imul(we,De)|0,y=y+Math.imul(we,ze)|0;var Vn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,d=Math.imul(z,ke),a=Math.imul(z,Ie),a=a+Math.imul(q,ke)|0,y=Math.imul(q,Ie),d=d+Math.imul(S,Te)|0,a=a+Math.imul(S,Ne)|0,a=a+Math.imul(L,Te)|0,y=y+Math.imul(L,Ne)|0,d=d+Math.imul(Ee,Ce)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(N,Ce)|0,y=y+Math.imul(N,Oe)|0,d=d+Math.imul(ge,Be)|0,a=a+Math.imul(ge,Le)|0,a=a+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Le)|0,d=d+Math.imul(ye,Pe)|0,a=a+Math.imul(ye,Ue)|0,a=a+Math.imul(pe,Pe)|0,y=y+Math.imul(pe,Ue)|0,d=d+Math.imul(me,De)|0,a=a+Math.imul(me,ze)|0,a=a+Math.imul(ve,De)|0,y=y+Math.imul(ve,ze)|0;var $n=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+($n>>>26)|0,$n&=67108863,d=Math.imul(z,Te),a=Math.imul(z,Ne),a=a+Math.imul(q,Te)|0,y=Math.imul(q,Ne),d=d+Math.imul(S,Ce)|0,a=a+Math.imul(S,Oe)|0,a=a+Math.imul(L,Ce)|0,y=y+Math.imul(L,Oe)|0,d=d+Math.imul(Ee,Be)|0,a=a+Math.imul(Ee,Le)|0,a=a+Math.imul(N,Be)|0,y=y+Math.imul(N,Le)|0,d=d+Math.imul(ge,Pe)|0,a=a+Math.imul(ge,Ue)|0,a=a+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,Ue)|0,d=d+Math.imul(ye,De)|0,a=a+Math.imul(ye,ze)|0,a=a+Math.imul(pe,De)|0,y=y+Math.imul(pe,ze)|0;var qn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(qn>>>26)|0,qn&=67108863,d=Math.imul(z,Ce),a=Math.imul(z,Oe),a=a+Math.imul(q,Ce)|0,y=Math.imul(q,Oe),d=d+Math.imul(S,Be)|0,a=a+Math.imul(S,Le)|0,a=a+Math.imul(L,Be)|0,y=y+Math.imul(L,Le)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ue)|0,a=a+Math.imul(N,Pe)|0,y=y+Math.imul(N,Ue)|0,d=d+Math.imul(ge,De)|0,a=a+Math.imul(ge,ze)|0,a=a+Math.imul(_e,De)|0,y=y+Math.imul(_e,ze)|0;var Gn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,d=Math.imul(z,Be),a=Math.imul(z,Le),a=a+Math.imul(q,Be)|0,y=Math.imul(q,Le),d=d+Math.imul(S,Pe)|0,a=a+Math.imul(S,Ue)|0,a=a+Math.imul(L,Pe)|0,y=y+Math.imul(L,Ue)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,ze)|0,a=a+Math.imul(N,De)|0,y=y+Math.imul(N,ze)|0;var Zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,d=Math.imul(z,Pe),a=Math.imul(z,Ue),a=a+Math.imul(q,Pe)|0,y=Math.imul(q,Ue),d=d+Math.imul(S,De)|0,a=a+Math.imul(S,ze)|0,a=a+Math.imul(L,De)|0,y=y+Math.imul(L,ze)|0;var Yn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,d=Math.imul(z,De),a=Math.imul(z,ze),a=a+Math.imul(q,De)|0,y=Math.imul(q,ze);var Xn=(E+d|0)+((a&8191)<<13)|0;return E=(y+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v[0]=On,v[1]=Bn,v[2]=Ln,v[3]=Pn,v[4]=Un,v[5]=Dn,v[6]=zn,v[7]=Fn,v[8]=Wn,v[9]=Hn,v[10]=Kn,v[11]=jn,v[12]=Vn,v[13]=$n,v[14]=qn,v[15]=Gn,v[16]=Zn,v[17]=Yn,v[18]=Xn,E!==0&&(v[19]=E,f.length++),f};Math.imul||(T=k);function I(m,s,l){l.negative=s.negative^m.negative,l.length=m.length+s.length;for(var f=0,p=0,g=0;g<l.length-1;g++){var v=p;p=0;for(var E=f&67108863,d=Math.min(g,s.length-1),a=Math.max(0,g-m.length+1);a<=d;a++){var y=g-a,W=m.words[y]|0,D=s.words[a]|0,K=W*D,ae=K&67108863;v=v+(K/67108864|0)|0,ae=ae+E|0,E=ae&67108863,v=v+(ae>>>26)|0,p+=v>>>26,v&=67108863}l.words[g]=E,f=v,v=p}return f!==0?l.words[g]=f:l.length--,l._strip()}function B(m,s,l){return I(m,s,l)}i.prototype.mulTo=function(s,l){var f,p=this.length+s.length;return this.length===10&&s.length===10?f=T(this,s,l):p<63?f=k(this,s,l):p<1024?f=I(this,s,l):f=B(this,s,l),f},i.prototype.mul=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),this.mulTo(s,l)},i.prototype.mulf=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),B(this,s,l)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var l=s<0;l&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var f=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*s,v=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=v>>>26,this.words[p]=v&67108863}return f!==0&&(this.words[p]=f,this.length++),this.length=s===0?1:this.length,l?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var l=O(s);if(l.length===0)return new i(1);for(var f=this,p=0;p<l.length&&l[p]===0;p++,f=f.sqr());if(++p<l.length)for(var g=f.sqr();p<l.length;p++,g=g.sqr())l[p]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=67108863>>>26-l<<26-l,g;if(l!==0){var v=0;for(g=0;g<this.length;g++){var E=this.words[g]&p,d=(this.words[g]|0)-E<<l;this.words[g]=d|v,v=E>>>26-l}v&&(this.words[g]=v,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,l,f){r(typeof s=="number"&&s>=0);var p;l?p=(l-l%26)/26:p=0;var g=s%26,v=Math.min((s-g)/26,this.length),E=67108863^67108863>>>g<<g,d=f;if(p-=v,p=Math.max(0,p),d){for(var a=0;a<v;a++)d.words[a]=this.words[a];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,a=0;a<this.length;a++)this.words[a]=this.words[a+v];else this.words[0]=0,this.length=1;var y=0;for(a=this.length-1;a>=0&&(y!==0||a>=p);a--){var W=this.words[a]|0;this.words[a]=y<<26-g|W>>>g,y=W&E}return d&&y!==0&&(d.words[d.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,l,f){return r(this.negative===0),this.iushrn(s,l,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return!1;var g=this.words[f];return!!(g&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var p=67108863^67108863>>>l<<l;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,l,f){var p=s.length+f,g;this._expand(p);var v,E=0;for(g=0;g<s.length;g++){v=(this.words[g+f]|0)+E;var d=(s.words[g]|0)*l;v-=d&67108863,E=(v>>26)-(d/67108864|0),this.words[g+f]=v&67108863}for(;g<this.length-f;g++)v=(this.words[g+f]|0)+E,E=v>>26,this.words[g+f]=v&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+E,E=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,l){var f=this.length-s.length,p=this.clone(),g=s,v=g.words[g.length-1]|0,E=this._countBits(v);f=26-E,f!==0&&(g=g.ushln(f),p.iushln(f),v=g.words[g.length-1]|0);var d=p.length-g.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var y=0;y<a.length;y++)a.words[y]=0}var W=p.clone()._ishlnsubmul(g,1,d);W.negative===0&&(p=W,a&&(a.words[d]=1));for(var D=d-1;D>=0;D--){var K=(p.words[g.length+D]|0)*67108864+(p.words[g.length+D-1]|0);for(K=Math.min(K/v|0,67108863),p._ishlnsubmul(g,K,D);p.negative!==0;)K--,p.negative=0,p._ishlnsubmul(g,1,D),p.isZero()||(p.negative^=1);a&&(a.words[D]=K)}return a&&a._strip(),p._strip(),l!=="div"&&f!==0&&p.iushrn(f),{div:a||null,mod:p}},i.prototype.divmod=function(s,l,f){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,l),l!=="mod"&&(p=v.div.neg()),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),l),l!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),l),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.isub(s)),{div:v.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?l==="div"?{div:this.divn(s.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,l)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var l=this.divmod(s);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(s):l.mod,p=s.ushrn(1),g=s.andln(1),v=f.cmp(p);return v<0||g===1&&v===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modrn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=(1<<26)%s,p=0,g=this.length-1;g>=0;g--)p=(f*p+(this.words[g]|0))%s;return l?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+f*67108864;this.words[p]=g/s|0,f=g%s}return this._strip(),l?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=new i(0),E=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),y=l.clone();!l.isZero();){for(var W=0,D=1;!(l.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(l.iushrn(W);W-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(a),g.isub(y)),p.iushrn(1),g.iushrn(1);for(var K=0,ae=1;!(f.words[0]&ae)&&K<26;++K,ae<<=1);if(K>0)for(f.iushrn(K);K-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(a),E.isub(y)),v.iushrn(1),E.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(v),g.isub(E)):(f.isub(l),v.isub(p),E.isub(g))}return{a:v,b:E,gcd:f.iushln(d)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,d=1;!(l.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(l.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var a=0,y=1;!(f.words[0]&y)&&a<26;++a,y<<=1);if(a>0)for(f.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(g)):(f.isub(l),g.isub(p))}var W;return l.cmpn(1)===0?W=p:W=g,W.cmpn(0)<0&&W.iadd(s),W},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var l=this.clone(),f=s.clone();l.negative=0,f.negative=0;for(var p=0;l.isEven()&&f.isEven();p++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=l.cmp(f);if(g<0){var v=l;l=f,f=v}else if(g===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var g=p,v=f;g!==0&&v<this.length;v++){var E=this.words[v]|0;E+=g,g=E>>>26,E&=67108863,this.words[v]=E}return g!==0&&(this.words[v]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var l=s<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var f;if(this.length>1)f=1;else{l&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;f=p===s?0:p<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var l=this.ucmp(s);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,g=s.words[f]|0;if(p!==g){p<g?l=-1:p>g&&(l=1);break}}return l},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new H(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var P={k256:null,p224:null,p192:null,p25519:null};function U(m,s){this.name=m,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},U.prototype.ireduce=function(s){var l=s,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var p=f<this.n?-1:l.ucmp(this.p);return p===0?(l.words[0]=0,l.length=1):p>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(s,l){s.iushrn(this.n,0,l)},U.prototype.imulK=function(s){return s.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,U),F.prototype.split=function(s,l){for(var f=4194303,p=Math.min(s.length,9),g=0;g<p;g++)l.words[g]=s.words[g];if(l.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(l.words[l.length++]=v&f,g=10;g<s.length;g++){var E=s.words[g]|0;s.words[g-10]=(E&f)<<4|v>>>22,v=E}v>>>=22,s.words[g-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},F.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var l=0,f=0;f<s.length;f++){var p=s.words[f]|0;l+=p*977,s.words[f]=l&67108863,l=p*64+(l/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,U);function V(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(G,U),G.prototype.imulK=function(s){for(var l=0,f=0;f<s.length;f++){var p=(s.words[f]|0)*19+l,g=p&67108863;p>>>=26,s.words[f]=g,l=p}return l!==0&&(s.words[s.length++]=l),s},i._prime=function(s){if(P[s])return P[s];var l;if(s==="k256")l=new F;else if(s==="p224")l=new j;else if(s==="p192")l=new V;else if(s==="p25519")l=new G;else throw new Error("Unknown prime "+s);return P[s]=l,l};function H(m){if(typeof m=="string"){var s=i._prime(m);this.m=s.p,this.prime=s}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}H.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},H.prototype._verify2=function(s,l){r((s.negative|l.negative)===0,"red works only with positives"),r(s.red&&s.red===l.red,"red works only with red numbers")},H.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},H.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},H.prototype.add=function(s,l){this._verify2(s,l);var f=s.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(s,l){this._verify2(s,l);var f=s.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(s,l){this._verify2(s,l);var f=s.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(s,l){this._verify2(s,l);var f=s.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(s,l){return this._verify1(s),this.imod(s.ushln(l))},H.prototype.imul=function(s,l){return this._verify2(s,l),this.imod(s.imul(l))},H.prototype.mul=function(s,l){return this._verify2(s,l),this.imod(s.mul(l))},H.prototype.isqr=function(s){return this.imul(s,s.clone())},H.prototype.sqr=function(s){return this.mul(s,s)},H.prototype.sqrt=function(s){if(s.isZero())return s.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),E=v.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(E)!==0;)a.redIAdd(E);for(var y=this.pow(a,p),W=this.pow(s,p.addn(1).iushrn(1)),D=this.pow(s,p),K=g;D.cmp(v)!==0;){for(var ae=D,J=0;ae.cmp(v)!==0;J++)ae=ae.redSqr();r(J<K);var ee=this.pow(y,new i(1).iushln(K-J-1));W=W.redMul(ee),y=ee.redSqr(),D=D.redMul(y),K=J}return W},H.prototype.invm=function(s){var l=s._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},H.prototype.pow=function(s,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return s.clone();var f=4,p=new Array(1<<f);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var v=p[0],E=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),g=l.length-1;g>=0;g--){for(var y=l.words[g],W=a-1;W>=0;W--){var D=y>>W&1;if(v!==p[0]&&(v=this.sqr(v)),D===0&&E===0){d=0;continue}E<<=1,E|=D,d++,!(d!==f&&(g!==0||W!==0))&&(v=this.mul(v,p[E]),d=0,E=0)}a=26}return v},H.prototype.convertTo=function(s){var l=s.umod(this.m);return l===s?l.clone():l},H.prototype.convertFrom=function(s){var l=s.clone();return l.red=null,l},i.mont=function(s){return new Z(s)};function Z(m){H.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Z,H),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var l=this.imod(s.mul(this.rinv));return l.red=null,l},Z.prototype.imul=function(s,l){if(s.isZero()||l.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.mul=function(s,l){if(s.isZero()||l.isZero())return new i(0)._forceRed(this);var f=s.mul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.invm=function(s){var l=this.imod(s._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(n,Tn)})(Tg);var o4=Tg.exports;const Ft=oo(o4);var Ng={exports:{}};const s4=/[\p{Lu}]/u,a4=/[\p{Ll}]/u,nw=/^[\p{Lu}](?![\p{Lu}])/gu,Pb=/([\p{Alpha}\p{N}_]|$)/u,Ub=/[_.\- ]+/,u4=new RegExp("^"+Ub.source),rw=new RegExp(Ub.source+Pb.source,"gu"),iw=new RegExp("\\d+"+Pb.source,"gu"),l4=(n,e,t)=>{let r=!1,o=!1,i=!1;for(let u=0;u<n.length;u++){const c=n[u];r&&s4.test(c)?(n=n.slice(0,u)+"-"+n.slice(u),r=!1,i=o,o=!0,u++):o&&i&&a4.test(c)?(n=n.slice(0,u-1)+"-"+n.slice(u-1),i=o,o=!1,r=!0):(r=e(c)===c&&t(c)!==c,i=o,o=t(c)===c&&e(c)!==c)}return n},c4=(n,e)=>(nw.lastIndex=0,n.replace(nw,t=>e(t))),f4=(n,e)=>(rw.lastIndex=0,iw.lastIndex=0,n.replace(rw,(t,r)=>e(r)).replace(iw,t=>e(t))),Db=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(i=>i.trim()).filter(i=>i.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?i=>i.toLowerCase():i=>i.toLocaleLowerCase(e.locale),r=e.locale===!1?i=>i.toUpperCase():i=>i.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=l4(n,t,r)),n=n.replace(u4,""),e.preserveConsecutiveUppercase?n=c4(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),f4(n,r))};Ng.exports=Db;Ng.exports.default=Db;var h4=Ng.exports;const d4=oo(h4);var et={},je={};let vt=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};je.Layout=vt;function Cg(n,e){return e.property?n+"["+e.property+"]":n}je.nameWithProperty=Cg;function p4(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(n.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof vt))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}je.bindConstructorLayout=p4;let cr=class extends vt{isCount(){throw new Error("ExternalLayout is abstract")}};class zb extends cr{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}let Og=class extends cr{constructor(e,t,r){if(!(e instanceof vt))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ni||this.layout instanceof ao}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}},Ni=class extends vt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},ao=class extends vt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}};class js extends vt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class uu extends vt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const Bp=Math.pow(2,32);function Bh(n){const e=Math.floor(n/Bp),t=n-e*Bp;return{hi32:e,lo32:t}}function Lh(n,e){return n*Bp+e}let m4=class extends vt{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readUInt32LE(t+4);return Lh(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=Bh(e);return t.writeUInt32LE(o.lo32,r),t.writeUInt32LE(o.hi32,r+4),8}};class g4 extends vt{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32BE(t),o=e.readUInt32BE(t+4);return Lh(r,o)}encode(e,t,r){r===void 0&&(r=0);const o=Bh(e);return t.writeUInt32BE(o.hi32,r),t.writeUInt32BE(o.lo32,r+4),8}}let y4=class extends vt{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readInt32LE(t+4);return Lh(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=Bh(e);return t.writeUInt32LE(o.lo32,r),t.writeInt32LE(o.hi32,r+4),8}};class w4 extends vt{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readInt32BE(t),o=e.readUInt32BE(t+4);return Lh(r,o)}encode(e,t,r){r===void 0&&(r=0);const o=Bh(e);return t.writeInt32BE(o.hi32,r),t.writeUInt32BE(o.lo32,r+4),8}}class Fb extends vt{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatLE(e,r),4}}class Wb extends vt{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatBE(e,r),4}}class Hb extends vt{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleLE(e,r),8}}class Kb extends vt{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleBE(e,r),8}}class jb extends vt{constructor(e,t,r){if(!(e instanceof vt))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof cr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof cr)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0,o=this.count;if(o instanceof cr&&(o=o.decode(e,t)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let i=0;for(;i<o;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){t===void 0&&(t=0);const r=[];let o=0,i=this.count;for(i instanceof cr&&(i=i.decode(e,t));o<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return r}encode(e,t,r){r===void 0&&(r=0);const o=this.elementLayout,i=e.reduce((u,c)=>u+o.encode(c,t,r+u),0);return this.count instanceof cr&&this.count.encode(e.length,t,r),i}}let Vb=class extends vt{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((i,u)=>i&&u instanceof vt,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,u)=>i+u.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((o,i)=>{const u=i.getSpan(e,t);return t+=u,o+u},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const o=r;let i=0,u=0;for(const c of this.fields){let h=c.span;if(u=0<h?h:0,c.property!==void 0){const w=e[c.property];w!==void 0&&(u=c.encode(w,t,r),0>h&&(h=c.getSpan(t,r)))}i=r,r+=h}return i+u-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},Bg=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Kf=class extends Bg{constructor(e,t){if(!(e instanceof cr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}},Lg=class extends vt{constructor(e,t,r){const o=e instanceof Ni||e instanceof ao;if(o)e=new Kf(new Og(e));else if(e instanceof cr&&e.isCount())e=new Kf(e);else if(!(e instanceof Bg))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof vt))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&o&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=t,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return u(c)},this.configGetSourceVariant=function(c){u=c.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const o=this.discriminator,i=o.decode(e,t);let u=this.registry[i];if(u===void 0){let c=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[u.property]=this.defaultLayout.decode(e,t+c)}else r=u.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,u=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,r),c+u.encode(e[u.property],t,r+c)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new $b(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}},$b=class extends vt{constructor(e,t,r,o){if(!(e instanceof Lg))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof vt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),i+=this.layout.getSpan(t,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function oa(n){return 0>n&&(n+=4294967296),n}class Pg extends vt{constructor(e,t,r){if(!(e instanceof Ni||e instanceof ao))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(i){return o=oa(i),this},this._packedGetValue=function(){return o}}decode(e,t){const r=this.makeDestinationObject();t===void 0&&(t=0);const o=this.word.decode(e,t);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(o));return r}encode(e,t,r){r===void 0&&(r=0);const o=this.word.decode(t,r);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const u=e[i.property];u!==void 0&&i.encode(u)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new $u(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new qb(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class $u{constructor(e,t,r){if(!(e instanceof Pg))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,i=e.fields.reduce((u,c)=>u+c.bits,0);if(t+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-t),this.wordMask=oa(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return oa(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==oa(e&this.valueMask))throw new TypeError(Cg("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=oa(e<<this.start);this.container._packedSetValue(oa(t&~this.wordMask)|r)}}let qb=class extends $u{constructor(e,t){super(e,1,t)}decode(e,t){return!!$u.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),$u.prototype.encode.call(this,e)}},Gb=class extends vt{constructor(e,t){if(!(e instanceof cr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof cr||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof cr&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(Cg("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof cr&&this.length.encode(o,t,r),o}};class Zb extends vt{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t,r){t===void 0&&(t=0);let o=this.getSpan(e,t);return e.slice(t,t+o-1).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),i=o.length;if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),t[r+i]=0,i+1}}class Yb extends vt{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,r){t===void 0&&(t=0);let o=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+o).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new Buffer(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),i}}class Xb extends vt{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}je.ExternalLayout=cr;je.GreedyCount=zb;je.OffsetLayout=Og;je.UInt=Ni;je.UIntBE=ao;je.Int=js;je.IntBE=uu;je.Float=Fb;je.FloatBE=Wb;je.Double=Hb;je.DoubleBE=Kb;je.Sequence=jb;je.Structure=Vb;je.UnionDiscriminator=Bg;je.UnionLayoutDiscriminator=Kf;je.Union=Lg;je.VariantLayout=$b;je.BitStructure=Pg;je.BitField=$u;je.Boolean=qb;je.Blob=Gb;je.CString=Zb;je.UTF8=Yb;je.Constant=Xb;je.greedy=(n,e)=>new zb(n,e);je.offset=(n,e,t)=>new Og(n,e,t);je.u8=n=>new Ni(1,n);je.u16=n=>new Ni(2,n);je.u24=n=>new Ni(3,n);je.u32=n=>new Ni(4,n);je.u40=n=>new Ni(5,n);je.u48=n=>new Ni(6,n);je.nu64=n=>new m4(n);je.u16be=n=>new ao(2,n);je.u24be=n=>new ao(3,n);je.u32be=n=>new ao(4,n);je.u40be=n=>new ao(5,n);je.u48be=n=>new ao(6,n);je.nu64be=n=>new g4(n);je.s8=n=>new js(1,n);je.s16=n=>new js(2,n);je.s24=n=>new js(3,n);je.s32=n=>new js(4,n);je.s40=n=>new js(5,n);je.s48=n=>new js(6,n);je.ns64=n=>new y4(n);je.s16be=n=>new uu(2,n);je.s24be=n=>new uu(3,n);je.s32be=n=>new uu(4,n);je.s40be=n=>new uu(5,n);je.s48be=n=>new uu(6,n);je.ns64be=n=>new w4(n);je.f32=n=>new Fb(n);je.f32be=n=>new Wb(n);je.f64=n=>new Hb(n);je.f64be=n=>new Kb(n);je.struct=(n,e,t)=>new Vb(n,e,t);je.bits=(n,e,t)=>new Pg(n,e,t);je.seq=(n,e,t)=>new jb(n,e,t);je.union=(n,e,t)=>new Lg(n,e,t);je.unionLayoutDiscriminator=(n,e)=>new Kf(n,e);je.blob=(n,e)=>new Gb(n,e);je.cstr=n=>new Zb(n);je.utf8=(n,e)=>new Yb(n,e);je.const=(n,e)=>new Xb(n,e);const v4=qf(iN);var Ug={exports:{}};Ug.exports;(function(n){(function(e,t){function r(m,s){if(!m)throw new Error(s||"Assertion failed")}function o(m,s){m.super_=s;var l=function(){};l.prototype=s.prototype,m.prototype=new l,m.prototype.constructor=m}function i(m,s,l){if(i.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((s==="le"||s==="be")&&(l=s,s=10),this._init(m||0,s||10,l||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=dh.Buffer}catch{}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,l){return s.cmp(l)>0?s:l},i.min=function(s,l){return s.cmp(l)<0?s:l},i.prototype._init=function(s,l,f){if(typeof s=="number")return this._initNumber(s,l,f);if(typeof s=="object")return this._initArray(s,l,f);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),s=s.toString().replace(/\s+/g,"");var p=0;s[0]==="-"&&(p++,this.negative=1),p<s.length&&(l===16?this._parseHex(s,p,f):(this._parseBase(s,l,p),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(s,l,f){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(r(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(s,l,f){if(r(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g,v,E=0;if(f==="be")for(p=s.length-1,g=0;p>=0;p-=3)v=s[p]|s[p-1]<<8|s[p-2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);else if(f==="le")for(p=0,g=0;p<s.length;p+=3)v=s[p]|s[p+1]<<8|s[p+2]<<16,this.words[g]|=v<<E&67108863,this.words[g+1]=v>>>26-E&67108863,E+=24,E>=26&&(E-=26,g++);return this._strip()};function c(m,s){var l=m.charCodeAt(s);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+m)}function h(m,s,l){var f=c(m,l);return l-1>=s&&(f|=c(m,l-1)<<4),f}i.prototype._parseHex=function(s,l,f){this.length=Math.ceil((s.length-l)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var g=0,v=0,E;if(f==="be")for(p=s.length-1;p>=l;p-=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8;else{var d=s.length-l;for(p=d%2===0?l+1:l;p<s.length;p+=2)E=h(s,l,p)<<g,this.words[v]|=E&67108863,g>=18?(g-=18,v+=1,this.words[v]|=E>>>26):g+=8}this._strip()};function w(m,s,l,f){for(var p=0,g=0,v=Math.min(m.length,l),E=s;E<v;E++){var d=m.charCodeAt(E)-48;p*=f,d>=49?g=d-49+10:d>=17?g=d-17+10:g=d,r(d>=0&&g<f,"Invalid character"),p+=g}return p}i.prototype._parseBase=function(s,l,f){this.words=[0],this.length=1;for(var p=0,g=1;g<=67108863;g*=l)p++;p--,g=g/l|0;for(var v=s.length-f,E=v%p,d=Math.min(v,v-E)+f,a=0,y=f;y<d;y+=p)a=w(s,y,y+p,l),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(E!==0){var W=1;for(a=w(s,y,s.length,l),y=0;y<E;y++)W*=l;this.imuln(W),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var l=0;l<this.length;l++)s.words[l]=this.words[l];s.length=this.length,s.negative=this.negative,s.red=this.red};function _(m,s){m.words=s.words,m.length=s.length,m.negative=s.negative,m.red=s.red}if(i.prototype._move=function(s){_(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{i.prototype.inspect=A}else i.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,l){s=s||10,l=l|0||1;var f;if(s===16||s==="hex"){f="";for(var p=0,g=0,v=0;v<this.length;v++){var E=this.words[v],d=((E<<p|g)&16777215).toString(16);g=E>>>24-p&16777215,p+=2,p>=26&&(p-=26,v--),g!==0||v!==this.length-1?f=R[6-d.length]+d+f:f=d+f}for(g!==0&&(f=g.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(s===(s|0)&&s>=2&&s<=36){var a=b[s],y=x[s];f="";var W=this.clone();for(W.negative=0;!W.isZero();){var D=W.modrn(y).toString(s);W=W.idivn(y),W.isZero()?f=D+f:f=R[a-D.length]+D+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(s,l){return this.toArrayLike(u,s,l)}),i.prototype.toArray=function(s,l){return this.toArrayLike(Array,s,l)};var C=function(s,l){return s.allocUnsafe?s.allocUnsafe(l):new s(l)};i.prototype.toArrayLike=function(s,l,f){this._strip();var p=this.byteLength(),g=f||Math.max(1,p);r(p<=g,"byte array longer than desired length"),r(g>0,"Requested array length <= 0");var v=C(s,g),E=l==="le"?"LE":"BE";return this["_toArrayLike"+E](v,p),v},i.prototype._toArrayLikeLE=function(s,l){for(var f=0,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f++]=E&255,f<s.length&&(s[f++]=E>>8&255),f<s.length&&(s[f++]=E>>16&255),v===6?(f<s.length&&(s[f++]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f<s.length)for(s[f++]=p;f<s.length;)s[f++]=0},i.prototype._toArrayLikeBE=function(s,l){for(var f=s.length-1,p=0,g=0,v=0;g<this.length;g++){var E=this.words[g]<<v|p;s[f--]=E&255,f>=0&&(s[f--]=E>>8&255),f>=0&&(s[f--]=E>>16&255),v===6?(f>=0&&(s[f--]=E>>24&255),p=0,v=0):(p=E>>>24,v+=2)}if(f>=0)for(s[f--]=p;f>=0;)s[f--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var l=s,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(s){if(s===0)return 26;var l=s,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var s=this.words[this.length-1],l=this._countBits(s);return(this.length-1)*26+l};function O(m){for(var s=new Array(m.bitLength()),l=0;l<s.length;l++){var f=l/26|0,p=l%26;s[l]=m.words[f]>>>p&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(s+=f,f!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var l=0;l<s.length;l++)this.words[l]=this.words[l]|s.words[l];return this._strip()},i.prototype.ior=function(s){return r((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var l;this.length>s.length?l=s:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&s.words[f];return this.length=l.length,this._strip()},i.prototype.iand=function(s){return r((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var l,f;this.length>s.length?(l=this,f=s):(l=s,f=this);for(var p=0;p<f.length;p++)this.words[p]=l.words[p]^f.words[p];if(this!==l)for(;p<l.length;p++)this.words[p]=l.words[p];return this.length=l.length,this._strip()},i.prototype.ixor=function(s){return r((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){r(typeof s=="number"&&s>=0);var l=Math.ceil(s/26)|0,f=s%26;this._expand(l),f>0&&l--;for(var p=0;p<l;p++)this.words[p]=~this.words[p]&67108863;return f>0&&(this.words[p]=~this.words[p]&67108863>>26-f),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,l){r(typeof s=="number"&&s>=0);var f=s/26|0,p=s%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<p:this.words[f]=this.words[f]&~(1<<p),this._strip()},i.prototype.iadd=function(s){var l;if(this.negative!==0&&s.negative===0)return this.negative=0,l=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,l=this.isub(s),s.negative=1,l._normSign();var f,p;this.length>s.length?(f=this,p=s):(f=s,p=this);for(var g=0,v=0;v<p.length;v++)l=(f.words[v]|0)+(p.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;for(;g!==0&&v<f.length;v++)l=(f.words[v]|0)+g,this.words[v]=l&67108863,g=l>>>26;if(this.length=f.length,g!==0)this.words[this.length]=g,this.length++;else if(f!==this)for(;v<f.length;v++)this.words[v]=f.words[v];return this},i.prototype.add=function(s){var l;return s.negative!==0&&this.negative===0?(s.negative=0,l=this.sub(s),s.negative^=1,l):s.negative===0&&this.negative!==0?(this.negative=0,l=s.sub(this),this.negative=1,l):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var l=this.iadd(s);return s.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var f=this.cmp(s);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,g;f>0?(p=this,g=s):(p=s,g=this);for(var v=0,E=0;E<g.length;E++)l=(p.words[E]|0)-(g.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;for(;v!==0&&E<p.length;E++)l=(p.words[E]|0)+v,v=l>>26,this.words[E]=l&67108863;if(v===0&&E<p.length&&p!==this)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=Math.max(this.length,E),p!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function k(m,s,l){l.negative=s.negative^m.negative;var f=m.length+s.length|0;l.length=f,f=f-1|0;var p=m.words[0]|0,g=s.words[0]|0,v=p*g,E=v&67108863,d=v/67108864|0;l.words[0]=E;for(var a=1;a<f;a++){for(var y=d>>>26,W=d&67108863,D=Math.min(a,s.length-1),K=Math.max(0,a-m.length+1);K<=D;K++){var ae=a-K|0;p=m.words[ae]|0,g=s.words[K]|0,v=p*g+W,y+=v/67108864|0,W=v&67108863}l.words[a]=W|0,d=y|0}return d!==0?l.words[a]=d|0:l.length--,l._strip()}var T=function(s,l,f){var p=s.words,g=l.words,v=f.words,E=0,d,a,y,W=p[0]|0,D=W&8191,K=W>>>13,ae=p[1]|0,J=ae&8191,ee=ae>>>13,pt=p[2]|0,fe=pt&8191,he=pt>>>13,jt=p[3]|0,de=jt&8191,we=jt>>>13,wr=p[4]|0,me=wr&8191,ve=wr>>>13,vr=p[5]|0,ye=vr&8191,pe=vr>>>13,Dt=p[6]|0,ge=Dt&8191,_e=Dt>>>13,qt=p[7]|0,Ee=qt&8191,N=qt>>>13,M=p[8]|0,S=M&8191,L=M>>>13,$=p[9]|0,z=$&8191,q=$>>>13,Je=g[0]|0,ie=Je&8191,ne=Je>>>13,st=g[1]|0,te=st&8191,Se=st>>>13,Vr=g[2]|0,Me=Vr&8191,Ae=Vr>>>13,$r=g[3]|0,Re=$r&8191,xe=$r>>>13,qr=g[4]|0,ke=qr&8191,Ie=qr>>>13,Gr=g[5]|0,Te=Gr&8191,Ne=Gr>>>13,Zr=g[6]|0,Ce=Zr&8191,Oe=Zr>>>13,Yr=g[7]|0,Be=Yr&8191,Le=Yr>>>13,Xr=g[8]|0,Pe=Xr&8191,Ue=Xr>>>13,Qr=g[9]|0,De=Qr&8191,ze=Qr>>>13;f.negative=s.negative^l.negative,f.length=19,d=Math.imul(D,ie),a=Math.imul(D,ne),a=a+Math.imul(K,ie)|0,y=Math.imul(K,ne);var On=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(On>>>26)|0,On&=67108863,d=Math.imul(J,ie),a=Math.imul(J,ne),a=a+Math.imul(ee,ie)|0,y=Math.imul(ee,ne),d=d+Math.imul(D,te)|0,a=a+Math.imul(D,Se)|0,a=a+Math.imul(K,te)|0,y=y+Math.imul(K,Se)|0;var Bn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Bn>>>26)|0,Bn&=67108863,d=Math.imul(fe,ie),a=Math.imul(fe,ne),a=a+Math.imul(he,ie)|0,y=Math.imul(he,ne),d=d+Math.imul(J,te)|0,a=a+Math.imul(J,Se)|0,a=a+Math.imul(ee,te)|0,y=y+Math.imul(ee,Se)|0,d=d+Math.imul(D,Me)|0,a=a+Math.imul(D,Ae)|0,a=a+Math.imul(K,Me)|0,y=y+Math.imul(K,Ae)|0;var Ln=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,d=Math.imul(de,ie),a=Math.imul(de,ne),a=a+Math.imul(we,ie)|0,y=Math.imul(we,ne),d=d+Math.imul(fe,te)|0,a=a+Math.imul(fe,Se)|0,a=a+Math.imul(he,te)|0,y=y+Math.imul(he,Se)|0,d=d+Math.imul(J,Me)|0,a=a+Math.imul(J,Ae)|0,a=a+Math.imul(ee,Me)|0,y=y+Math.imul(ee,Ae)|0,d=d+Math.imul(D,Re)|0,a=a+Math.imul(D,xe)|0,a=a+Math.imul(K,Re)|0,y=y+Math.imul(K,xe)|0;var Pn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,d=Math.imul(me,ie),a=Math.imul(me,ne),a=a+Math.imul(ve,ie)|0,y=Math.imul(ve,ne),d=d+Math.imul(de,te)|0,a=a+Math.imul(de,Se)|0,a=a+Math.imul(we,te)|0,y=y+Math.imul(we,Se)|0,d=d+Math.imul(fe,Me)|0,a=a+Math.imul(fe,Ae)|0,a=a+Math.imul(he,Me)|0,y=y+Math.imul(he,Ae)|0,d=d+Math.imul(J,Re)|0,a=a+Math.imul(J,xe)|0,a=a+Math.imul(ee,Re)|0,y=y+Math.imul(ee,xe)|0,d=d+Math.imul(D,ke)|0,a=a+Math.imul(D,Ie)|0,a=a+Math.imul(K,ke)|0,y=y+Math.imul(K,Ie)|0;var Un=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Un>>>26)|0,Un&=67108863,d=Math.imul(ye,ie),a=Math.imul(ye,ne),a=a+Math.imul(pe,ie)|0,y=Math.imul(pe,ne),d=d+Math.imul(me,te)|0,a=a+Math.imul(me,Se)|0,a=a+Math.imul(ve,te)|0,y=y+Math.imul(ve,Se)|0,d=d+Math.imul(de,Me)|0,a=a+Math.imul(de,Ae)|0,a=a+Math.imul(we,Me)|0,y=y+Math.imul(we,Ae)|0,d=d+Math.imul(fe,Re)|0,a=a+Math.imul(fe,xe)|0,a=a+Math.imul(he,Re)|0,y=y+Math.imul(he,xe)|0,d=d+Math.imul(J,ke)|0,a=a+Math.imul(J,Ie)|0,a=a+Math.imul(ee,ke)|0,y=y+Math.imul(ee,Ie)|0,d=d+Math.imul(D,Te)|0,a=a+Math.imul(D,Ne)|0,a=a+Math.imul(K,Te)|0,y=y+Math.imul(K,Ne)|0;var Dn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Dn>>>26)|0,Dn&=67108863,d=Math.imul(ge,ie),a=Math.imul(ge,ne),a=a+Math.imul(_e,ie)|0,y=Math.imul(_e,ne),d=d+Math.imul(ye,te)|0,a=a+Math.imul(ye,Se)|0,a=a+Math.imul(pe,te)|0,y=y+Math.imul(pe,Se)|0,d=d+Math.imul(me,Me)|0,a=a+Math.imul(me,Ae)|0,a=a+Math.imul(ve,Me)|0,y=y+Math.imul(ve,Ae)|0,d=d+Math.imul(de,Re)|0,a=a+Math.imul(de,xe)|0,a=a+Math.imul(we,Re)|0,y=y+Math.imul(we,xe)|0,d=d+Math.imul(fe,ke)|0,a=a+Math.imul(fe,Ie)|0,a=a+Math.imul(he,ke)|0,y=y+Math.imul(he,Ie)|0,d=d+Math.imul(J,Te)|0,a=a+Math.imul(J,Ne)|0,a=a+Math.imul(ee,Te)|0,y=y+Math.imul(ee,Ne)|0,d=d+Math.imul(D,Ce)|0,a=a+Math.imul(D,Oe)|0,a=a+Math.imul(K,Ce)|0,y=y+Math.imul(K,Oe)|0;var zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(zn>>>26)|0,zn&=67108863,d=Math.imul(Ee,ie),a=Math.imul(Ee,ne),a=a+Math.imul(N,ie)|0,y=Math.imul(N,ne),d=d+Math.imul(ge,te)|0,a=a+Math.imul(ge,Se)|0,a=a+Math.imul(_e,te)|0,y=y+Math.imul(_e,Se)|0,d=d+Math.imul(ye,Me)|0,a=a+Math.imul(ye,Ae)|0,a=a+Math.imul(pe,Me)|0,y=y+Math.imul(pe,Ae)|0,d=d+Math.imul(me,Re)|0,a=a+Math.imul(me,xe)|0,a=a+Math.imul(ve,Re)|0,y=y+Math.imul(ve,xe)|0,d=d+Math.imul(de,ke)|0,a=a+Math.imul(de,Ie)|0,a=a+Math.imul(we,ke)|0,y=y+Math.imul(we,Ie)|0,d=d+Math.imul(fe,Te)|0,a=a+Math.imul(fe,Ne)|0,a=a+Math.imul(he,Te)|0,y=y+Math.imul(he,Ne)|0,d=d+Math.imul(J,Ce)|0,a=a+Math.imul(J,Oe)|0,a=a+Math.imul(ee,Ce)|0,y=y+Math.imul(ee,Oe)|0,d=d+Math.imul(D,Be)|0,a=a+Math.imul(D,Le)|0,a=a+Math.imul(K,Be)|0,y=y+Math.imul(K,Le)|0;var Fn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,d=Math.imul(S,ie),a=Math.imul(S,ne),a=a+Math.imul(L,ie)|0,y=Math.imul(L,ne),d=d+Math.imul(Ee,te)|0,a=a+Math.imul(Ee,Se)|0,a=a+Math.imul(N,te)|0,y=y+Math.imul(N,Se)|0,d=d+Math.imul(ge,Me)|0,a=a+Math.imul(ge,Ae)|0,a=a+Math.imul(_e,Me)|0,y=y+Math.imul(_e,Ae)|0,d=d+Math.imul(ye,Re)|0,a=a+Math.imul(ye,xe)|0,a=a+Math.imul(pe,Re)|0,y=y+Math.imul(pe,xe)|0,d=d+Math.imul(me,ke)|0,a=a+Math.imul(me,Ie)|0,a=a+Math.imul(ve,ke)|0,y=y+Math.imul(ve,Ie)|0,d=d+Math.imul(de,Te)|0,a=a+Math.imul(de,Ne)|0,a=a+Math.imul(we,Te)|0,y=y+Math.imul(we,Ne)|0,d=d+Math.imul(fe,Ce)|0,a=a+Math.imul(fe,Oe)|0,a=a+Math.imul(he,Ce)|0,y=y+Math.imul(he,Oe)|0,d=d+Math.imul(J,Be)|0,a=a+Math.imul(J,Le)|0,a=a+Math.imul(ee,Be)|0,y=y+Math.imul(ee,Le)|0,d=d+Math.imul(D,Pe)|0,a=a+Math.imul(D,Ue)|0,a=a+Math.imul(K,Pe)|0,y=y+Math.imul(K,Ue)|0;var Wn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Wn>>>26)|0,Wn&=67108863,d=Math.imul(z,ie),a=Math.imul(z,ne),a=a+Math.imul(q,ie)|0,y=Math.imul(q,ne),d=d+Math.imul(S,te)|0,a=a+Math.imul(S,Se)|0,a=a+Math.imul(L,te)|0,y=y+Math.imul(L,Se)|0,d=d+Math.imul(Ee,Me)|0,a=a+Math.imul(Ee,Ae)|0,a=a+Math.imul(N,Me)|0,y=y+Math.imul(N,Ae)|0,d=d+Math.imul(ge,Re)|0,a=a+Math.imul(ge,xe)|0,a=a+Math.imul(_e,Re)|0,y=y+Math.imul(_e,xe)|0,d=d+Math.imul(ye,ke)|0,a=a+Math.imul(ye,Ie)|0,a=a+Math.imul(pe,ke)|0,y=y+Math.imul(pe,Ie)|0,d=d+Math.imul(me,Te)|0,a=a+Math.imul(me,Ne)|0,a=a+Math.imul(ve,Te)|0,y=y+Math.imul(ve,Ne)|0,d=d+Math.imul(de,Ce)|0,a=a+Math.imul(de,Oe)|0,a=a+Math.imul(we,Ce)|0,y=y+Math.imul(we,Oe)|0,d=d+Math.imul(fe,Be)|0,a=a+Math.imul(fe,Le)|0,a=a+Math.imul(he,Be)|0,y=y+Math.imul(he,Le)|0,d=d+Math.imul(J,Pe)|0,a=a+Math.imul(J,Ue)|0,a=a+Math.imul(ee,Pe)|0,y=y+Math.imul(ee,Ue)|0,d=d+Math.imul(D,De)|0,a=a+Math.imul(D,ze)|0,a=a+Math.imul(K,De)|0,y=y+Math.imul(K,ze)|0;var Hn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,d=Math.imul(z,te),a=Math.imul(z,Se),a=a+Math.imul(q,te)|0,y=Math.imul(q,Se),d=d+Math.imul(S,Me)|0,a=a+Math.imul(S,Ae)|0,a=a+Math.imul(L,Me)|0,y=y+Math.imul(L,Ae)|0,d=d+Math.imul(Ee,Re)|0,a=a+Math.imul(Ee,xe)|0,a=a+Math.imul(N,Re)|0,y=y+Math.imul(N,xe)|0,d=d+Math.imul(ge,ke)|0,a=a+Math.imul(ge,Ie)|0,a=a+Math.imul(_e,ke)|0,y=y+Math.imul(_e,Ie)|0,d=d+Math.imul(ye,Te)|0,a=a+Math.imul(ye,Ne)|0,a=a+Math.imul(pe,Te)|0,y=y+Math.imul(pe,Ne)|0,d=d+Math.imul(me,Ce)|0,a=a+Math.imul(me,Oe)|0,a=a+Math.imul(ve,Ce)|0,y=y+Math.imul(ve,Oe)|0,d=d+Math.imul(de,Be)|0,a=a+Math.imul(de,Le)|0,a=a+Math.imul(we,Be)|0,y=y+Math.imul(we,Le)|0,d=d+Math.imul(fe,Pe)|0,a=a+Math.imul(fe,Ue)|0,a=a+Math.imul(he,Pe)|0,y=y+Math.imul(he,Ue)|0,d=d+Math.imul(J,De)|0,a=a+Math.imul(J,ze)|0,a=a+Math.imul(ee,De)|0,y=y+Math.imul(ee,ze)|0;var Kn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,d=Math.imul(z,Me),a=Math.imul(z,Ae),a=a+Math.imul(q,Me)|0,y=Math.imul(q,Ae),d=d+Math.imul(S,Re)|0,a=a+Math.imul(S,xe)|0,a=a+Math.imul(L,Re)|0,y=y+Math.imul(L,xe)|0,d=d+Math.imul(Ee,ke)|0,a=a+Math.imul(Ee,Ie)|0,a=a+Math.imul(N,ke)|0,y=y+Math.imul(N,Ie)|0,d=d+Math.imul(ge,Te)|0,a=a+Math.imul(ge,Ne)|0,a=a+Math.imul(_e,Te)|0,y=y+Math.imul(_e,Ne)|0,d=d+Math.imul(ye,Ce)|0,a=a+Math.imul(ye,Oe)|0,a=a+Math.imul(pe,Ce)|0,y=y+Math.imul(pe,Oe)|0,d=d+Math.imul(me,Be)|0,a=a+Math.imul(me,Le)|0,a=a+Math.imul(ve,Be)|0,y=y+Math.imul(ve,Le)|0,d=d+Math.imul(de,Pe)|0,a=a+Math.imul(de,Ue)|0,a=a+Math.imul(we,Pe)|0,y=y+Math.imul(we,Ue)|0,d=d+Math.imul(fe,De)|0,a=a+Math.imul(fe,ze)|0,a=a+Math.imul(he,De)|0,y=y+Math.imul(he,ze)|0;var jn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(jn>>>26)|0,jn&=67108863,d=Math.imul(z,Re),a=Math.imul(z,xe),a=a+Math.imul(q,Re)|0,y=Math.imul(q,xe),d=d+Math.imul(S,ke)|0,a=a+Math.imul(S,Ie)|0,a=a+Math.imul(L,ke)|0,y=y+Math.imul(L,Ie)|0,d=d+Math.imul(Ee,Te)|0,a=a+Math.imul(Ee,Ne)|0,a=a+Math.imul(N,Te)|0,y=y+Math.imul(N,Ne)|0,d=d+Math.imul(ge,Ce)|0,a=a+Math.imul(ge,Oe)|0,a=a+Math.imul(_e,Ce)|0,y=y+Math.imul(_e,Oe)|0,d=d+Math.imul(ye,Be)|0,a=a+Math.imul(ye,Le)|0,a=a+Math.imul(pe,Be)|0,y=y+Math.imul(pe,Le)|0,d=d+Math.imul(me,Pe)|0,a=a+Math.imul(me,Ue)|0,a=a+Math.imul(ve,Pe)|0,y=y+Math.imul(ve,Ue)|0,d=d+Math.imul(de,De)|0,a=a+Math.imul(de,ze)|0,a=a+Math.imul(we,De)|0,y=y+Math.imul(we,ze)|0;var Vn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,d=Math.imul(z,ke),a=Math.imul(z,Ie),a=a+Math.imul(q,ke)|0,y=Math.imul(q,Ie),d=d+Math.imul(S,Te)|0,a=a+Math.imul(S,Ne)|0,a=a+Math.imul(L,Te)|0,y=y+Math.imul(L,Ne)|0,d=d+Math.imul(Ee,Ce)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(N,Ce)|0,y=y+Math.imul(N,Oe)|0,d=d+Math.imul(ge,Be)|0,a=a+Math.imul(ge,Le)|0,a=a+Math.imul(_e,Be)|0,y=y+Math.imul(_e,Le)|0,d=d+Math.imul(ye,Pe)|0,a=a+Math.imul(ye,Ue)|0,a=a+Math.imul(pe,Pe)|0,y=y+Math.imul(pe,Ue)|0,d=d+Math.imul(me,De)|0,a=a+Math.imul(me,ze)|0,a=a+Math.imul(ve,De)|0,y=y+Math.imul(ve,ze)|0;var $n=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+($n>>>26)|0,$n&=67108863,d=Math.imul(z,Te),a=Math.imul(z,Ne),a=a+Math.imul(q,Te)|0,y=Math.imul(q,Ne),d=d+Math.imul(S,Ce)|0,a=a+Math.imul(S,Oe)|0,a=a+Math.imul(L,Ce)|0,y=y+Math.imul(L,Oe)|0,d=d+Math.imul(Ee,Be)|0,a=a+Math.imul(Ee,Le)|0,a=a+Math.imul(N,Be)|0,y=y+Math.imul(N,Le)|0,d=d+Math.imul(ge,Pe)|0,a=a+Math.imul(ge,Ue)|0,a=a+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,Ue)|0,d=d+Math.imul(ye,De)|0,a=a+Math.imul(ye,ze)|0,a=a+Math.imul(pe,De)|0,y=y+Math.imul(pe,ze)|0;var qn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(qn>>>26)|0,qn&=67108863,d=Math.imul(z,Ce),a=Math.imul(z,Oe),a=a+Math.imul(q,Ce)|0,y=Math.imul(q,Oe),d=d+Math.imul(S,Be)|0,a=a+Math.imul(S,Le)|0,a=a+Math.imul(L,Be)|0,y=y+Math.imul(L,Le)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ue)|0,a=a+Math.imul(N,Pe)|0,y=y+Math.imul(N,Ue)|0,d=d+Math.imul(ge,De)|0,a=a+Math.imul(ge,ze)|0,a=a+Math.imul(_e,De)|0,y=y+Math.imul(_e,ze)|0;var Gn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,d=Math.imul(z,Be),a=Math.imul(z,Le),a=a+Math.imul(q,Be)|0,y=Math.imul(q,Le),d=d+Math.imul(S,Pe)|0,a=a+Math.imul(S,Ue)|0,a=a+Math.imul(L,Pe)|0,y=y+Math.imul(L,Ue)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,ze)|0,a=a+Math.imul(N,De)|0,y=y+Math.imul(N,ze)|0;var Zn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,d=Math.imul(z,Pe),a=Math.imul(z,Ue),a=a+Math.imul(q,Pe)|0,y=Math.imul(q,Ue),d=d+Math.imul(S,De)|0,a=a+Math.imul(S,ze)|0,a=a+Math.imul(L,De)|0,y=y+Math.imul(L,ze)|0;var Yn=(E+d|0)+((a&8191)<<13)|0;E=(y+(a>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,d=Math.imul(z,De),a=Math.imul(z,ze),a=a+Math.imul(q,De)|0,y=Math.imul(q,ze);var Xn=(E+d|0)+((a&8191)<<13)|0;return E=(y+(a>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,v[0]=On,v[1]=Bn,v[2]=Ln,v[3]=Pn,v[4]=Un,v[5]=Dn,v[6]=zn,v[7]=Fn,v[8]=Wn,v[9]=Hn,v[10]=Kn,v[11]=jn,v[12]=Vn,v[13]=$n,v[14]=qn,v[15]=Gn,v[16]=Zn,v[17]=Yn,v[18]=Xn,E!==0&&(v[19]=E,f.length++),f};Math.imul||(T=k);function I(m,s,l){l.negative=s.negative^m.negative,l.length=m.length+s.length;for(var f=0,p=0,g=0;g<l.length-1;g++){var v=p;p=0;for(var E=f&67108863,d=Math.min(g,s.length-1),a=Math.max(0,g-m.length+1);a<=d;a++){var y=g-a,W=m.words[y]|0,D=s.words[a]|0,K=W*D,ae=K&67108863;v=v+(K/67108864|0)|0,ae=ae+E|0,E=ae&67108863,v=v+(ae>>>26)|0,p+=v>>>26,v&=67108863}l.words[g]=E,f=v,v=p}return f!==0?l.words[g]=f:l.length--,l._strip()}function B(m,s,l){return I(m,s,l)}i.prototype.mulTo=function(s,l){var f,p=this.length+s.length;return this.length===10&&s.length===10?f=T(this,s,l):p<63?f=k(this,s,l):p<1024?f=I(this,s,l):f=B(this,s,l),f},i.prototype.mul=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),this.mulTo(s,l)},i.prototype.mulf=function(s){var l=new i(null);return l.words=new Array(this.length+s.length),B(this,s,l)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var l=s<0;l&&(s=-s),r(typeof s=="number"),r(s<67108864);for(var f=0,p=0;p<this.length;p++){var g=(this.words[p]|0)*s,v=(g&67108863)+(f&67108863);f>>=26,f+=g/67108864|0,f+=v>>>26,this.words[p]=v&67108863}return f!==0&&(this.words[p]=f,this.length++),this.length=s===0?1:this.length,l?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var l=O(s);if(l.length===0)return new i(1);for(var f=this,p=0;p<l.length&&l[p]===0;p++,f=f.sqr());if(++p<l.length)for(var g=f.sqr();p<l.length;p++,g=g.sqr())l[p]!==0&&(f=f.mul(g));return f},i.prototype.iushln=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=67108863>>>26-l<<26-l,g;if(l!==0){var v=0;for(g=0;g<this.length;g++){var E=this.words[g]&p,d=(this.words[g]|0)-E<<l;this.words[g]=d|v,v=E>>>26-l}v&&(this.words[g]=v,this.length++)}if(f!==0){for(g=this.length-1;g>=0;g--)this.words[g+f]=this.words[g];for(g=0;g<f;g++)this.words[g]=0;this.length+=f}return this._strip()},i.prototype.ishln=function(s){return r(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,l,f){r(typeof s=="number"&&s>=0);var p;l?p=(l-l%26)/26:p=0;var g=s%26,v=Math.min((s-g)/26,this.length),E=67108863^67108863>>>g<<g,d=f;if(p-=v,p=Math.max(0,p),d){for(var a=0;a<v;a++)d.words[a]=this.words[a];d.length=v}if(v!==0)if(this.length>v)for(this.length-=v,a=0;a<this.length;a++)this.words[a]=this.words[a+v];else this.words[0]=0,this.length=1;var y=0;for(a=this.length-1;a>=0&&(y!==0||a>=p);a--){var W=this.words[a]|0;this.words[a]=y<<26-g|W>>>g,y=W&E}return d&&y!==0&&(d.words[d.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,l,f){return r(this.negative===0),this.iushrn(s,l,f)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return!1;var g=this.words[f];return!!(g&p)},i.prototype.imaskn=function(s){r(typeof s=="number"&&s>=0);var l=s%26,f=(s-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var p=67108863^67108863>>>l<<l;this.words[this.length-1]&=p}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return r(typeof s=="number"),r(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(s){if(r(typeof s=="number"),r(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,l,f){var p=s.length+f,g;this._expand(p);var v,E=0;for(g=0;g<s.length;g++){v=(this.words[g+f]|0)+E;var d=(s.words[g]|0)*l;v-=d&67108863,E=(v>>26)-(d/67108864|0),this.words[g+f]=v&67108863}for(;g<this.length-f;g++)v=(this.words[g+f]|0)+E,E=v>>26,this.words[g+f]=v&67108863;if(E===0)return this._strip();for(r(E===-1),E=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+E,E=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,l){var f=this.length-s.length,p=this.clone(),g=s,v=g.words[g.length-1]|0,E=this._countBits(v);f=26-E,f!==0&&(g=g.ushln(f),p.iushln(f),v=g.words[g.length-1]|0);var d=p.length-g.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var y=0;y<a.length;y++)a.words[y]=0}var W=p.clone()._ishlnsubmul(g,1,d);W.negative===0&&(p=W,a&&(a.words[d]=1));for(var D=d-1;D>=0;D--){var K=(p.words[g.length+D]|0)*67108864+(p.words[g.length+D-1]|0);for(K=Math.min(K/v|0,67108863),p._ishlnsubmul(g,K,D);p.negative!==0;)K--,p.negative=0,p._ishlnsubmul(g,1,D),p.isZero()||(p.negative^=1);a&&(a.words[D]=K)}return a&&a._strip(),p._strip(),l!=="div"&&f!==0&&p.iushrn(f),{div:a||null,mod:p}},i.prototype.divmod=function(s,l,f){if(r(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var p,g,v;return this.negative!==0&&s.negative===0?(v=this.neg().divmod(s,l),l!=="mod"&&(p=v.div.neg()),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.iadd(s)),{div:p,mod:g}):this.negative===0&&s.negative!==0?(v=this.divmod(s.neg(),l),l!=="mod"&&(p=v.div.neg()),{div:p,mod:v.mod}):this.negative&s.negative?(v=this.neg().divmod(s.neg(),l),l!=="div"&&(g=v.mod.neg(),f&&g.negative!==0&&g.isub(s)),{div:v.div,mod:g}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?l==="div"?{div:this.divn(s.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,l)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var l=this.divmod(s);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(s):l.mod,p=s.ushrn(1),g=s.andln(1),v=f.cmp(p);return v<0||g===1&&v===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modrn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=(1<<26)%s,p=0,g=this.length-1;g>=0;g--)p=(f*p+(this.words[g]|0))%s;return l?-p:p},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var l=s<0;l&&(s=-s),r(s<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var g=(this.words[p]|0)+f*67108864;this.words[p]=g/s|0,f=g%s}return this._strip(),l?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=new i(0),E=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),y=l.clone();!l.isZero();){for(var W=0,D=1;!(l.words[0]&D)&&W<26;++W,D<<=1);if(W>0)for(l.iushrn(W);W-- >0;)(p.isOdd()||g.isOdd())&&(p.iadd(a),g.isub(y)),p.iushrn(1),g.iushrn(1);for(var K=0,ae=1;!(f.words[0]&ae)&&K<26;++K,ae<<=1);if(K>0)for(f.iushrn(K);K-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(a),E.isub(y)),v.iushrn(1),E.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(v),g.isub(E)):(f.isub(l),v.isub(p),E.isub(g))}return{a:v,b:E,gcd:f.iushln(d)}},i.prototype._invmp=function(s){r(s.negative===0),r(!s.isZero());var l=this,f=s.clone();l.negative!==0?l=l.umod(s):l=l.clone();for(var p=new i(1),g=new i(0),v=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var E=0,d=1;!(l.words[0]&d)&&E<26;++E,d<<=1);if(E>0)for(l.iushrn(E);E-- >0;)p.isOdd()&&p.iadd(v),p.iushrn(1);for(var a=0,y=1;!(f.words[0]&y)&&a<26;++a,y<<=1);if(a>0)for(f.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);l.cmp(f)>=0?(l.isub(f),p.isub(g)):(f.isub(l),g.isub(p))}var W;return l.cmpn(1)===0?W=p:W=g,W.cmpn(0)<0&&W.iadd(s),W},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var l=this.clone(),f=s.clone();l.negative=0,f.negative=0;for(var p=0;l.isEven()&&f.isEven();p++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var g=l.cmp(f);if(g<0){var v=l;l=f,f=v}else if(g===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(p)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){r(typeof s=="number");var l=s%26,f=(s-l)/26,p=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=p,this;for(var g=p,v=f;g!==0&&v<this.length;v++){var E=this.words[v]|0;E+=g,g=E>>>26,E&=67108863,this.words[v]=E}return g!==0&&(this.words[v]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var l=s<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var f;if(this.length>1)f=1;else{l&&(s=-s),r(s<=67108863,"Number is too big");var p=this.words[0]|0;f=p===s?0:p<s?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var l=this.ucmp(s);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var p=this.words[f]|0,g=s.words[f]|0;if(p!==g){p<g?l=-1:p>g&&(l=1);break}}return l},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new H(s)},i.prototype.toRed=function(s){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return r(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return r(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var P={k256:null,p224:null,p192:null,p25519:null};function U(m,s){this.name=m,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},U.prototype.ireduce=function(s){var l=s,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var p=f<this.n?-1:l.ucmp(this.p);return p===0?(l.words[0]=0,l.length=1):p>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(s,l){s.iushrn(this.n,0,l)},U.prototype.imulK=function(s){return s.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(F,U),F.prototype.split=function(s,l){for(var f=4194303,p=Math.min(s.length,9),g=0;g<p;g++)l.words[g]=s.words[g];if(l.length=p,s.length<=9){s.words[0]=0,s.length=1;return}var v=s.words[9];for(l.words[l.length++]=v&f,g=10;g<s.length;g++){var E=s.words[g]|0;s.words[g-10]=(E&f)<<4|v>>>22,v=E}v>>>=22,s.words[g-10]=v,v===0&&s.length>10?s.length-=10:s.length-=9},F.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var l=0,f=0;f<s.length;f++){var p=s.words[f]|0;l+=p*977,s.words[f]=l&67108863,l=p*64+(l/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function j(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(j,U);function V(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(V,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(G,U),G.prototype.imulK=function(s){for(var l=0,f=0;f<s.length;f++){var p=(s.words[f]|0)*19+l,g=p&67108863;p>>>=26,s.words[f]=g,l=p}return l!==0&&(s.words[s.length++]=l),s},i._prime=function(s){if(P[s])return P[s];var l;if(s==="k256")l=new F;else if(s==="p224")l=new j;else if(s==="p192")l=new V;else if(s==="p25519")l=new G;else throw new Error("Unknown prime "+s);return P[s]=l,l};function H(m){if(typeof m=="string"){var s=i._prime(m);this.m=s.p,this.prime=s}else r(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}H.prototype._verify1=function(s){r(s.negative===0,"red works only with positives"),r(s.red,"red works only with red numbers")},H.prototype._verify2=function(s,l){r((s.negative|l.negative)===0,"red works only with positives"),r(s.red&&s.red===l.red,"red works only with red numbers")},H.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(_(s,s.umod(this.m)._forceRed(this)),s)},H.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},H.prototype.add=function(s,l){this._verify2(s,l);var f=s.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},H.prototype.iadd=function(s,l){this._verify2(s,l);var f=s.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},H.prototype.sub=function(s,l){this._verify2(s,l);var f=s.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},H.prototype.isub=function(s,l){this._verify2(s,l);var f=s.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},H.prototype.shl=function(s,l){return this._verify1(s),this.imod(s.ushln(l))},H.prototype.imul=function(s,l){return this._verify2(s,l),this.imod(s.imul(l))},H.prototype.mul=function(s,l){return this._verify2(s,l),this.imod(s.mul(l))},H.prototype.isqr=function(s){return this.imul(s,s.clone())},H.prototype.sqr=function(s){return this.mul(s,s)},H.prototype.sqrt=function(s){if(s.isZero())return s.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(s,f)}for(var p=this.m.subn(1),g=0;!p.isZero()&&p.andln(1)===0;)g++,p.iushrn(1);r(!p.isZero());var v=new i(1).toRed(this),E=v.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(E)!==0;)a.redIAdd(E);for(var y=this.pow(a,p),W=this.pow(s,p.addn(1).iushrn(1)),D=this.pow(s,p),K=g;D.cmp(v)!==0;){for(var ae=D,J=0;ae.cmp(v)!==0;J++)ae=ae.redSqr();r(J<K);var ee=this.pow(y,new i(1).iushln(K-J-1));W=W.redMul(ee),y=ee.redSqr(),D=D.redMul(y),K=J}return W},H.prototype.invm=function(s){var l=s._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},H.prototype.pow=function(s,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return s.clone();var f=4,p=new Array(1<<f);p[0]=new i(1).toRed(this),p[1]=s;for(var g=2;g<p.length;g++)p[g]=this.mul(p[g-1],s);var v=p[0],E=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),g=l.length-1;g>=0;g--){for(var y=l.words[g],W=a-1;W>=0;W--){var D=y>>W&1;if(v!==p[0]&&(v=this.sqr(v)),D===0&&E===0){d=0;continue}E<<=1,E|=D,d++,!(d!==f&&(g!==0||W!==0))&&(v=this.mul(v,p[E]),d=0,E=0)}a=26}return v},H.prototype.convertTo=function(s){var l=s.umod(this.m);return l===s?l.clone():l},H.prototype.convertFrom=function(s){var l=s.clone();return l.red=null,l},i.mont=function(s){return new Z(s)};function Z(m){H.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(Z,H),Z.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},Z.prototype.convertFrom=function(s){var l=this.imod(s.mul(this.rinv));return l.red=null,l},Z.prototype.imul=function(s,l){if(s.isZero()||l.isZero())return s.words[0]=0,s.length=1,s;var f=s.imul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.mul=function(s,l){if(s.isZero()||l.isZero())return new i(0)._forceRed(this);var f=s.mul(l),p=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=f.isub(p).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},Z.prototype.invm=function(s){var l=this.imod(s._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(n,Tn)})(Ug);var _4=Ug.exports;(function(n){var e=Tn&&Tn.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(n,"__esModule",{value:!0}),n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0,n.u64=c,n.i64=h,n.u128=w,n.i128=_,n.u256=A,n.i256=R,n.publicKey=x,n.option=O,n.bool=k,n.vec=B,n.tagged=P,n.vecU8=U,n.str=F,n.rustEnum=j,n.array=V,n.map=H;const t=je,r=v4,o=e(_4);var i=je;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class u extends t.Layout{constructor(m,s,l){super(m,l),this.blob=(0,t.blob)(m),this.signed=s}decode(m,s=0){const l=new o.default(this.blob.decode(m,s),10,"le");return this.signed?l.fromTwos(this.span*8).clone():l}encode(m,s,l=0){return this.signed&&(m=m.toTwos(this.span*8)),this.blob.encode(m.toArrayLike(Buffer,"le",this.span),s,l)}}function c(Z){return new u(8,!1,Z)}function h(Z){return new u(8,!0,Z)}function w(Z){return new u(16,!1,Z)}function _(Z){return new u(16,!0,Z)}function A(Z){return new u(32,!1,Z)}function R(Z){return new u(32,!0,Z)}class b extends t.Layout{constructor(m,s,l,f){super(m.span,f),this.layout=m,this.decoder=s,this.encoder=l}decode(m,s){return this.decoder(this.layout.decode(m,s))}encode(m,s,l){return this.layout.encode(this.encoder(m),s,l)}getSpan(m,s){return this.layout.getSpan(m,s)}}function x(Z){return new b((0,t.blob)(32),m=>new r.PublicKey(m),m=>m.toBuffer(),Z)}class C extends t.Layout{constructor(m,s){super(-1,s),this.layout=m,this.discriminator=(0,t.u8)()}encode(m,s,l=0){return m==null?this.discriminator.encode(0,s,l):(this.discriminator.encode(1,s,l),this.layout.encode(m,s,l+1)+1)}decode(m,s=0){const l=this.discriminator.decode(m,s);if(l===0)return null;if(l===1)return this.layout.decode(m,s+1);throw new Error("Invalid option "+this.property)}getSpan(m,s=0){const l=this.discriminator.decode(m,s);if(l===0)return 1;if(l===1)return this.layout.getSpan(m,s+1)+1;throw new Error("Invalid option "+this.property)}}function O(Z,m){return new C(Z,m)}function k(Z){return new b((0,t.u8)(),T,I,Z)}function T(Z){if(Z===0)return!1;if(Z===1)return!0;throw new Error("Invalid bool: "+Z)}function I(Z){return Z?1:0}function B(Z,m){const s=(0,t.u32)("length"),l=(0,t.struct)([s,(0,t.seq)(Z,(0,t.offset)(s,-s.span),"values")]);return new b(l,({values:f})=>f,f=>({values:f}),m)}function P(Z,m,s){const l=(0,t.struct)([c("tag"),m.replicate("data")]);function f({tag:p,data:g}){if(!p.eq(Z))throw new Error("Invalid tag, expected: "+Z.toString("hex")+", got: "+p.toString("hex"));return g}return new b(l,f,p=>({tag:Z,data:p}),s)}function U(Z){const m=(0,t.u32)("length"),s=(0,t.struct)([m,(0,t.blob)((0,t.offset)(m,-m.span),"data")]);return new b(s,({data:l})=>l,l=>({data:l}),Z)}function F(Z){return new b(U(),m=>m.toString("utf-8"),m=>Buffer.from(m,"utf-8"),Z)}function j(Z,m,s){const l=(0,t.union)(s??(0,t.u8)(),m);return Z.forEach((f,p)=>l.addVariant(p,f,f.property)),l}function V(Z,m,s){const l=(0,t.struct)([(0,t.seq)(Z,m,"values")]);return new b(l,({values:f})=>f,f=>({values:f}),s)}class G extends t.Layout{constructor(m,s,l){super(m.span+s.span,l),this.keyLayout=m,this.valueLayout=s}decode(m,s){s=s||0;const l=this.keyLayout.decode(m,s),f=this.valueLayout.decode(m,s+this.keyLayout.getSpan(m,s));return[l,f]}encode(m,s,l){l=l||0;const f=this.keyLayout.encode(m[0],s,l),p=this.valueLayout.encode(m[1],s,l+f);return f+p}getSpan(m,s){return this.keyLayout.getSpan(m,s)+this.valueLayout.getSpan(m,s)}}function H(Z,m,s){const l=(0,t.u32)("length"),f=(0,t.struct)([l,(0,t.seq)(new G(Z,m),(0,t.offset)(l,-l.span),"values")]);return new b(f,({values:p})=>new Map(p),p=>({values:Array.from(p.entries())}),s)}})(et);function lu(n){let e=n.length;for(;--e>=0;)n[e]=0}const E4=3,b4=258,Qb=29,S4=256,M4=S4+1+Qb,Jb=30,A4=512,R4=new Array((M4+2)*2);lu(R4);const x4=new Array(Jb*2);lu(x4);const k4=new Array(A4);lu(k4);const I4=new Array(b4-E4+1);lu(I4);const T4=new Array(Qb);lu(T4);const N4=new Array(Jb);lu(N4);const C4=(n,e,t,r)=>{let o=n&65535|0,i=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do o=o+e[r++]|0,i=i+o|0;while(--u);o%=65521,i%=65521}return o|i<<16|0};var Lp=C4;const O4=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},B4=new Uint32Array(O4()),L4=(n,e,t,r)=>{const o=B4,i=r+t;n^=-1;for(let u=r;u<i;u++)n=n>>>8^o[(n^e[u])&255];return n^-1};var pi=L4,Pp={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},eS={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const P4=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var U4=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)P4(t,r)&&(n[r]=t[r])}}return n},D4=n=>{let e=0;for(let r=0,o=n.length;r<o;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,o=0,i=n.length;r<i;r++){let u=n[r];t.set(u,o),o+=u.length}return t},tS={assign:U4,flattenChunks:D4};let nS=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nS=!1}const _l=new Uint8Array(256);for(let n=0;n<256;n++)_l[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;_l[254]=_l[254]=1;var z4=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,o,i,u=n.length,c=0;for(o=0;o<u;o++)t=n.charCodeAt(o),(t&64512)===55296&&o+1<u&&(r=n.charCodeAt(o+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),o++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),i=0,o=0;i<c;o++)t=n.charCodeAt(o),(t&64512)===55296&&o+1<u&&(r=n.charCodeAt(o+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),o++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const F4=(n,e)=>{if(e<65534&&n.subarray&&nS)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var W4=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,o;const i=new Array(t*2);for(o=0,r=0;r<t;){let u=n[r++];if(u<128){i[o++]=u;continue}let c=_l[u];if(c>4){i[o++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){i[o++]=65533;continue}u<65536?i[o++]=u:(u-=65536,i[o++]=55296|u>>10&1023,i[o++]=56320|u&1023)}return F4(i,o)},H4=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+_l[n[t]]>e?t:e},Up={string2buf:z4,buf2string:W4,utf8border:H4};function K4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var j4=K4;const pc=16209,V4=16191;var $4=function(e,t){let r,o,i,u,c,h,w,_,A,R,b,x,C,O,k,T,I,B,P,U,F,j,V,G;const H=e.state;r=e.next_in,V=e.input,o=r+(e.avail_in-5),i=e.next_out,G=e.output,u=i-(t-e.avail_out),c=i+(e.avail_out-257),h=H.dmax,w=H.wsize,_=H.whave,A=H.wnext,R=H.window,b=H.hold,x=H.bits,C=H.lencode,O=H.distcode,k=(1<<H.lenbits)-1,T=(1<<H.distbits)-1;e:do{x<15&&(b+=V[r++]<<x,x+=8,b+=V[r++]<<x,x+=8),I=C[b&k];t:for(;;){if(B=I>>>24,b>>>=B,x-=B,B=I>>>16&255,B===0)G[i++]=I&65535;else if(B&16){P=I&65535,B&=15,B&&(x<B&&(b+=V[r++]<<x,x+=8),P+=b&(1<<B)-1,b>>>=B,x-=B),x<15&&(b+=V[r++]<<x,x+=8,b+=V[r++]<<x,x+=8),I=O[b&T];n:for(;;){if(B=I>>>24,b>>>=B,x-=B,B=I>>>16&255,B&16){if(U=I&65535,B&=15,x<B&&(b+=V[r++]<<x,x+=8,x<B&&(b+=V[r++]<<x,x+=8)),U+=b&(1<<B)-1,U>h){e.msg="invalid distance too far back",H.mode=pc;break e}if(b>>>=B,x-=B,B=i-u,U>B){if(B=U-B,B>_&&H.sane){e.msg="invalid distance too far back",H.mode=pc;break e}if(F=0,j=R,A===0){if(F+=w-B,B<P){P-=B;do G[i++]=R[F++];while(--B);F=i-U,j=G}}else if(A<B){if(F+=w+A-B,B-=A,B<P){P-=B;do G[i++]=R[F++];while(--B);if(F=0,A<P){B=A,P-=B;do G[i++]=R[F++];while(--B);F=i-U,j=G}}}else if(F+=A-B,B<P){P-=B;do G[i++]=R[F++];while(--B);F=i-U,j=G}for(;P>2;)G[i++]=j[F++],G[i++]=j[F++],G[i++]=j[F++],P-=3;P&&(G[i++]=j[F++],P>1&&(G[i++]=j[F++]))}else{F=i-U;do G[i++]=G[F++],G[i++]=G[F++],G[i++]=G[F++],P-=3;while(P>2);P&&(G[i++]=G[F++],P>1&&(G[i++]=G[F++]))}}else if(B&64){e.msg="invalid distance code",H.mode=pc;break e}else{I=O[(I&65535)+(b&(1<<B)-1)];continue n}break}}else if(B&64)if(B&32){H.mode=V4;break e}else{e.msg="invalid literal/length code",H.mode=pc;break e}else{I=C[(I&65535)+(b&(1<<B)-1)];continue t}break}}while(r<o&&i<c);P=x>>3,r-=P,x-=P<<3,b&=(1<<x)-1,e.next_in=r,e.next_out=i,e.avail_in=r<o?5+(o-r):5-(r-o),e.avail_out=i<c?257+(c-i):257-(i-c),H.hold=b,H.bits=x};const Qs=15,ow=852,sw=592,aw=0,Gd=1,uw=2,q4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),G4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Z4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Y4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),X4=(n,e,t,r,o,i,u,c)=>{const h=c.bits;let w=0,_=0,A=0,R=0,b=0,x=0,C=0,O=0,k=0,T=0,I,B,P,U,F,j=null,V;const G=new Uint16Array(Qs+1),H=new Uint16Array(Qs+1);let Z=null,m,s,l;for(w=0;w<=Qs;w++)G[w]=0;for(_=0;_<r;_++)G[e[t+_]]++;for(b=h,R=Qs;R>=1&&G[R]===0;R--);if(b>R&&(b=R),R===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,c.bits=1,0;for(A=1;A<R&&G[A]===0;A++);for(b<A&&(b=A),O=1,w=1;w<=Qs;w++)if(O<<=1,O-=G[w],O<0)return-1;if(O>0&&(n===aw||R!==1))return-1;for(H[1]=0,w=1;w<Qs;w++)H[w+1]=H[w]+G[w];for(_=0;_<r;_++)e[t+_]!==0&&(u[H[e[t+_]]++]=_);if(n===aw?(j=Z=u,V=20):n===Gd?(j=q4,Z=G4,V=257):(j=Z4,Z=Y4,V=0),T=0,_=0,w=A,F=i,x=b,C=0,P=-1,k=1<<b,U=k-1,n===Gd&&k>ow||n===uw&&k>sw)return 1;for(;;){m=w-C,u[_]+1<V?(s=0,l=u[_]):u[_]>=V?(s=Z[u[_]-V],l=j[u[_]-V]):(s=96,l=0),I=1<<w-C,B=1<<x,A=B;do B-=I,o[F+(T>>C)+B]=m<<24|s<<16|l|0;while(B!==0);for(I=1<<w-1;T&I;)I>>=1;if(I!==0?(T&=I-1,T+=I):T=0,_++,--G[w]===0){if(w===R)break;w=e[t+u[_]]}if(w>b&&(T&U)!==P){for(C===0&&(C=b),F+=A,x=w-C,O=1<<x;x+C<R&&(O-=G[x+C],!(O<=0));)x++,O<<=1;if(k+=1<<x,n===Gd&&k>ow||n===uw&&k>sw)return 1;P=T&U,o[P]=b<<24|x<<16|F-i|0}}return T!==0&&(o[F+T]=w-C<<24|64<<16|0),c.bits=b,0};var qu=X4;const Q4=0,rS=1,iS=2,{Z_FINISH:lw,Z_BLOCK:J4,Z_TREES:mc,Z_OK:Ps,Z_STREAM_END:e8,Z_NEED_DICT:t8,Z_STREAM_ERROR:Kr,Z_DATA_ERROR:oS,Z_MEM_ERROR:sS,Z_BUF_ERROR:n8,Z_DEFLATED:cw}=eS,Ph=16180,fw=16181,hw=16182,dw=16183,pw=16184,mw=16185,gw=16186,yw=16187,ww=16188,vw=16189,jf=16190,Bi=16191,Zd=16192,_w=16193,Yd=16194,Ew=16195,bw=16196,Sw=16197,Mw=16198,gc=16199,yc=16200,Aw=16201,Rw=16202,xw=16203,kw=16204,Iw=16205,Xd=16206,Tw=16207,Nw=16208,kt=16209,aS=16210,uS=16211,r8=852,i8=592,o8=15,s8=o8,Cw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function a8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vs=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Ph||e.mode>uS?1:0},lS=n=>{if(Vs(n))return Kr;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Ph,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(r8),e.distcode=e.distdyn=new Int32Array(i8),e.sane=1,e.back=-1,Ps},cS=n=>{if(Vs(n))return Kr;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,lS(n)},fS=(n,e)=>{let t;if(Vs(n))return Kr;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Kr:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,cS(n))},hS=(n,e)=>{if(!n)return Kr;const t=new a8;n.state=t,t.strm=n,t.window=null,t.mode=Ph;const r=fS(n,e);return r!==Ps&&(n.state=null),r},u8=n=>hS(n,s8);let Ow=!0,Qd,Jd;const l8=n=>{if(Ow){Qd=new Int32Array(512),Jd=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(qu(rS,n.lens,0,288,Qd,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;qu(iS,n.lens,0,32,Jd,0,n.work,{bits:5}),Ow=!1}n.lencode=Qd,n.lenbits=9,n.distcode=Jd,n.distbits=5},dS=(n,e,t,r)=>{let o;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(e.subarray(t-r,t-r+o),i.wnext),r-=o,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},c8=(n,e)=>{let t,r,o,i,u,c,h,w,_,A,R,b,x,C,O=0,k,T,I,B,P,U,F,j;const V=new Uint8Array(4);let G,H;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vs(n)||!n.output||!n.input&&n.avail_in!==0)return Kr;t=n.state,t.mode===Bi&&(t.mode=Zd),u=n.next_out,o=n.output,h=n.avail_out,i=n.next_in,r=n.input,c=n.avail_in,w=t.hold,_=t.bits,A=c,R=h,j=Ps;e:for(;;)switch(t.mode){case Ph:if(t.wrap===0){t.mode=Zd;break}for(;_<16;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(t.wrap&2&&w===35615){t.wbits===0&&(t.wbits=15),t.check=0,V[0]=w&255,V[1]=w>>>8&255,t.check=pi(t.check,V,2,0),w=0,_=0,t.mode=fw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((w&255)<<8)+(w>>8))%31){n.msg="incorrect header check",t.mode=kt;break}if((w&15)!==cw){n.msg="unknown compression method",t.mode=kt;break}if(w>>>=4,_-=4,F=(w&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){n.msg="invalid window size",t.mode=kt;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=w&512?vw:Bi,w=0,_=0;break;case fw:for(;_<16;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(t.flags=w,(t.flags&255)!==cw){n.msg="unknown compression method",t.mode=kt;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=kt;break}t.head&&(t.head.text=w>>8&1),t.flags&512&&t.wrap&4&&(V[0]=w&255,V[1]=w>>>8&255,t.check=pi(t.check,V,2,0)),w=0,_=0,t.mode=hw;case hw:for(;_<32;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.head&&(t.head.time=w),t.flags&512&&t.wrap&4&&(V[0]=w&255,V[1]=w>>>8&255,V[2]=w>>>16&255,V[3]=w>>>24&255,t.check=pi(t.check,V,4,0)),w=0,_=0,t.mode=dw;case dw:for(;_<16;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.head&&(t.head.xflags=w&255,t.head.os=w>>8),t.flags&512&&t.wrap&4&&(V[0]=w&255,V[1]=w>>>8&255,t.check=pi(t.check,V,2,0)),w=0,_=0,t.mode=pw;case pw:if(t.flags&1024){for(;_<16;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.length=w,t.head&&(t.head.extra_len=w),t.flags&512&&t.wrap&4&&(V[0]=w&255,V[1]=w>>>8&255,t.check=pi(t.check,V,2,0)),w=0,_=0}else t.head&&(t.head.extra=null);t.mode=mw;case mw:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+b),F)),t.flags&512&&t.wrap&4&&(t.check=pi(t.check,r,b,i)),c-=b,i+=b,t.length-=b),t.length))break e;t.length=0,t.mode=gw;case gw:if(t.flags&2048){if(c===0)break e;b=0;do F=r[i+b++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=pi(t.check,r,b,i)),c-=b,i+=b,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=yw;case yw:if(t.flags&4096){if(c===0)break e;b=0;do F=r[i+b++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=pi(t.check,r,b,i)),c-=b,i+=b,F)break e}else t.head&&(t.head.comment=null);t.mode=ww;case ww:if(t.flags&512){for(;_<16;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(t.wrap&4&&w!==(t.check&65535)){n.msg="header crc mismatch",t.mode=kt;break}w=0,_=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Bi;break;case vw:for(;_<32;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}n.adler=t.check=Cw(w),w=0,_=0,t.mode=jf;case jf:if(t.havedict===0)return n.next_out=u,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=w,t.bits=_,t8;n.adler=t.check=1,t.mode=Bi;case Bi:if(e===J4||e===mc)break e;case Zd:if(t.last){w>>>=_&7,_-=_&7,t.mode=Xd;break}for(;_<3;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}switch(t.last=w&1,w>>>=1,_-=1,w&3){case 0:t.mode=_w;break;case 1:if(l8(t),t.mode=gc,e===mc){w>>>=2,_-=2;break e}break;case 2:t.mode=bw;break;case 3:n.msg="invalid block type",t.mode=kt}w>>>=2,_-=2;break;case _w:for(w>>>=_&7,_-=_&7;_<32;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if((w&65535)!==(w>>>16^65535)){n.msg="invalid stored block lengths",t.mode=kt;break}if(t.length=w&65535,w=0,_=0,t.mode=Yd,e===mc)break e;case Yd:t.mode=Ew;case Ew:if(b=t.length,b){if(b>c&&(b=c),b>h&&(b=h),b===0)break e;o.set(r.subarray(i,i+b),u),c-=b,i+=b,h-=b,u+=b,t.length-=b;break}t.mode=Bi;break;case bw:for(;_<14;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(t.nlen=(w&31)+257,w>>>=5,_-=5,t.ndist=(w&31)+1,w>>>=5,_-=5,t.ncode=(w&15)+4,w>>>=4,_-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=kt;break}t.have=0,t.mode=Sw;case Sw:for(;t.have<t.ncode;){for(;_<3;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.lens[Z[t.have++]]=w&7,w>>>=3,_-=3}for(;t.have<19;)t.lens[Z[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,G={bits:t.lenbits},j=qu(Q4,t.lens,0,19,t.lencode,0,t.work,G),t.lenbits=G.bits,j){n.msg="invalid code lengths set",t.mode=kt;break}t.have=0,t.mode=Mw;case Mw:for(;t.have<t.nlen+t.ndist;){for(;O=t.lencode[w&(1<<t.lenbits)-1],k=O>>>24,T=O>>>16&255,I=O&65535,!(k<=_);){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(I<16)w>>>=k,_-=k,t.lens[t.have++]=I;else{if(I===16){for(H=k+2;_<H;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(w>>>=k,_-=k,t.have===0){n.msg="invalid bit length repeat",t.mode=kt;break}F=t.lens[t.have-1],b=3+(w&3),w>>>=2,_-=2}else if(I===17){for(H=k+3;_<H;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}w>>>=k,_-=k,F=0,b=3+(w&7),w>>>=3,_-=3}else{for(H=k+7;_<H;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}w>>>=k,_-=k,F=0,b=11+(w&127),w>>>=7,_-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=kt;break}for(;b--;)t.lens[t.have++]=F}}if(t.mode===kt)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=kt;break}if(t.lenbits=9,G={bits:t.lenbits},j=qu(rS,t.lens,0,t.nlen,t.lencode,0,t.work,G),t.lenbits=G.bits,j){n.msg="invalid literal/lengths set",t.mode=kt;break}if(t.distbits=6,t.distcode=t.distdyn,G={bits:t.distbits},j=qu(iS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,G),t.distbits=G.bits,j){n.msg="invalid distances set",t.mode=kt;break}if(t.mode=gc,e===mc)break e;case gc:t.mode=yc;case yc:if(c>=6&&h>=258){n.next_out=u,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=w,t.bits=_,$4(n,R),u=n.next_out,o=n.output,h=n.avail_out,i=n.next_in,r=n.input,c=n.avail_in,w=t.hold,_=t.bits,t.mode===Bi&&(t.back=-1);break}for(t.back=0;O=t.lencode[w&(1<<t.lenbits)-1],k=O>>>24,T=O>>>16&255,I=O&65535,!(k<=_);){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(T&&!(T&240)){for(B=k,P=T,U=I;O=t.lencode[U+((w&(1<<B+P)-1)>>B)],k=O>>>24,T=O>>>16&255,I=O&65535,!(B+k<=_);){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}w>>>=B,_-=B,t.back+=B}if(w>>>=k,_-=k,t.back+=k,t.length=I,T===0){t.mode=Iw;break}if(T&32){t.back=-1,t.mode=Bi;break}if(T&64){n.msg="invalid literal/length code",t.mode=kt;break}t.extra=T&15,t.mode=Aw;case Aw:if(t.extra){for(H=t.extra;_<H;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.length+=w&(1<<t.extra)-1,w>>>=t.extra,_-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Rw;case Rw:for(;O=t.distcode[w&(1<<t.distbits)-1],k=O>>>24,T=O>>>16&255,I=O&65535,!(k<=_);){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(!(T&240)){for(B=k,P=T,U=I;O=t.distcode[U+((w&(1<<B+P)-1)>>B)],k=O>>>24,T=O>>>16&255,I=O&65535,!(B+k<=_);){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}w>>>=B,_-=B,t.back+=B}if(w>>>=k,_-=k,t.back+=k,T&64){n.msg="invalid distance code",t.mode=kt;break}t.offset=I,t.extra=T&15,t.mode=xw;case xw:if(t.extra){for(H=t.extra;_<H;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}t.offset+=w&(1<<t.extra)-1,w>>>=t.extra,_-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=kt;break}t.mode=kw;case kw:if(h===0)break e;if(b=R-h,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=kt;break}b>t.wnext?(b-=t.wnext,x=t.wsize-b):x=t.wnext-b,b>t.length&&(b=t.length),C=t.window}else C=o,x=u-t.offset,b=t.length;b>h&&(b=h),h-=b,t.length-=b;do o[u++]=C[x++];while(--b);t.length===0&&(t.mode=yc);break;case Iw:if(h===0)break e;o[u++]=t.length,h--,t.mode=yc;break;case Xd:if(t.wrap){for(;_<32;){if(c===0)break e;c--,w|=r[i++]<<_,_+=8}if(R-=h,n.total_out+=R,t.total+=R,t.wrap&4&&R&&(n.adler=t.check=t.flags?pi(t.check,o,R,u-R):Lp(t.check,o,R,u-R)),R=h,t.wrap&4&&(t.flags?w:Cw(w))!==t.check){n.msg="incorrect data check",t.mode=kt;break}w=0,_=0}t.mode=Tw;case Tw:if(t.wrap&&t.flags){for(;_<32;){if(c===0)break e;c--,w+=r[i++]<<_,_+=8}if(t.wrap&4&&w!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=kt;break}w=0,_=0}t.mode=Nw;case Nw:j=e8;break e;case kt:j=oS;break e;case aS:return sS;case uS:default:return Kr}return n.next_out=u,n.avail_out=h,n.next_in=i,n.avail_in=c,t.hold=w,t.bits=_,(t.wsize||R!==n.avail_out&&t.mode<kt&&(t.mode<Xd||e!==lw))&&dS(n,n.output,n.next_out,R-n.avail_out),A-=n.avail_in,R-=n.avail_out,n.total_in+=A,n.total_out+=R,t.total+=R,t.wrap&4&&R&&(n.adler=t.check=t.flags?pi(t.check,o,R,n.next_out-R):Lp(t.check,o,R,n.next_out-R)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Bi?128:0)+(t.mode===gc||t.mode===Yd?256:0),(A===0&&R===0||e===lw)&&j===Ps&&(j=n8),j},f8=n=>{if(Vs(n))return Kr;let e=n.state;return e.window&&(e.window=null),n.state=null,Ps},h8=(n,e)=>{if(Vs(n))return Kr;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,Ps):Kr},d8=(n,e)=>{const t=e.length;let r,o,i;return Vs(n)||(r=n.state,r.wrap!==0&&r.mode!==jf)?Kr:r.mode===jf&&(o=1,o=Lp(o,e,t,0),o!==r.check)?oS:(i=dS(n,e,t,t),i?(r.mode=aS,sS):(r.havedict=1,Ps))};var p8=cS,m8=fS,g8=lS,y8=u8,w8=hS,v8=c8,_8=f8,E8=h8,b8=d8,S8="pako inflate (from Nodeca project)",Wi={inflateReset:p8,inflateReset2:m8,inflateResetKeep:g8,inflateInit:y8,inflateInit2:w8,inflate:v8,inflateEnd:_8,inflateGetHeader:E8,inflateSetDictionary:b8,inflateInfo:S8};function M8(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var A8=M8;const pS=Object.prototype.toString,{Z_NO_FLUSH:R8,Z_FINISH:x8,Z_OK:El,Z_STREAM_END:e0,Z_NEED_DICT:t0,Z_STREAM_ERROR:k8,Z_DATA_ERROR:Bw,Z_MEM_ERROR:I8}=eS;function Uh(n){this.options=tS.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j4,this.strm.avail_out=0;let t=Wi.inflateInit2(this.strm,e.windowBits);if(t!==El)throw new Error(Pp[t]);if(this.header=new A8,Wi.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Up.string2buf(e.dictionary):pS.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Wi.inflateSetDictionary(this.strm,e.dictionary),t!==El)))throw new Error(Pp[t])}Uh.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?x8:R8,pS.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=Wi.inflate(t,u),i===t0&&o&&(i=Wi.inflateSetDictionary(t,o),i===El?i=Wi.inflate(t,u):i===Bw&&(i=t0));t.avail_in>0&&i===e0&&t.state.wrap>0&&n[t.next_in]!==0;)Wi.inflateReset(t),i=Wi.inflate(t,u);switch(i){case k8:case Bw:case t0:case I8:return this.onEnd(i),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||i===e0))if(this.options.to==="string"){let h=Up.utf8border(t.output,t.next_out),w=t.next_out-h,_=Up.buf2string(t.output,h);t.next_out=w,t.avail_out=r-w,w&&t.output.set(t.output.subarray(h,h+w),0),this.onData(_)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===El&&c===0)){if(i===e0)return i=Wi.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Uh.prototype.onData=function(n){this.chunks.push(n)};Uh.prototype.onEnd=function(n){n===El&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=tS.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function T8(n,e){const t=new Uh(e);if(t.push(n),t.err)throw t.msg||Pp[t.err];return t.result}var N8=T8,C8={inflate:N8};const{inflate:O8}=C8;var B8=O8,mS={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(h,w,_){this.fn=h,this.context=w,this.once=_||!1}function i(h,w,_,A,R){if(typeof _!="function")throw new TypeError("The listener must be a function");var b=new o(_,A||h,R),x=t?t+w:w;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],b]:h._events[x].push(b):(h._events[x]=b,h._eventsCount++),h}function u(h,w){--h._eventsCount===0?h._events=new r:delete h._events[w]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var w=[],_,A;if(this._eventsCount===0)return w;for(A in _=this._events)e.call(_,A)&&w.push(t?A.slice(1):A);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(_)):w},c.prototype.listeners=function(w){var _=t?t+w:w,A=this._events[_];if(!A)return[];if(A.fn)return[A.fn];for(var R=0,b=A.length,x=new Array(b);R<b;R++)x[R]=A[R].fn;return x},c.prototype.listenerCount=function(w){var _=t?t+w:w,A=this._events[_];return A?A.fn?1:A.length:0},c.prototype.emit=function(w,_,A,R,b,x){var C=t?t+w:w;if(!this._events[C])return!1;var O=this._events[C],k=arguments.length,T,I;if(O.fn){switch(O.once&&this.removeListener(w,O.fn,void 0,!0),k){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,_),!0;case 3:return O.fn.call(O.context,_,A),!0;case 4:return O.fn.call(O.context,_,A,R),!0;case 5:return O.fn.call(O.context,_,A,R,b),!0;case 6:return O.fn.call(O.context,_,A,R,b,x),!0}for(I=1,T=new Array(k-1);I<k;I++)T[I-1]=arguments[I];O.fn.apply(O.context,T)}else{var B=O.length,P;for(I=0;I<B;I++)switch(O[I].once&&this.removeListener(w,O[I].fn,void 0,!0),k){case 1:O[I].fn.call(O[I].context);break;case 2:O[I].fn.call(O[I].context,_);break;case 3:O[I].fn.call(O[I].context,_,A);break;case 4:O[I].fn.call(O[I].context,_,A,R);break;default:if(!T)for(P=1,T=new Array(k-1);P<k;P++)T[P-1]=arguments[P];O[I].fn.apply(O[I].context,T)}}return!0},c.prototype.on=function(w,_,A){return i(this,w,_,A,!1)},c.prototype.once=function(w,_,A){return i(this,w,_,A,!0)},c.prototype.removeListener=function(w,_,A,R){var b=t?t+w:w;if(!this._events[b])return this;if(!_)return u(this,b),this;var x=this._events[b];if(x.fn)x.fn===_&&(!R||x.once)&&(!A||x.context===A)&&u(this,b);else{for(var C=0,O=[],k=x.length;C<k;C++)(x[C].fn!==_||R&&!x[C].once||A&&x[C].context!==A)&&O.push(x[C]);O.length?this._events[b]=O.length===1?O[0]:O:u(this,b)}return this},c.prototype.removeAllListeners=function(w){var _;return w?(_=t?t+w:w,this._events[_]&&u(this,_)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(mS);var L8=mS.exports;const P8=oo(L8);function U8(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const es=n=>"version"in n;function D8(n){return new TextDecoder("utf-8").decode(n)}function Lw(n){return Qt.encode(n)}function gS(n){return $e.Buffer.from(n,"base64")}function Eo(n){return"accounts"in n}async function z8(n){const e=(await re.findProgramAddress([],n))[0];return await re.createWithSeed(e,F8(),n)}function F8(){return"anchor:idl"}const W8=et.struct([et.publicKey("authority"),et.vecU8("data")]);function H8(n){return W8.decode(n)}function K8(n){const e=["name","path","account","relations","generic"],t=i=>i.split(".").map(d4).join("."),r=i=>{for(const u in i){const c=i[u];e.includes(u)?i[u]=Array.isArray(c)?c.map(t):t(c):typeof c=="object"&&r(c)}},o=structuredClone(n);return r(o),o}function Ea(n,e,t,r){return n!=null&&n.length?n[0].name?t(n):r(n):e()}function j8(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let o=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,o)}),e}function V8(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(o=>{t[o.name]=e[r],r+=1}),t}function yS(n,e={}){n.forEach(t=>{if(Eo(t))yS(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function oi(n){return n instanceof re?n:new re(n)}class $8 extends TypeError{constructor(e,t){let r;const{message:o,...i}=e,{path:u}=e,c=u.length===0?o:"At path: "+u.join(".")+" -- "+o;super(c),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var h;return(h=r)!=null?h:r=[e,...t()]}}}function q8(n){return Oa(n)&&typeof n[Symbol.iterator]=="function"}function Oa(n){return typeof n=="object"&&n!=null}function Go(n){return typeof n=="string"?JSON.stringify(n):""+n}function G8(n){const{done:e,value:t}=n.next();return e?void 0:t}function Z8(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:i}=e,{type:u}=t,{refinement:c,message:h="Expected a value of type `"+u+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+Go(r)+"`"}=n;return{value:r,type:u,refinement:c,key:o[o.length-1],path:o,branch:i,...n,message:h}}function*Pw(n,e,t,r){q8(n)||(n=[n]);for(const o of n){const i=Z8(o,e,t,r);i&&(yield i)}}function*Dg(n,e,t){t===void 0&&(t={});const{path:r=[],branch:o=[n],coerce:i=!1,mask:u=!1}=t,c={path:r,branch:o};if(i&&(n=e.coercer(n,c),u&&e.type!=="type"&&Oa(e.schema)&&Oa(n)&&!Array.isArray(n)))for(const w in n)e.schema[w]===void 0&&delete n[w];let h=!0;for(const w of e.validator(n,c))h=!1,yield[w,void 0];for(let[w,_,A]of e.entries(n,c)){const R=Dg(_,A,{path:w===void 0?r:[...r,w],branch:w===void 0?o:[...o,_],coerce:i,mask:u});for(const b of R)b[0]?(h=!1,yield[b[0],void 0]):i&&(_=b[1],w===void 0?n=_:n instanceof Map?n.set(w,_):n instanceof Set?n.add(_):Oa(n)&&(n[w]=_))}if(h)for(const w of e.refiner(n,c))h=!1,yield[w,void 0];h&&(yield[void 0,n])}class Jo{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:o,refiner:i,coercer:u=h=>h,entries:c=function*(){}}=e;this.type=t,this.schema=r,this.entries=c,this.coercer=u,o?this.validator=(h,w)=>{const _=o(h,w);return Pw(_,w,this,h)}:this.validator=()=>[],i?this.refiner=(h,w)=>{const _=i(h,w);return Pw(_,w,this,h)}:this.refiner=()=>[]}assert(e){return Y8(e,this)}create(e){return zg(e,this)}is(e){return wS(e,this)}mask(e){return X8(e,this)}validate(e,t){return t===void 0&&(t={}),Pl(e,this,t)}}function Y8(n,e){const t=Pl(n,e);if(t[0])throw t[0]}function zg(n,e){const t=Pl(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function X8(n,e){const t=Pl(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function wS(n,e){return!Pl(n,e)[0]}function Pl(n,e,t){t===void 0&&(t={});const r=Dg(n,e,t),o=G8(r);return o[0]?[new $8(o[0],function*(){for(const u of r)u[0]&&(yield u[0])}),void 0]:[void 0,o[1]]}function Ul(n,e){return new Jo({type:n,schema:null,validator:e})}function Q8(){return Ul("any",()=>!0)}function n0(n){return new Jo({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Go(e)}})}function J8(){return Ul("boolean",n=>typeof n=="boolean")}function Uw(n){const e=Go(n);return new Jo({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+Go(t)}})}function wc(n){return new Jo({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Xc(){return Ul("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Go(n))}function Qc(n){return new Jo({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function bs(){return Ul("string",n=>typeof n=="string"||"Expected a string, but received: "+Go(n))}function Ko(n){const e=Object.keys(n);return new Jo({type:"type",schema:n,*entries(t){if(Oa(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Oa(t)||"Expected an object, but received: "+Go(t)}})}function vS(n){const e=n.map(t=>t.type).join(" | ");return new Jo({type:"union",schema:null,coercer(t,r){return(n.find(i=>{const[u]=i.validate(t,{coerce:!0});return!u})||Fg()).coercer(t,r)},validator(t,r){const o=[];for(const i of n){const[...u]=Dg(t,i,r),[c]=u;if(c[0])for(const[h]of u)h&&o.push(h);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Go(t),...o]}})}function Fg(){return Ul("unknown",()=>!0)}function eB(n,e,t){return new Jo({...n,coercer:(r,o)=>wS(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const Dw=99;async function tB(n,e,t){if(e.length<=Dw)return await zw(n,e,t);{const r=U8(e,Dw);return(await Promise.all(r.map(i=>zw(n,i,t)))).flat()}}async function zw(n,e,t){const r=t??n.commitment,{value:o,context:i}=await n.getMultipleAccountsInfoAndContext(e,r);return o.map((c,h)=>c===null?null:{publicKey:e[h],account:c,context:i})}async function nB(n,e,t,r,o){var i;t&&t.length>0&&e.sign(...t);const u=e._compile(),c=u.serialize(),w=e._serialize(c).toString("base64"),_={encoding:"base64",commitment:r??n.commitment};if(o){const x=(Array.isArray(o)?o:u.nonProgramIds()).map(C=>C.toBase58());_.accounts={encoding:"base64",addresses:x}}t&&t.length>0&&(_.sigVerify=!0);const A=[w,_],R=await n._rpcRequest("simulateTransaction",A),b=zg(R,sB);if("error"in b){let x;if("data"in b.error&&(x=(i=b.error.data)===null||i===void 0?void 0:i.logs,x&&Array.isArray(x))){const C=`
    `,O=C+x.join(C);console.error(b.error.message,O)}throw new qo("failed to simulate transaction: "+b.error.message,x)}return b.result}function rB(n){return eB(_S(n),iB,e=>"error"in e?e:{...e,result:zg(e.result,n)})}const iB=_S(Fg());function _S(n){return vS([Ko({jsonrpc:Uw("2.0"),id:bs(),result:n}),Ko({jsonrpc:Uw("2.0"),id:bs(),error:Ko({code:Fg(),message:bs(),data:Qc(Q8())})})])}function oB(n){return rB(Ko({context:Ko({slot:Xc()}),value:n}))}const sB=oB(Ko({err:wc(vS([Ko({}),bs()])),logs:wc(n0(bs())),accounts:Qc(wc(n0(wc(Ko({executable:J8(),owner:bs(),lamports:Xc(),data:n0(bs()),rentEpoch:Qc(Xc())}))))),unitsConsumed:Qc(Xc())}));class bl{constructor(e,t,r=bl.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=bl.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var o,i,u,c;if(r===void 0&&(r=this.opts),es(e))t&&e.sign(t);else if(e.feePayer=(o=e.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const w of t)e.partialSign(w);e=await this.wallet.signTransaction(e);const h=e.serialize();try{return await Fw(this.connection,h,r)}catch(w){if(w instanceof Dp){const _=Lw(es(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(u=e.signature)!==null&&u!==void 0?u:new Uint8Array),A=es(e)?0:void 0,R=await this.connection.getTransaction(_,{commitment:"confirmed",maxSupportedTransactionVersion:A});if(R){const b=(c=R.meta)===null||c===void 0?void 0:c.logMessages;throw b?new qo(w.message,b):w}else throw w}else throw w}}async sendAll(e,t){var r,o,i;t===void 0&&(t=this.opts);const u=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let c=e.map(_=>{var A,R;if(es(_.tx)){let b=_.tx;return _.signers&&b.sign(_.signers),b}else{let b=_.tx,x=(A=_.signers)!==null&&A!==void 0?A:[];return b.feePayer=(R=b.feePayer)!==null&&R!==void 0?R:this.wallet.publicKey,b.recentBlockhash=u,x.forEach(C=>{b.partialSign(C)}),b}});const h=await this.wallet.signAllTransactions(c),w=[];for(let _=0;_<c.length;_+=1){const A=h[_],R=A.serialize();try{w.push(await Fw(this.connection,R,t))}catch(b){if(b instanceof Dp){const x=Lw(es(A)?((r=A.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(o=A.signature)!==null&&o!==void 0?o:new Uint8Array),C=es(A)?0:void 0,O=await this.connection.getTransaction(x,{commitment:"confirmed",maxSupportedTransactionVersion:C});if(O){const k=(i=O.meta)===null||i===void 0?void 0:i.logMessages;throw k?new qo(b.message,k):b}else throw b}else throw b}}return w}async simulate(e,t,r,o){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,u;if(es(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),u=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=i,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),u=await nB(this.connection,e,t,r,o)),u.value.err)throw new aB(u.value);return u.value}}class aB extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Fw(n,e,t){const r=t?{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment,maxRetries:t.maxRetries,minContextSlot:t.minContextSlot}:{};let o;const i=Date.now();for(;Date.now()-i<6e4;)try{const u=await n.sendRawTransaction(e,r);if(t!=null&&t.blockhash)if(r.maxRetries===0){const c=AbortSignal.timeout(15e3);o=(await n.confirmTransaction({abortSignal:c,signature:u,...t.blockhash},t&&t.commitment)).value}else o=(await n.confirmTransaction({signature:u,...t.blockhash},t&&t.commitment)).value;else o=(await n.confirmTransaction(u,t&&t.commitment)).value;if(o.err)throw new Dp(`Raw transaction ${u} failed (${JSON.stringify(o)})`);return u}catch(u){if(u.name==="TimeoutError")continue;throw u}throw Error("Transaction failed to confirm in 60s")}class Dp extends Error{constructor(e){super(e)}}function zp(){return bl.local()}var uB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X={};Object.defineProperty(X,"__esModule",{value:!0});var ES=X.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=yM=X.ANCHOR_ERROR__REQUIRE_VIOLATED=gM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=mM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=pM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=dM=X.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=hM=X.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=fM=X.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=cM=X.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=lM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=uM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=aM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=sM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=oM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=iM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=rM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=nM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=tM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=eM=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=JS=X.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=QS=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=XS=X.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=YS=X.ANCHOR_ERROR__CONSTRAINT_SPACE=ZS=X.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=GS=X.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=qS=X.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=$S=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=VS=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=jS=X.ANCHOR_ERROR__CONSTRAINT_ZERO=KS=X.ANCHOR_ERROR__CONSTRAINT_ADDRESS=HS=X.ANCHOR_ERROR__CONSTRAINT_CLOSE=WS=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=FS=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=zS=X.ANCHOR_ERROR__CONSTRAINT_STATE=DS=X.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=US=X.ANCHOR_ERROR__CONSTRAINT_SEEDS=PS=X.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=LS=X.ANCHOR_ERROR__CONSTRAINT_OWNER=BS=X.ANCHOR_ERROR__CONSTRAINT_RAW=OS=X.ANCHOR_ERROR__CONSTRAINT_SIGNER=CS=X.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=NS=X.ANCHOR_ERROR__CONSTRAINT_MUT=TS=X.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=IS=X.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=kS=X.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=xS=X.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=RS=X.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=AS=X.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=MS=X.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=SS=X.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,bS=X.ANCHOR_ERROR__DEPRECATED=KM=X.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=HM=X.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=WM=X.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=FM=X.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=zM=X.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=DM=X.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=UM=X.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=PM=X.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=LM=X.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=BM=X.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=OM=X.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=CM=X.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=NM=X.ANCHOR_ERROR__INVALID_PROGRAM_ID=TM=X.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=IM=X.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=kM=X.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=xM=X.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=RM=X.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=AM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=MM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=SM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=bM=X.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=EM=X.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=_M=X.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=vM=X.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=wM=X.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,SS=X.ANCHOR_ERROR__INSTRUCTION_MISSING=100,MS=X.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,AS=X.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,RS=X.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,xS=X.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,kS=X.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,IS=X.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,TS=X.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,NS=X.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,CS=X.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,OS=X.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,BS=X.ANCHOR_ERROR__CONSTRAINT_RAW=2003,LS=X.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,PS=X.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,US=X.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,DS=X.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,zS=X.ANCHOR_ERROR__CONSTRAINT_STATE=2008,FS=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,WS=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,HS=X.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,KS=X.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,jS=X.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,VS=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,$S=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,qS=X.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,GS=X.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,ZS=X.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,YS=X.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,XS=X.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,QS=X.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,JS=X.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,eM=X.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,tM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,nM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,rM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,iM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,oM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,sM=X.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,aM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,uM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,lM=X.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,cM=X.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,fM=X.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,hM=X.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,dM=X.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,pM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,mM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,gM=X.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,yM=X.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;ES=X.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var wM=X.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,vM=X.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,_M=X.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,EM=X.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,bM=X.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,SM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,MM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,AM=X.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,RM=X.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,xM=X.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,kM=X.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,IM=X.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,TM=X.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,NM=X.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,CM=X.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,OM=X.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,BM=X.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,LM=X.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,PM=X.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,UM=X.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,DM=X.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,zM=X.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,FM=X.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,WM=X.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,HM=X.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,KM=X.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;bS=X.ANCHOR_ERROR__DEPRECATED=5e3;const lB=new Map;function jM(n){return lB.get(n)!==void 0}class yo extends Error{constructor(e){super(e),this.name="IdlError"}}class Dl{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,i=[];for(let u=0;u<e.length;u++){if(o.exec(e[u])){i.pop();continue}const c=(t=r.exec(e[u]))===null||t===void 0?void 0:t[1];c&&i.push(new re(c))}return new Dl(i)}}class Gu extends Error{constructor(e,t,r,o,i,u){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=o,this.error={errorCode:e,errorMessage:t,comparedValues:u,origin:i},this._programErrorStack=Dl.parse(o)}static parse(e){if(!e)return null;const t=e.findIndex(R=>R.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],o=[r];let i;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const R=/^Program log: (.*)$/,b=R.exec(e[t+2])[1],x=R.exec(e[t+4])[1];i=[new re(b),new re(x)],o.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const R=/^Program log: (Left|Right): (.*)$/,b=R.exec(e[t+1])[2],x=R.exec(e[t+2])[2];o.push(...e.slice(t+1,t+3)),i=[b,x]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),w=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),A=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(c){const[R,b,x]=c.slice(1,4),C={code:R,number:parseInt(b)};return new Gu(C,x,o,e,void 0,i)}else if(w){const[R,b,x,C,O]=w.slice(1,6),k={code:x,number:parseInt(C)},T={file:R,line:parseInt(b)};return new Gu(k,O,o,e,T,i)}else if(A){const[R,b,x,C]=A.slice(1,5),O=R,k={code:b,number:parseInt(x)};return new Gu(k,C,o,e,O,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Vf extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Dl.parse(r))}static parse(e,t){const r=e.toString();let o;if(r.includes("custom program error:")){let c=r.split("custom program error: ");if(c.length!==2)return null;o=c[1]}else{const c=r.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;o=c[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(o)}catch{return null}let u=t.get(i);return u!==void 0?new Vf(i,u,e.logs):(u=cB.get(i),u!==void 0?new Vf(i,u,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function VM(n,e){jM("debug-logs")&&console.log("Translating error:",n);const t=Gu.parse(n.logs);if(t)return t;const r=Vf.parse(n,e);if(r)return r;if(n.logs){const o={get:function(i,u){return u==="programErrorStack"?i.programErrorStack.stack:u==="program"?i.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Dl.parse(n.logs),new Proxy(n,o)}return n}const We={InstructionMissing:SS,InstructionFallbackNotFound:MS,InstructionDidNotDeserialize:AS,InstructionDidNotSerialize:RS,IdlInstructionStub:xS,IdlInstructionInvalidProgram:kS,IdlAccountNotEmpty:IS,EventInstructionStub:TS,ConstraintMut:NS,ConstraintHasOne:CS,ConstraintSigner:OS,ConstraintRaw:BS,ConstraintOwner:LS,ConstraintRentExempt:PS,ConstraintSeeds:US,ConstraintExecutable:DS,ConstraintState:zS,ConstraintAssociated:FS,ConstraintAssociatedInit:WS,ConstraintClose:HS,ConstraintAddress:KS,ConstraintZero:jS,ConstraintTokenMint:VS,ConstraintTokenOwner:$S,ConstraintMintMintAuthority:qS,ConstraintMintFreezeAuthority:GS,ConstraintMintDecimals:ZS,ConstraintSpace:YS,ConstraintAccountIsNone:XS,ConstraintTokenTokenProgram:QS,ConstraintMintTokenProgram:JS,ConstraintAssociatedTokenTokenProgram:eM,ConstraintMintGroupPointerExtension:tM,ConstraintMintGroupPointerExtensionAuthority:nM,ConstraintMintGroupPointerExtensionGroupAddress:rM,ConstraintMintGroupMemberPointerExtension:iM,ConstraintMintGroupMemberPointerExtensionAuthority:oM,ConstraintMintGroupMemberPointerExtensionMemberAddress:sM,ConstraintMintMetadataPointerExtension:aM,ConstraintMintMetadataPointerExtensionAuthority:uM,ConstraintMintMetadataPointerExtensionMetadataAddress:lM,ConstraintMintCloseAuthorityExtension:cM,ConstraintMintCloseAuthorityExtensionAuthority:fM,ConstraintMintPermanentDelegateExtension:hM,ConstraintMintPermanentDelegateExtensionDelegate:dM,ConstraintMintTransferHookExtension:pM,ConstraintMintTransferHookExtensionAuthority:mM,ConstraintMintTransferHookExtensionProgramId:gM,RequireViolated:yM,RequireEqViolated:ES,RequireKeysEqViolated:wM,RequireNeqViolated:vM,RequireKeysNeqViolated:_M,RequireGtViolated:EM,RequireGteViolated:bM,AccountDiscriminatorAlreadySet:SM,AccountDiscriminatorNotFound:MM,AccountDiscriminatorMismatch:AM,AccountDidNotDeserialize:RM,AccountDidNotSerialize:xM,AccountNotEnoughKeys:kM,AccountNotMutable:IM,AccountOwnedByWrongProgram:TM,InvalidProgramId:NM,InvalidProgramExecutable:CM,AccountNotSigner:OM,AccountNotSystemOwned:BM,AccountNotInitialized:LM,AccountNotProgramData:PM,AccountNotAssociatedTokenAccount:UM,AccountSysvarMismatch:DM,AccountReallocExceedsLimit:zM,AccountDuplicateReallocs:FM,DeclaredProgramIdMismatch:WM,TryingToInitPayerAsProgramAccount:HM,InvalidNumericConversion:KM,Deprecated:bS},cB=new Map([[We.InstructionMissing,"Instruction discriminator not provided"],[We.InstructionFallbackNotFound,"Fallback functions are not supported"],[We.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[We.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[We.IdlInstructionStub,"The program was compiled without idl instructions"],[We.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[We.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[We.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[We.ConstraintMut,"A mut constraint was violated"],[We.ConstraintHasOne,"A has one constraint was violated"],[We.ConstraintSigner,"A signer constraint was violated"],[We.ConstraintRaw,"A raw constraint was violated"],[We.ConstraintOwner,"An owner constraint was violated"],[We.ConstraintRentExempt,"A rent exemption constraint was violated"],[We.ConstraintSeeds,"A seeds constraint was violated"],[We.ConstraintExecutable,"An executable constraint was violated"],[We.ConstraintState,"Deprecated Error, feel free to replace with something else"],[We.ConstraintAssociated,"An associated constraint was violated"],[We.ConstraintAssociatedInit,"An associated init constraint was violated"],[We.ConstraintClose,"A close constraint was violated"],[We.ConstraintAddress,"An address constraint was violated"],[We.ConstraintZero,"Expected zero account discriminant"],[We.ConstraintTokenMint,"A token mint constraint was violated"],[We.ConstraintTokenOwner,"A token owner constraint was violated"],[We.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[We.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[We.ConstraintMintDecimals,"A mint decimals constraint was violated"],[We.ConstraintSpace,"A space constraint was violated"],[We.ConstraintAccountIsNone,"A required account for the constraint is None"],[We.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[We.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[We.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[We.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[We.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[We.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[We.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[We.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[We.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[We.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[We.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[We.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[We.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[We.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[We.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[We.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[We.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[We.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[We.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[We.RequireViolated,"A require expression was violated"],[We.RequireEqViolated,"A require_eq expression was violated"],[We.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[We.RequireNeqViolated,"A require_neq expression was violated"],[We.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[We.RequireGtViolated,"A require_gt expression was violated"],[We.RequireGteViolated,"A require_gte expression was violated"],[We.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[We.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[We.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[We.AccountDidNotDeserialize,"Failed to deserialize the account"],[We.AccountDidNotSerialize,"Failed to serialize the account"],[We.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[We.AccountNotMutable,"The given account is not mutable"],[We.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[We.InvalidProgramId,"Program ID was not as expected"],[We.InvalidProgramExecutable,"Program account is not executable"],[We.AccountNotSigner,"The given account did not sign"],[We.AccountNotSystemOwned,"The given account is not owned by the system program"],[We.AccountNotInitialized,"The program expected this account to be already initialized"],[We.AccountNotProgramData,"The given account is not a program data account"],[We.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[We.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[We.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[We.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[We.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[We.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[We.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[We.Deprecated,"The API being used is deprecated and should no longer be used"]]);class at{static fieldLayout(e,t=[],r){const o=e.name;switch(e.type){case"bool":return et.bool(o);case"u8":return et.u8(o);case"i8":return et.i8(o);case"u16":return et.u16(o);case"i16":return et.i16(o);case"u32":return et.u32(o);case"i32":return et.i32(o);case"f32":return et.f32(o);case"u64":return et.u64(o);case"i64":return et.i64(o);case"f64":return et.f64(o);case"u128":return et.u128(o);case"i128":return et.i128(o);case"u256":return et.u256(o);case"i256":return et.i256(o);case"bytes":return et.vecU8(o);case"string":return et.str(o);case"pubkey":return et.publicKey(o);default:{if("option"in e.type)return et.option(at.fieldLayout({type:e.type.option},t,r),o);if("vec"in e.type)return et.vec(at.fieldLayout({type:e.type.vec},t,r),o);if("array"in e.type){let[i,u]=e.type.array;return u=at.resolveArrayLen(u,r),et.array(at.fieldLayout({type:i},t,r),u,o)}if("defined"in e.type){if(!t)throw new yo("User defined types not provided");const i=e.type.defined.name,u=t.find(c=>c.name===i);if(!u)throw new yo(`Type not found: ${e.name}`);return at.typeDefLayout({typeDef:u,types:t,genericArgs:r??e.type.defined.generics,name:o})}if("generic"in e.type){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new yo(`Invalid generic field: ${e.name}`);return at.fieldLayout({...e,type:i.type},t)}throw new yo(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:o}){switch(e.type.kind){case"struct":{const i=Ea(e.type.fields,()=>[],u=>u.map(c=>{const h=o&&at.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:o});return at.fieldLayout(c,t,h)}),u=>u.map((c,h)=>{const w=o&&at.resolveGenericArgs({type:c,typeDef:e,genericArgs:o});return at.fieldLayout({name:h.toString(),type:c},t,w)}));return et.struct(i,r)}case"enum":{const i=e.type.variants.map(u=>{const c=Ea(u.fields,()=>[],h=>h.map(w=>{const _=o&&at.resolveGenericArgs({type:w.type,typeDef:e,genericArgs:o});return at.fieldLayout(w,t,_)}),h=>h.map((w,_)=>{const A=o&&at.resolveGenericArgs({type:w,typeDef:e,genericArgs:o});return at.fieldLayout({name:_.toString(),type:w},t,A)}));return et.struct(c,u.name)});return r!==void 0?et.rustEnum(i).replicate(r):et.rustEnum(i,r)}case"type":return at.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var o;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+at.typeSize(e.option,t,r);if("coption"in e)return 4+at.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[i,u]=e.array;return u=at.resolveArrayLen(u,r),at.typeSize(i,t,r)*u}if("defined"in e){const i=(o=t.types)===null||o===void 0?void 0:o.find(c=>c.name===e.defined.name);if(!i)throw new yo(`Type not found: ${JSON.stringify(e)}`);const u=c=>{const h=r??e.defined.generics,w=h&&at.resolveGenericArgs({type:c,typeDef:i,genericArgs:h});return at.typeSize(c,t,w)};switch(i.type.kind){case"struct":return Ea(i.type.fields,()=>[0],c=>c.map(h=>u(h.type)),c=>c.map(h=>u(h))).reduce((c,h)=>c+h,0);case"enum":{const c=i.type.variants.map(h=>Ea(h.fields,()=>[0],w=>w.map(_=>u(_.type)),w=>w.map(_=>u(_))).reduce((w,_)=>w+_,0));return Math.max(...c)+1}case"type":return at.typeSize(i.type.alias,t,r)}}if("generic"in e){const i=r==null?void 0:r.at(0);if((i==null?void 0:i.kind)!=="type")throw new yo(`Invalid generic: ${e.generic}`);return at.typeSize(i.type,t,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const r=t.find(o=>o.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new yo("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:o}){if(typeof e!="object")return null;for(const i in t.generics){const u=t.generics[i];if("generic"in e&&u.name===e.generic)return[r[i]];if("option"in e){const c=at.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:o});if(!c||!o)return c;if(c[0].kind==="type")return[{kind:"type",type:{option:c[0].type}}]}if("vec"in e){const c=at.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:o});if(!c||!o)return c;if(c[0].kind==="type")return[{kind:"type",type:{vec:c[0].type}}]}if("array"in e){const[c,h]=e.array,w=typeof h=="object",_=at.resolveGenericArgs({type:c,typeDef:t,genericArgs:r,isDefined:o})||[];if(w){const A=t.generics.findIndex(R=>R.name===h.generic);A!==-1&&_.push(r[A])}if(_.length>0){if(!o)return _;if(_[0].kind==="type"&&_[1].kind==="const")return[{kind:"type",type:{array:[_[0].type,+_[1].value]}}]}if(w&&u.name===h.generic){const A=r[i];return o?[{kind:"type",type:{array:[c,+A.value]}}]:[A]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(c=>{switch(c.kind){case"type":return at.resolveGenericArgs({type:c.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[c]}}).filter(c=>c!==null):null}return null}}class fB{constructor(e){this.idl=e;const t=e.instructions.map(r=>{const o=r.name,i=r.args.map(c=>at.fieldLayout(c,e.types)),u=et.struct(i,o);return[o,{discriminator:r.discriminator,layout:u}]});this.ixLayouts=new Map(t)}encode(e,t){const r=$e.Buffer.alloc(1e3),o=this.ixLayouts.get(e);if(!o)throw new Error(`Unknown method: ${e}`);const i=o.layout.encode(t,r),u=r.slice(0,i);return $e.Buffer.concat([$e.Buffer.from(o.discriminator),u])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?$e.Buffer.from(e,"hex"):Qt.decode(e));for(const[r,o]of this.ixLayouts){const i=e.subarray(0,o.discriminator.length);if(i.equals($e.Buffer.from(o.discriminator)))return{name:r,data:o.layout.decode(e.subarray(i.length))}}return null}format(e,t){return _r.format(e,t,this.idl)}}class _r{static format(e,t,r){const o=r.instructions.find(h=>e.name===h.name);if(!o)return console.error("Invalid instruction given"),null;const i=o.args.map(h=>({name:h.name,type:_r.formatIdlType(h.type),data:_r.formatIdlData(h,e.data[h.name],r.types)})),u=_r.flattenIdlAccounts(o.accounts),c=t.map((h,w)=>w<u.length?{name:u[w].name,...h}:{name:void 0,...h});return{args:i,accounts:c}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(o=>{switch(o.kind){case"type":return _r.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${t}<${r}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(o=>this.formatIdlData({name:"",type:e.type.vec},o,r)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const o=e.type.defined.name,i=r.find(u=>u.name===o);if(!i)throw new Error(`Type not found: ${o}`);return _r.formatIdlDataDefined(i,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+Ea(e.type.fields,()=>"",o=>Object.entries(t).map(([i,u])=>{const c=o.find(h=>h.name===i);if(!c)throw new Error(`Field not found: ${i}`);return i+": "+_r.formatIdlData(c,u,r)}).join(", "),o=>Object.entries(t).map(([i,u])=>i+": "+_r.formatIdlData({name:"",type:o[i]},u,r)).join(", "))+" }";case"enum":{const o=Object.keys(t)[0],i=e.type.variants.find(c=>c.name===o);if(!i)throw new Error(`Unable to find variant: ${o}`);const u=t[o];return Ea(i.fields,()=>o,c=>{const h=Object.keys(u).map(w=>{const _=u[w],A=c.find(R=>R.name===w);if(!A)throw new Error(`Field not found: ${w}`);return w+": "+_r.formatIdlData(A,_,r)}).join(", ");return`${o} { ${h} }`},c=>{const h=Object.entries(u).map(([w,_])=>w+": "+_r.formatIdlData({name:"",type:c[w]},_,r)).join(", ");return`${o} { ${h} }`})}case"type":return _r.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(r=>{const o=hB(r.name);if(r.hasOwnProperty("accounts")){const i=t?`${t} > ${o}`:o;return _r.flattenIdlAccounts(r.accounts,i)}else return{...r,name:t?`${t} > ${o}`:o}}).flat()}}function hB(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class dB{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(o=>{const i=t.find(u=>u.name===o.name);if(!i)throw new Error(`Account not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:at.typeDefLayout({typeDef:i,types:t})}]});this.accountLayouts=new Map(r)}async encode(e,t){const r=$e.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const i=o.layout.encode(t,r),u=r.slice(0,i),c=this.accountDiscriminator(e);return $e.Buffer.concat([c,u])}decode(e,t){const r=this.accountDiscriminator(e);if(r.compare(t.slice(0,r.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,r]of this.accountLayouts)if(e.subarray(0,r.discriminator.length).equals($e.Buffer.from(r.discriminator)))return this.decodeUnchecked(t,e);throw new Error("Account not found")}decodeUnchecked(e,t){const r=this.accountDiscriminator(e),o=t.subarray(r.length),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.layout.decode(o)}memcmp(e,t){const r=this.accountDiscriminator(e);return{offset:0,bytes:Qt.encode(t?$e.Buffer.concat([r,t]):r)}}size(e){return this.accountDiscriminator(e).length+at.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const r=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(o=>o.name===e);if(!r)throw new Error(`Account not found: ${e}`);return $e.Buffer.from(r.discriminator)}}class pB{constructor(e){if(!e.events){this.layouts=new Map;return}const t=e.types;if(!t)throw new Error("Events require `idl.types`");const r=e.events.map(o=>{const i=t.find(u=>u.name===o.name);if(!i)throw new Error(`Event not found: ${o.name}`);return[o.name,{discriminator:o.discriminator,layout:at.typeDefLayout({typeDef:i,types:t})}]});this.layouts=new Map(r)}decode(e){let t;try{t=gS(e)}catch{return null}for(const[r,o]of this.layouts){const i=t.subarray(0,o.discriminator.length);if(i.equals($e.Buffer.from(o.discriminator)))return{name:r,data:o.layout.decode(t.subarray(i.length))}}return null}}class mB{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(o=>!o.generics).map(o=>[o.name,at.typeDefLayout({typeDef:o,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){const r=$e.Buffer.alloc(1e3),o=this.typeLayouts.get(e);if(!o)throw new Error(`Unknown type: ${e}`);const i=o.encode(t,r);return r.slice(0,i)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class $M{constructor(e){this.instruction=new fB(e),this.accounts=new dB(e),this.events=new pB(e),this.types=new mB(e)}}class yr{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Dh=yr;function gB(n,e){return e.property?n+"["+e.property+"]":n}class Ss extends yr{isCount(){throw new Error("ExternalLayout is abstract")}}class qM extends Ss{constructor(e,t,r){if(!(e instanceof yr))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof zh||this.layout instanceof GM}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class zh extends yr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class GM extends yr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const Fp=Math.pow(2,32);function ZM(n){const e=Math.floor(n/Fp),t=n-e*Fp;return{hi32:e,lo32:t}}function YM(n,e){return n*Fp+e}class yB extends yr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readUInt32LE(t+4);return YM(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=ZM(e);return t.writeUInt32LE(o.lo32,r),t.writeUInt32LE(o.hi32,r+4),8}}class wB extends yr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readInt32LE(t+4);return YM(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=ZM(e);return t.writeUInt32LE(o.lo32,r),t.writeInt32LE(o.hi32,r+4),8}}class vB extends yr{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((i,u)=>i&&u instanceof yr,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,u)=>i+u.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((o,i)=>{const u=i.getSpan(e,t);return t+=u,o+u},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const o=r;let i=0,u=0;for(const c of this.fields){let h=c.span;if(u=0<h?h:0,c.property!==void 0){const w=e[c.property];w!==void 0&&(u=c.encode(w,t,r),0>h&&(h=c.getSpan(t,r)))}i=r,r+=h}return i+u-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class XM{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ww extends XM{constructor(e,t){if(!(e instanceof Ss&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class QM extends yr{constructor(e,t,r){const o=e instanceof zh||e instanceof GM;if(o)e=new Ww(new qM(e));else if(e instanceof Ss&&e.isCount())e=new Ww(e);else if(!(e instanceof XM))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof yr))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&o&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=t,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return u(c)},this.configGetSourceVariant=function(c){u=c.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const o=this.discriminator,i=o.decode(e,t);let u=this.registry[i];if(u===void 0){let c=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(c=o.layout.span),r=this.makeDestinationObject(),r[o.property]=i,r[u.property]=this.defaultLayout.decode(e,t+c)}else r=u.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const i=this.discriminator,u=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=i.layout.span),i.encode(e[i.property],t,r),c+u.encode(e[u.property],t,r+c)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new _B(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class _B extends yr{constructor(e,t,r,o){if(!(e instanceof QM))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof yr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),i+=this.layout.getSpan(t,r+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class EB extends yr{constructor(e,t){if(!(e instanceof Ss&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ss||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof Ss&&(o=e.length),!(Buffer.isBuffer(e)&&o===e.length))throw new TypeError(gB("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof Ss&&this.length.encode(o,t,r),o}}var bB=(n,e,t)=>new qM(n,e,t),SB=n=>new zh(1,n),Vi=n=>new zh(4,n),MB=n=>new yB(n),io=n=>new wB(n),sn=(n,e,t)=>new vB(n,e,t),JM=(n,e,t)=>new QM(n,e,t),zl=(n,e)=>new EB(n,e);class AB extends Dh{constructor(e){super(-1,e),this.property=e,this.layout=sn([Vi("length"),Vi("lengthPadding"),zl(bB(Vi(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const o={chars:Buffer.from(e,"utf8")};return this.layout.encode(o,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Vi().span+Vi().span+new Ft(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Fh(n){return new AB(n)}function jr(n){return zl(32,n)}const Or=JM(Vi("instruction"));Or.addVariant(0,sn([io("lamports"),io("space"),jr("owner")]),"createAccount");Or.addVariant(1,sn([jr("owner")]),"assign");Or.addVariant(2,sn([io("lamports")]),"transfer");Or.addVariant(3,sn([jr("base"),Fh("seed"),io("lamports"),io("space"),jr("owner")]),"createAccountWithSeed");Or.addVariant(4,sn([jr("authorized")]),"advanceNonceAccount");Or.addVariant(5,sn([io("lamports")]),"withdrawNonceAccount");Or.addVariant(6,sn([jr("authorized")]),"initializeNonceAccount");Or.addVariant(7,sn([jr("authorized")]),"authorizeNonceAccount");Or.addVariant(8,sn([io("space")]),"allocate");Or.addVariant(9,sn([jr("base"),Fh("seed"),io("space"),jr("owner")]),"allocateWithSeed");Or.addVariant(10,sn([jr("base"),Fh("seed"),jr("owner")]),"assignWithSeed");Or.addVariant(11,sn([io("lamports"),Fh("seed"),jr("owner")]),"transferWithSeed");Math.max(...Object.values(Or.registry).map(n=>n.span));class RB extends Dh{constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Hw(n){return new RB(zl(32),e=>new re(e),e=>e.toBuffer(),n)}sn([Vi("version"),Vi("state"),Hw("authorizedPubkey"),Hw("nonce"),sn([MB("lamportsPerSignature")],"feeCalculator")]);new re("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new re("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Kw={exports:{}};(function(n,e){var t=typeof self<"u"?self:uB,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(u){var c={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function h(s){return s&&DataView.prototype.isPrototypeOf(s)}if(c.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(s){return s&&w.indexOf(Object.prototype.toString.call(s))>-1};function A(s){if(typeof s!="string"&&(s=String(s)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(s))throw new TypeError("Invalid character in header field name");return s.toLowerCase()}function R(s){return typeof s!="string"&&(s=String(s)),s}function b(s){var l={next:function(){var f=s.shift();return{done:f===void 0,value:f}}};return c.iterable&&(l[Symbol.iterator]=function(){return l}),l}function x(s){this.map={},s instanceof x?s.forEach(function(l,f){this.append(f,l)},this):Array.isArray(s)?s.forEach(function(l){this.append(l[0],l[1])},this):s&&Object.getOwnPropertyNames(s).forEach(function(l){this.append(l,s[l])},this)}x.prototype.append=function(s,l){s=A(s),l=R(l);var f=this.map[s];this.map[s]=f?f+", "+l:l},x.prototype.delete=function(s){delete this.map[A(s)]},x.prototype.get=function(s){return s=A(s),this.has(s)?this.map[s]:null},x.prototype.has=function(s){return this.map.hasOwnProperty(A(s))},x.prototype.set=function(s,l){this.map[A(s)]=R(l)},x.prototype.forEach=function(s,l){for(var f in this.map)this.map.hasOwnProperty(f)&&s.call(l,this.map[f],f,this)},x.prototype.keys=function(){var s=[];return this.forEach(function(l,f){s.push(f)}),b(s)},x.prototype.values=function(){var s=[];return this.forEach(function(l){s.push(l)}),b(s)},x.prototype.entries=function(){var s=[];return this.forEach(function(l,f){s.push([f,l])}),b(s)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function C(s){if(s.bodyUsed)return Promise.reject(new TypeError("Already read"));s.bodyUsed=!0}function O(s){return new Promise(function(l,f){s.onload=function(){l(s.result)},s.onerror=function(){f(s.error)}})}function k(s){var l=new FileReader,f=O(l);return l.readAsArrayBuffer(s),f}function T(s){var l=new FileReader,f=O(l);return l.readAsText(s),f}function I(s){for(var l=new Uint8Array(s),f=new Array(l.length),p=0;p<l.length;p++)f[p]=String.fromCharCode(l[p]);return f.join("")}function B(s){if(s.slice)return s.slice(0);var l=new Uint8Array(s.byteLength);return l.set(new Uint8Array(s)),l.buffer}function P(){return this.bodyUsed=!1,this._initBody=function(s){this._bodyInit=s,s?typeof s=="string"?this._bodyText=s:c.blob&&Blob.prototype.isPrototypeOf(s)?this._bodyBlob=s:c.formData&&FormData.prototype.isPrototypeOf(s)?this._bodyFormData=s:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)?this._bodyText=s.toString():c.arrayBuffer&&c.blob&&h(s)?(this._bodyArrayBuffer=B(s.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(s)||_(s))?this._bodyArrayBuffer=B(s):this._bodyText=s=Object.prototype.toString.call(s):this._bodyText="",this.headers.get("content-type")||(typeof s=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(s)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var s=C(this);if(s)return s;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(k)}),this.text=function(){var s=C(this);if(s)return s;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(V)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(s){var l=s.toUpperCase();return U.indexOf(l)>-1?l:s}function j(s,l){l=l||{};var f=l.body;if(s instanceof j){if(s.bodyUsed)throw new TypeError("Already read");this.url=s.url,this.credentials=s.credentials,l.headers||(this.headers=new x(s.headers)),this.method=s.method,this.mode=s.mode,this.signal=s.signal,!f&&s._bodyInit!=null&&(f=s._bodyInit,s.bodyUsed=!0)}else this.url=String(s);if(this.credentials=l.credentials||this.credentials||"same-origin",(l.headers||!this.headers)&&(this.headers=new x(l.headers)),this.method=F(l.method||this.method||"GET"),this.mode=l.mode||this.mode||null,this.signal=l.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&f)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(f)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function V(s){var l=new FormData;return s.trim().split("&").forEach(function(f){if(f){var p=f.split("="),g=p.shift().replace(/\+/g," "),v=p.join("=").replace(/\+/g," ");l.append(decodeURIComponent(g),decodeURIComponent(v))}}),l}function G(s){var l=new x,f=s.replace(/\r?\n[\t ]+/g," ");return f.split(/\r?\n/).forEach(function(p){var g=p.split(":"),v=g.shift().trim();if(v){var E=g.join(":").trim();l.append(v,E)}}),l}P.call(j.prototype);function H(s,l){l||(l={}),this.type="default",this.status=l.status===void 0?200:l.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in l?l.statusText:"OK",this.headers=new x(l.headers),this.url=l.url||"",this._initBody(s)}P.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},H.error=function(){var s=new H(null,{status:0,statusText:""});return s.type="error",s};var Z=[301,302,303,307,308];H.redirect=function(s,l){if(Z.indexOf(l)===-1)throw new RangeError("Invalid status code");return new H(null,{status:l,headers:{location:s}})},u.DOMException=i.DOMException;try{new u.DOMException}catch{u.DOMException=function(l,f){this.message=l,this.name=f;var p=Error(l);this.stack=p.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function m(s,l){return new Promise(function(f,p){var g=new j(s,l);if(g.signal&&g.signal.aborted)return p(new u.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function E(){v.abort()}v.onload=function(){var d={status:v.status,statusText:v.statusText,headers:G(v.getAllResponseHeaders()||"")};d.url="responseURL"in v?v.responseURL:d.headers.get("X-Request-URL");var a="response"in v?v.response:v.responseText;f(new H(a,d))},v.onerror=function(){p(new TypeError("Network request failed"))},v.ontimeout=function(){p(new TypeError("Network request failed"))},v.onabort=function(){p(new u.DOMException("Aborted","AbortError"))},v.open(g.method,g.url,!0),g.credentials==="include"?v.withCredentials=!0:g.credentials==="omit"&&(v.withCredentials=!1),"responseType"in v&&c.blob&&(v.responseType="blob"),g.headers.forEach(function(d,a){v.setRequestHeader(a,d)}),g.signal&&(g.signal.addEventListener("abort",E),v.onreadystatechange=function(){v.readyState===4&&g.signal.removeEventListener("abort",E)}),v.send(typeof g._bodyInit>"u"?null:g._bodyInit)})}return m.polyfill=!0,i.fetch||(i.fetch=m,i.Headers=x,i.Request=j,i.Response=H),u.Headers=x,u.Request=j,u.Response=H,u.fetch=m,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,n.exports=e})(Kw,Kw.exports);et.rustEnum([et.struct([],"uninitialized"),et.struct([et.option(et.publicKey(),"authorityAddress")],"buffer"),et.struct([et.publicKey("programdataAddress")],"program"),et.struct([et.u64("slot"),et.option(et.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,et.u32());const Wp="Program log: ",eA="Program data: ",xB=Wp.length,kB=eA.length;class IB{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new tA(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,r){var o;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((o=this._eventListeners.get(e))!==null&&o!==void 0?o:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(u,c)=>{if(!u.err)for(const h of this._eventParser.parseLogs(u.logs)){const w=this._eventListeners.get(h.name);w&&w.forEach(_=>{const A=this._eventCallbacks.get(_);if(A){const[,R]=A;R(h.data,c.slot,u.signature)}})}},r)),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let o=this._eventListeners.get(r);if(!o)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),o=o.filter(i=>i!==e),this._eventListeners.set(r,o),o.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class tA{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new NB(e),o=new TB;let i=r.next();for(;i!==null;){let[u,c,h]=this.handleLog(o,i,t);u&&(yield u),c&&o.push(c),h&&o.pop(),i=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(Wp)||e.startsWith(eA)){const r=e.startsWith(Wp)?e.slice(xB):e.slice(kB),o=this.coder.events.decode(r);if(t&&o===null)throw new Error(`Unable to decode event ${r}`);return[o,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class TB{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class NB{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function Wh(n,e){var t,r;let o={};const i=n.args?n.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(u=>u.name))!==null&&r!==void 0?r:[]}`);o=e.pop()}return[e,o]}class $f{static build(e,t,r){if(e.name==="_inner")throw new yo("the _inner name is reserved");const o=(...i)=>{const[u,c]=Wh(e,[...i]);yS(e.accounts,c.accounts),CB(e,...i);const h=o.accounts(c.accounts);return c.remainingAccounts!==void 0&&h.push(...c.remainingAccounts),jM("debug-logs")&&console.log("Outgoing account metas:",h),new _t({keys:h,programId:r,data:t(e.name,V8(e,...u))})};return o.accounts=i=>$f.accountsArray(i,e.accounts,r,e.name),o}static accountsArray(e,t,r,o){return e?t.map(i=>{if(Eo(i)){const _=e[i.name];return $f.accountsArray(_,i.accounts,r,o).flat()}let u;try{u=oi(e[i.name])}catch{throw new Error(`Wrong input type for account "${i.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const c=i.optional&&u.equals(r),h=!!(i.writable&&!c),w=!!(i.signer&&!c);return{pubkey:u,isWritable:h,isSigner:w}}).flat():[]}}function CB(n,...e){}class OB{static build(e,t){return(...o)=>{var i,u,c;const[,h]=Wh(e,[...o]),w=new ot;if(h.preInstructions&&h.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=h.preInstructions)===null||i===void 0||i.forEach(_=>w.add(_)),(u=h.instructions)===null||u===void 0||u.forEach(_=>w.add(_)),w.add(t(...o)),(c=h.postInstructions)===null||c===void 0||c.forEach(_=>w.add(_)),w}}}class BB{static build(e,t,r,o){return async(...u)=>{var c;const h=t(...u),[,w]=Wh(e,[...u]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(h,(c=w.signers)!==null&&c!==void 0?c:[],w.options)}catch(_){throw VM(_,r)}}}}class LB{static build(e,t,r,o){var i;return((i=e.accounts)!==null&&i!==void 0?i:[]).reduce((u,c)=>(u[c.name]=new PB(e,c,r,o,t),u),{})}}class PB{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,o,i){this._idlAccount=t,this._programId=r,this._provider=o??zp(),this._coder=i??new $M(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:o,context:i}=r;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:i}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:o}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:o}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(o=>o?o.data:null)}async fetchMultipleAndContext(e,t){return(await tB(this._provider.connection,e.map(o=>oi(o)),t)).map(o=>{if(o==null)return null;const{account:i,context:u}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,i.data),context:u}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),r=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:i,account:u})=>({publicKey:i,account:this._coder.accounts.decode(this._idlAccount.name,u.data)}))}subscribe(e,t){const r=Eu.get(e.toString());if(r)return r.ee;const o=new P8;e=oi(e);const i=this._provider.connection.onAccountChange(e,u=>{const c=this._coder.accounts.decode(this._idlAccount.name,u.data);o.emit("change",c)},t);return Eu.set(e.toString(),{ee:o,listener:i}),o}async unsubscribe(e){let t=Eu.get(e.toString());if(!t){console.warn("Address is not subscribed");return}Eu&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Eu.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return rn.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(oi(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(oi(e),t)}}const Eu=new Map;class UB{static build(e,t,r,o,i,u,c){return async(...w)=>{var _;const A=t(...w),[,R]=Wh(e,[...w]);let b;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{b=await o.simulate(A,R.signers,(_=R.options)===null||_===void 0?void 0:_.commitment)}catch(O){throw VM(O,r)}if(b===void 0)throw new Error("Unable to simulate transaction");const x=b.logs;if(!x)throw new Error("Simulated logs not found");const C=[];if(c.events){let O=new tA(u,i);for(const k of O.parseLogs(x))C.push(k)}return{events:C,raw:x}}}}function r0(n){return new nA(zl(8),e=>Wg.fromBuffer(e),e=>e.toBuffer(),n)}function vc(n){return new nA(zl(32),e=>new re(e),e=>e.toBuffer(),n)}function i0(n,e){return new DB(n,e)}class nA extends Dh{constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class DB extends Dh{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Vi()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Wg extends Ft{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Wg([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}const zB=sn([vc("mint"),vc("owner"),r0("amount"),i0(vc(),"delegate"),(n=>{const e=JM(SB("discriminator"),null,n);return e.addVariant(0,sn([]),"uninitialized"),e.addVariant(1,sn([]),"initialized"),e.addVariant(2,sn([]),"frozen"),e})("state"),i0(r0(),"isNative"),r0("delegatedAmount"),i0(vc(),"closeAuthority")]);function FB(n){return zB.decode(n)}class WB{constructor(e,t,r,o,i,u,c,h){this._args=e,this._accounts=t,this._provider=r,this._programId=o,this._idlIx=i,this._idlTypes=c,this._customResolver=h,this._accountStore=new HB(r,u,o)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const t=u=>Eo(u)?u.accounts.some(t):!!(u.address||u.pda||u.relations),r=(u,c=[],h=[])=>{for(const w of u)Eo(w)?h.push(...r(w.accounts,[...c,w.name])):h.push([...c,w.name]);return h},o=this._idlIx.accounts.filter(t),i=r(o).filter(u=>!this.get(u)).map(u=>u.reduce((c,h)=>c+"."+h)).map(u=>`\`${u}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${i}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,o)=>r&&r[o],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((o,i)=>{var u;i===e.length-1&&(r[o]=t),r[o]=(u=r[o])!==null&&u!==void 0?u:{},r=r[o]})}resolveOptionalsHelper(e,t){const r={};for(const o of t){const i=o.name,u=e[i];u!==void 0&&(rA(u)?Eo(o)?r[i]=this.resolveOptionalsHelper(u,o.accounts):r[i]=iA(u):u!==null?r[i]=oi(u):o.optional&&(r[i]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const r in e){const o=e[r];Eo(o)&&this.resolveEventCpi(o.accounts,[...t,o.name]);const i=+r+1;if(i===e.length)return;const u=e[r].name,c=e[i].name;if(u==="eventAuthority"&&c==="program"){const h=[...t,u],w=[...t,c];this.get(h)||this.set(h,re.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(w)||this.set(w,this._programId);return}}}resolveConst(e,t=[]){for(const r of e){const o=r.name;if(Eo(r))this.resolveConst(r.accounts,[...t,o]);else{const i=r;if((i.signer||i.address)&&!this.get([...t,o])){if(i.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,o],this._provider.publicKey)}i.address&&this.set([...t,o],oi(i.address))}}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(const o of e){const i=o.name;if(Eo(o))r+=await this.resolvePdasAndRelations(o.accounts,[...t,i]);else{const u=o;if((u.pda||u.relations)&&!this.get([...t,i])){r++;try{if(u.pda){const c=await Promise.all(u.pda.seeds.map(_=>this.toBuffer(_,t)));if(c.some(_=>!_))continue;const h=await this.parseProgramId(u,t),[w]=re.findProgramAddressSync(c,h);this.set([...t,i],w)}}catch{}try{if(u.relations){const c=this.get([...t,u.relations[0]]);if(c){const h=await this._accountStore.fetchAccount({publicKey:c});this.set([...t,i],h[i])}}}catch{}}}}return r}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const o=await this.toBuffer(e.pda.program,t);if(!o)throw new Error(`Program seed not resolved: ${e.name}`);return new re(o)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...r]=e.path.split("."),o=this._idlIx.args.findIndex(c=>c.name===t);if(o===-1)throw new Error(`Unable to find argument for seed: ${t}`);const i=r.reduce((c,h)=>(c??{})[h],this._args[o]);if(i===void 0)return;const u=this.getType(this._idlIx.args[o].type,r);return this.toBufferValue(u,i)}async toBufferAccount(e,t=[]){const[r,...o]=e.path.split("."),i=this.get([...t,r]);if(!i)return;if(!o.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let c=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),h=o;for(;h.length>0;)c=c[h[0]],h=h.slice(1);if(c===void 0)return;const w=this.getType({defined:{name:e.account}},o);return this.toBufferValue(w,c)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Buffer.from([t]);case"u16":case"i16":return new Ft(t).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new Ft(t).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new Ft(t).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new Ft(t).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new Ft(t).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(t);case"pubkey":return t.toBuffer();case"bytes":return Buffer.from(t);default:if(e!=null&&e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;const o=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(o){if(o==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const i=this._idlTypes.find(_=>_.name===o);if(!i)throw new Error(`Type not found: ${o}`);const[u,...c]=t,w=i.type.fields.find(_=>_.name===u);if(!w)throw new Error(`Field not found: ${u}`);return this.getType(w.type,c)}return e}}class HB{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const r=e.toBase58();if(!this._cache.has(r)){const o=await this._provider.connection.getAccountInfo(e);if(o===null)throw new Error(`Account not found: ${r}`);if(t==="tokenAccount"){const i=FB(o.data);this._cache.set(r,i)}else{const i=await this.getAccountsNs(o.owner);if(i){const u=Object.values(i)[0];if(u){const c=u.coder.accounts.decodeAny(o.data);this._cache.set(r,c)}}}}return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const r=await Qa.fetchIdl(e,this._provider);if(r){const o=new Qa(r,this._provider);this._idls[t]=o.account}}return this._idls[t]}}class KB{static build(e,t,r,o,i,u,c,h,w,_,A){return(...R)=>new jB(R,o,i,u,c,h,e,t,r,w,_,A)}}function rA(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function iA(n,e){const t={};for(const r in n){const o=n[r];if(o===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[r]=rA(o)?iA(o):oi(o)}return t}class jB{constructor(e,t,r,o,i,u,c,h,w,_,A,R){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=o,this._simulateFn=i,this._viewFn=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new WB(e,this._accounts,c,h,w,_,A,R)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class VB{static build(e,t,r,o){const i=t.accounts.find(h=>h.writable),u=!!t.returns;return i||!u?void 0:async(...h)=>{let w=await r(...h);const _=`Program return: ${e} `;let A=w.raw.find(C=>C.startsWith(_));if(!A)throw new Error("View expected return log");let R=gS(A.slice(_.length)),b=t.returns;if(!b)throw new Error("View expected return type");return at.fieldLayout({type:b},o.types).decode(R)}}}class $B{static build(e,t,r,o,i){const u={},c={},h={},w={},_={},A={},R=j8(e),b=e.accounts?LB.build(e,t,r,o):{};return e.instructions.forEach(x=>{const C=$f.build(x,(U,F)=>t.instruction.encode(U,F),r),O=OB.build(x,C),k=BB.build(x,O,R,o),T=UB.build(x,O,R,o,t,r,e),I=VB.build(r,x,T,e),B=KB.build(o,r,x,C,O,k,T,I,b,e.types||[],i==null?void 0:i(x)),P=x.name;c[P]=C,h[P]=O,u[P]=k,w[P]=T,_[P]=B,I&&(A[P]=I)}),[u,c,h,b,w,_,A]}}class Qa{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=zp(),r,o){this._idl=K8(e),this._rawIdl=e,this._provider=t,this._programId=oi(e.address),this._coder=r??new $M(this._idl),this._events=new IB(this._programId,t,this._coder);const[i,u,c,h,w,_,A]=$B.build(this._idl,this._coder,this._programId,t,o);this.rpc=i,this.instruction=u,this.transaction=c,this.account=h,this.simulate=w,this.methods=_,this.views=A}static async at(e,t){const r=oi(e),o=await Qa.fetchIdl(r,t);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new Qa(o,t)}static async fetchIdl(e,t){t=t??zp();const r=oi(e),o=await z8(r),i=await t.connection.getAccountInfo(o);if(!i)return null;let u=H8(i.data.slice(8));const c=B8(u.data);return JSON.parse(D8(c))}addEventListener(e,t,r){return this._events.addEventListener(e,t,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new re("11111111111111111111111111111111");const qB="2ShS3LqcJPc7MzGN95GEcyecRvKp6u932VTfkAUvZZzN",GB={name:"dex",version:"0.1.0",spec:"0.1.0",description:"Created with Arcium & Anchor"},ZB=[{name:"create_private_swap",discriminator:[205,214,141,202,97,15,216,157],accounts:[{name:"payer",writable:!0,signer:!0},{name:"temp_wallet",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,109,112,95,119,97,108,108,101,116]},{kind:"account",path:"payer"},{kind:"arg",path:"nonce"}]}},{name:"token_in_mint"},{name:"token_out_mint"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"amount_in",type:"u64"},{name:"min_out",type:"u64"},{name:"nonce",type:"u64"},{name:"computation_offset",type:"u64"},{name:"encrypted_amount_in",type:{array:["u8",32]}},{name:"encrypted_amount_out_min",type:{array:["u8",32]}},{name:"encrypted_token_in",type:{array:["u8",32]}},{name:"encrypted_token_out",type:{array:["u8",32]}},{name:"encrypted_nonce",type:{array:["u8",32]}}]},{name:"execute_swap",discriminator:[56,182,124,215,155,140,157,102],accounts:[{name:"payer",writable:!0,signer:!0},{name:"settlement_request",writable:!0},{name:"token_in_mapping",pda:{seeds:[{kind:"const",value:[116,111,107,101,110]},{kind:"account",path:"settlement_request.token_in",account:"SettlementRequest"}]}},{name:"token_out_mapping",pda:{seeds:[{kind:"const",value:[116,111,107,101,110]},{kind:"account",path:"settlement_request.token_out",account:"SettlementRequest"}]}},{name:"jupiter_program"}],args:[{name:"data",type:"bytes"}]},{name:"fund_and_place_order",discriminator:[193,100,41,37,55,79,247,204],accounts:[{name:"payer",writable:!0,signer:!0},{name:"temp_wallet",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,109,112,95,119,97,108,108,101,116]},{kind:"account",path:"temp_wallet.user",account:"TempWallet"},{kind:"account",path:"temp_wallet.nonce",account:"TempWallet"}]}},{name:"temp_token_account",pda:{seeds:[{kind:"account",path:"temp_wallet"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"temp_wallet.token_in_mint",account:"TempWallet"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"sign_pda_account",writable:!0,pda:{seeds:[{kind:"const",value:[83,105,103,110,101,114,65,99,99,111,117,110,116]}]}},{name:"settlement_request",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,116,116,108,101,109,101,110,116]},{kind:"account",path:"temp_wallet.nonce",account:"TempWallet"}]}},{name:"mxe_account"},{name:"mempool_account",writable:!0},{name:"executing_pool",writable:!0},{name:"computation_account",writable:!0},{name:"comp_def_account"},{name:"cluster_account",writable:!0},{name:"pool_account",writable:!0,address:"7MGSS4iKNM4sVib7bDZDJhVqB6EcchPwVnTKenCY1jt3"},{name:"clock_account",address:"FHriyvoZotYiFnbUzKFjzRSb2NiaC8RPWY7jtKuKhg65"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"arcium_program",address:"BKck65TgoKRokMjQM3datB9oRwJ8rAj2jxPXvHXUvcL6"}],args:[{name:"computation_offset",type:"u64"}]},{name:"init_match_order_comp_def",discriminator:[85,62,236,175,167,117,54,194],accounts:[{name:"payer",writable:!0,signer:!0},{name:"mxe_account",writable:!0},{name:"comp_def_account",writable:!0},{name:"arcium_program",address:"BKck65TgoKRokMjQM3datB9oRwJ8rAj2jxPXvHXUvcL6"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"init_settlement_test",discriminator:[18,121,79,13,252,80,248,234],accounts:[{name:"payer",writable:!0,signer:!0},{name:"settlement_request",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,116,116,108,101,109,101,110,116]},{kind:"arg",path:"public_nonce"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"public_nonce",type:"u64"}]},{name:"match_order_callback",discriminator:[118,84,201,30,56,54,186,28],accounts:[{name:"arcium_program",address:"BKck65TgoKRokMjQM3datB9oRwJ8rAj2jxPXvHXUvcL6"},{name:"comp_def_account"},{name:"instructions_sysvar",address:"Sysvar1nstructions1111111111111111111111111"},{name:"settlement_request",writable:!0}],args:[{name:"output",type:{defined:{name:"ComputationOutputs",generics:[{kind:"type",type:{defined:{name:"SwapOrder"}}}]}}}]},{name:"place_order",discriminator:[51,194,155,175,109,130,96,106],accounts:[{name:"payer",writable:!0,signer:!0},{name:"sign_pda_account",writable:!0,pda:{seeds:[{kind:"const",value:[83,105,103,110,101,114,65,99,99,111,117,110,116]}]}},{name:"settlement_request",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,116,116,108,101,109,101,110,116]},{kind:"arg",path:"public_nonce"}]}},{name:"mxe_account"},{name:"mempool_account",writable:!0},{name:"executing_pool",writable:!0},{name:"computation_account",writable:!0},{name:"comp_def_account"},{name:"cluster_account",writable:!0},{name:"pool_account",writable:!0,address:"7MGSS4iKNM4sVib7bDZDJhVqB6EcchPwVnTKenCY1jt3"},{name:"clock_account",address:"FHriyvoZotYiFnbUzKFjzRSb2NiaC8RPWY7jtKuKhg65"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"arcium_program",address:"BKck65TgoKRokMjQM3datB9oRwJ8rAj2jxPXvHXUvcL6"}],args:[{name:"computation_offset",type:"u64"},{name:"amount_in",type:{array:["u8",32]}},{name:"amount_out_min",type:{array:["u8",32]}},{name:"token_in",type:{array:["u8",32]}},{name:"token_out",type:{array:["u8",32]}},{name:"nonce",type:{array:["u8",32]}},{name:"public_nonce",type:"u64"}]},{name:"register_token",discriminator:[32,146,36,240,80,183,36,84],accounts:[{name:"payer",writable:!0,signer:!0},{name:"token_mapping",writable:!0,pda:{seeds:[{kind:"const",value:[116,111,107,101,110]},{kind:"arg",path:"id"}]}},{name:"mint",docs:["However, to avoid importing spl-token crate if not needed, we can just use UncheckedAccount or check owner.","Since we imported anchor_spl::token::TokenAccount, let's assume we can import Mint.","But wait, the user didn't import Mint in line 3, only Token and TokenAccount.","Let's use UncheckedAccount for flexibility or add Mint to imports."]},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"id",type:"u64"}]},{name:"return_tokens_to_user",discriminator:[70,154,244,128,50,248,160,97],accounts:[{name:"payer",writable:!0,signer:!0},{name:"temp_wallet",writable:!0,pda:{seeds:[{kind:"const",value:[116,101,109,112,95,119,97,108,108,101,116]},{kind:"account",path:"user"},{kind:"account",path:"temp_wallet.nonce",account:"TempWallet"}]}},{name:"user",writable:!0,relations:["temp_wallet"]},{name:"temp_token_account_out",writable:!0,pda:{seeds:[{kind:"account",path:"temp_wallet"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"temp_wallet.token_out_mint",account:"TempWallet"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_token_account_out",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"temp_wallet.token_out_mint",account:"TempWallet"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"simulate_match_order",discriminator:[216,13,16,207,35,1,54,183],accounts:[{name:"settlement_request",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,116,116,108,101,109,101,110,116]},{kind:"arg",path:"nonce"}]}},{name:"payer",signer:!0}],args:[{name:"amount_in",type:"u64"},{name:"amount_out_min",type:"u64"},{name:"token_in",type:"u64"},{name:"token_out",type:"u64"},{name:"nonce",type:"u64"}]}],YB=[{name:"ClockAccount",discriminator:[152,171,158,195,75,61,51,8]},{name:"Cluster",discriminator:[236,225,118,228,173,106,18,60]},{name:"ComputationDefinitionAccount",discriminator:[245,176,217,221,253,104,172,200]},{name:"FeePool",discriminator:[172,38,77,146,148,5,51,242]},{name:"MXEAccount",discriminator:[103,26,85,250,179,159,17,117]},{name:"SettlementRequest",discriminator:[140,131,219,225,201,122,84,250]},{name:"SignerAccount",discriminator:[127,212,7,180,17,50,249,193]},{name:"TempWallet",discriminator:[82,29,213,91,55,156,42,181]},{name:"TokenMapping",discriminator:[104,139,7,87,39,194,54,196]}],XB=[{name:"OrderSettledEvent",discriminator:[185,161,5,82,115,42,141,114]},{name:"TempWalletCreated",discriminator:[142,170,131,117,98,56,64,4]}],QB=[{code:6e3,name:"AbortedComputation",msg:"The computation was aborted"},{code:6001,name:"ClusterNotSet",msg:"Cluster not set"},{code:6002,name:"InvalidSettlementPDA",msg:"Invalid Settlement PDA"},{code:6003,name:"SettlementNotActive",msg:"Settlement Request not active"},{code:6004,name:"InvalidOrderAmount",msg:"Invalid order amount"},{code:6005,name:"AlreadyFunded",msg:"Temp wallet already funded"},{code:6006,name:"InsufficientFunds",msg:"Insufficient funds in temp wallet"}],JB=[{name:"Activation",type:{kind:"struct",fields:[{name:"activation_epoch",type:{defined:{name:"Epoch"}}},{name:"deactivation_epoch",type:{defined:{name:"Epoch"}}}]}},{name:"CircuitSource",type:{kind:"enum",variants:[{name:"Local",fields:[{defined:{name:"LocalCircuitSource"}}]},{name:"OnChain",fields:[{defined:{name:"OnChainCircuitSource"}}]},{name:"OffChain",fields:[{defined:{name:"OffChainCircuitSource"}}]}]}},{name:"ClockAccount",docs:["An account storing the current network epoch"],type:{kind:"struct",fields:[{name:"start_epoch",type:{defined:{name:"Epoch"}}},{name:"current_epoch",type:{defined:{name:"Epoch"}}},{name:"start_epoch_timestamp",type:{defined:{name:"Timestamp"}}},{name:"bump",type:"u8"}]}},{name:"Cluster",type:{kind:"struct",fields:[{name:"authority",type:{option:"pubkey"}},{name:"max_size",type:"u32"},{name:"activation",type:{defined:{name:"Activation"}}},{name:"max_capacity",type:"u64"},{name:"cu_price",type:"u64"},{name:"cu_price_proposals",type:{array:["u64",32]}},{name:"last_updated_epoch",type:{defined:{name:"Epoch"}}},{name:"mxes",type:{vec:"pubkey"}},{name:"nodes",type:{vec:{defined:{name:"NodeRef"}}}},{name:"pending_nodes",type:{vec:{defined:{name:"NodeRef"}}}},{name:"bump",type:"u8"}]}},{name:"ComputationDefinitionAccount",docs:["An account representing a [ComputationDefinition] in a MXE."],type:{kind:"struct",fields:[{name:"finalization_authority",type:{option:"pubkey"}},{name:"finalize_during_callback",type:"bool"},{name:"cu_amount",type:"u64"},{name:"definition",type:{defined:{name:"ComputationDefinitionMeta"}}},{name:"circuit_source",type:{defined:{name:"CircuitSource"}}},{name:"bump",type:"u8"}]}},{name:"ComputationDefinitionMeta",docs:["A computation definition for execution in a MXE."],type:{kind:"struct",fields:[{name:"circuit_len",type:"u32"},{name:"signature",type:{defined:{name:"ComputationSignature"}}}]}},{name:"ComputationOutputs",generics:[{kind:"type",name:"O"}],type:{kind:"enum",variants:[{name:"Success",fields:[{generic:"O"}]},{name:"Failure"}]}},{name:"ComputationSignature",docs:["The signature of a computation defined in a [ComputationDefinition]."],type:{kind:"struct",fields:[{name:"parameters",type:{vec:{defined:{name:"Parameter"}}}},{name:"outputs",type:{vec:{defined:{name:"Output"}}}}]}},{name:"Epoch",docs:["The network epoch"],type:{kind:"struct",fields:["u64"]}},{name:"FeePool",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}},{name:"LocalCircuitSource",type:{kind:"enum",variants:[{name:"MxeKeygen"}]}},{name:"MXEAccount",docs:["A MPC Execution Environment."],type:{kind:"struct",fields:[{name:"authority",type:{option:"pubkey"}},{name:"cluster",type:{option:"u32"}},{name:"x25519_pubkey",type:{defined:{name:"X25519Pubkey"}}},{name:"fallback_clusters",type:{vec:"u32"}},{name:"rejected_clusters",type:{vec:"u32"}},{name:"computation_definitions",type:{vec:"u32"}},{name:"bump",type:"u8"}]}},{name:"NodeRef",docs:["A reference to a node in the cluster.","The offset is to derive the Node Account.","The current_total_rewards is the total rewards the node has received so far in the current","epoch."],type:{kind:"struct",fields:[{name:"offset",type:"u32"},{name:"current_total_rewards",type:"u64"},{name:"vote",type:"u8"}]}},{name:"OffChainCircuitSource",type:{kind:"struct",fields:[{name:"source",type:"string"},{name:"hash",type:{array:["u8",32]}}]}},{name:"OnChainCircuitSource",type:{kind:"struct",fields:[{name:"is_completed",type:"bool"},{name:"upload_auth",type:"pubkey"}]}},{name:"OrderSettledEvent",type:{kind:"struct",fields:[{name:"amount_in",type:"u64"},{name:"min_out",type:"u64"},{name:"token_in",type:"u64"},{name:"token_out",type:"u64"},{name:"nonce",type:"u64"}]}},{name:"Output",docs:["An output of a computation.","We currently don't support encrypted outputs yet since encrypted values are passed via","data objects."],type:{kind:"enum",variants:[{name:"PlaintextBool"},{name:"PlaintextU8"},{name:"PlaintextU16"},{name:"PlaintextU32"},{name:"PlaintextU64"},{name:"PlaintextU128"},{name:"Ciphertext"},{name:"ArcisPubkey"},{name:"PlaintextFloat"}]}},{name:"Parameter",docs:["A parameter of a computation.","We differentiate between plaintext and encrypted parameters and data objects.","Plaintext parameters are directly provided as their value.","Encrypted parameters are provided as an offchain reference to the data.","Data objects are provided as a reference to the data object account."],type:{kind:"enum",variants:[{name:"PlaintextBool"},{name:"PlaintextU8"},{name:"PlaintextU16"},{name:"PlaintextU32"},{name:"PlaintextU64"},{name:"PlaintextU128"},{name:"Ciphertext"},{name:"ArcisPubkey"},{name:"ArcisSignature"},{name:"PlaintextFloat"},{name:"ManticoreAlgo"},{name:"InputDataset"}]}},{name:"SettlementRequest",type:{kind:"struct",fields:[{name:"amount_in",type:"u64"},{name:"min_out",type:"u64"},{name:"token_in",type:"u64"},{name:"token_out",type:"u64"},{name:"nonce",type:"u64"},{name:"active",type:"bool"},{name:"bump",type:"u8"}]}},{name:"SignerAccount",type:{kind:"struct",fields:[{name:"bump",type:"u8"}]}},{name:"SwapOrder",type:{kind:"struct",fields:[{name:"amount_in",type:"u64"},{name:"amount_out_min",type:"u64"},{name:"token_in",type:"u64"},{name:"token_out",type:"u64"},{name:"nonce",type:"u64"}]}},{name:"TempWallet",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token_in_mint",type:"pubkey"},{name:"token_out_mint",type:"pubkey"},{name:"amount_in",type:"u64"},{name:"min_out",type:"u64"},{name:"nonce",type:"u64"},{name:"active",type:"bool"},{name:"is_funded",type:"bool"},{name:"computation_offset",type:"u64"},{name:"encrypted_amount_in",type:{array:["u8",32]}},{name:"encrypted_amount_out_min",type:{array:["u8",32]}},{name:"encrypted_token_in",type:{array:["u8",32]}},{name:"encrypted_token_out",type:{array:["u8",32]}},{name:"encrypted_nonce",type:{array:["u8",32]}},{name:"bump",type:"u8"}]}},{name:"TempWalletCreated",type:{kind:"struct",fields:[{name:"temp_wallet",type:"pubkey"},{name:"user",type:"pubkey"},{name:"token_in",type:"pubkey"},{name:"token_out",type:"pubkey"},{name:"amount",type:"u64"},{name:"nonce",type:"u64"}]}},{name:"Timestamp",type:{kind:"struct",fields:[{name:"timestamp",type:"u64"}]}},{name:"TokenMapping",type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"id",type:"u64"}]}},{name:"X25519Pubkey",type:{kind:"enum",variants:[{name:"Set",fields:[{array:["u8",32]}]},{name:"Unset",fields:[{array:["u8",32]},{vec:"bool"}]}]}}],oA={address:qB,metadata:GB,instructions:ZB,accounts:YB,events:XB,errors:QB,types:JB},sA=new re(oA.address);function e5(){return new gg("https://api.devnet.solana.com","confirmed")}function t5(n){return new bl(e5(),n,{preflightCommitment:"confirmed"})}function n5(n){return new Qa(oA,sA,n)}function jw(n,e){return re.findProgramAddressSync([Buffer.from("settlement"),e.toArrayLike(Buffer,"le",8)],n)[0]}function _c(n,e){return re.findProgramAddressSync([Buffer.from("token"),e.toArrayLike(Buffer,"le",8)],n)[0]}function r5(n,e,t){return re.findProgramAddressSync([Buffer.from("temp_wallet"),e.toBuffer(),t.toArrayLike(Buffer,"le",8)],n)[0]}function i5(){const n=dN(),[e,t]=ce.useState("1"),[r,o]=ce.useState("2"),[i,u]=ce.useState(""),[c,h]=ce.useState(""),[w,_]=ce.useState("1000000"),[A,R]=ce.useState("950000"),[b,x]=ce.useState(()=>Date.now().toString()),[C,O]=ce.useState(""),k=ce.useMemo(()=>n?t5(n):null,[n]),T=ce.useMemo(()=>k?n5(k):null,[k]);async function I(){if(!T||!(n!=null&&n.publicKey))return;const j=new Ft(e),V=new Ft(r),G=new re(i),H=new re(c),Z=_c(T.programId,j),m=_c(T.programId,V);await T.methods.registerToken(j).accounts({payer:n.publicKey,tokenMapping:Z,mint:G}).rpc(),await T.methods.registerToken(V).accounts({payer:n.publicKey,tokenMapping:m,mint:H}).rpc(),O("tokens registered")}async function B(){if(!T||!(n!=null&&n.publicKey))return;const j=new Ft(b),V=new Ft(w),G=new Ft(A),H=r5(T.programId,n.publicKey,j),Z=new Array(32).fill(0);try{await T.methods.createPrivateSwap(V,G,j,new Ft(0),Z,Z,Z,Z,Z).accounts({payer:n.publicKey,tempWallet:H,tokenInMint:new re(i),tokenOutMint:new re(c)}).rpc(),O(`Swap created! Temp Wallet: ${H.toBase58()}`)}catch(m){console.error(m),O("Error creating swap: "+m)}}async function P(){if(!T||!(n!=null&&n.publicKey))return;const j=new Ft(b),V=jw(T.programId,j);await T.methods.initSettlementTest(j).accounts({payer:n.publicKey,settlementRequest:V}).rpc(),O("settlement initialized")}async function U(){if(!T||!(n!=null&&n.publicKey))return;const j=new Ft(b);await T.methods.simulateMatchOrder(new Ft(w),new Ft(A),new Ft(e),new Ft(r),j).accounts({payer:n.publicKey}).rpc(),O("settlement active")}async function F(){if(!T||!(n!=null&&n.publicKey))return;const j=new Ft(b),V=jw(T.programId,j),G=_c(T.programId,new Ft(e)),H=_c(T.programId,new Ft(r)),Z=Buffer.from([1,2,3]);try{await T.methods.executeSwap(Z).accounts({payer:n.publicKey,settlementRequest:V,tokenInMapping:G,tokenOutMapping:H,jupiterProgram:sA}).rpc(),O("swap executed")}catch{O("swap attempted")}}return zt.jsxs("div",{style:{maxWidth:640,margin:"24px auto",display:"grid",gap:12},children:[zt.jsx(n4,{}),zt.jsx("input",{placeholder:"token in id",value:e,onChange:j=>t(j.target.value)}),zt.jsx("input",{placeholder:"token out id",value:r,onChange:j=>o(j.target.value)}),zt.jsx("input",{placeholder:"token in mint",value:i,onChange:j=>u(j.target.value)}),zt.jsx("input",{placeholder:"token out mint",value:c,onChange:j=>h(j.target.value)}),zt.jsx("input",{placeholder:"amount in",value:w,onChange:j=>_(j.target.value)}),zt.jsx("input",{placeholder:"min out",value:A,onChange:j=>R(j.target.value)}),zt.jsx("input",{placeholder:"nonce",value:b,onChange:j=>x(j.target.value)}),zt.jsx("button",{onClick:I,children:"Register Tokens"}),zt.jsx("button",{onClick:B,children:"Create Private Swap (User)"}),zt.jsx("hr",{style:{width:"100%"}}),zt.jsx("div",{children:"Test / Keeper Functions:"}),zt.jsx("button",{onClick:P,children:"Init Settlement"}),zt.jsx("button",{onClick:U,children:"Simulate Match"}),zt.jsx("button",{onClick:F,children:"Execute Swap"}),zt.jsx("div",{children:C})]})}function o5(){const n=ce.useMemo(()=>[new i4],[]);return zt.jsx(sN,{endpoint:"https://api.devnet.solana.com",children:zt.jsx(GO,{wallets:n,autoConnect:!0,children:zt.jsx(e4,{children:zt.jsx(i5,{})})})})}o0.createRoot(document.getElementById("root")).render(zt.jsx(o5,{}));
